!function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=275)}([,,,function(t,i,n){"use strict";i.__esModule=!0;i.VERSION="4.8.9",i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},i.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},i.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},i.SCALE_MODES={LINEAR:0,NEAREST:1},i.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},i.GC_MODES={AUTO:0,MANUAL:1},i.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,i.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},i.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},i.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},i.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},i.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},,function(t,i,n){"use strict";i.__esModule=!0,i.autoDetectRenderer=i.Application=i.Filter=i.SpriteMaskFilter=i.Quad=i.RenderTarget=i.ObjectRenderer=i.WebGLManager=i.Shader=i.CanvasRenderTarget=i.TextureUvs=i.VideoBaseTexture=i.BaseRenderTexture=i.RenderTexture=i.BaseTexture=i.TextureMatrix=i.Texture=i.Spritesheet=i.CanvasGraphicsRenderer=i.GraphicsRenderer=i.GraphicsData=i.Graphics=i.TextMetrics=i.TextStyle=i.Text=i.SpriteRenderer=i.CanvasTinter=i.CanvasSpriteRenderer=i.Sprite=i.TransformBase=i.TransformStatic=i.Transform=i.Container=i.DisplayObject=i.Bounds=i.glCore=i.WebGLRenderer=i.CanvasRenderer=i.ticker=i.utils=i.settings=void 0;var e=n(3);Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})});var r=n(13);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return r[t]}})});var s=n(20);Object.defineProperty(i,"glCore",{enumerable:!0,get:function(){return Y(s).default}});var o=n(99);Object.defineProperty(i,"Bounds",{enumerable:!0,get:function(){return Y(o).default}});var u=n(154);Object.defineProperty(i,"DisplayObject",{enumerable:!0,get:function(){return Y(u).default}});var h=n(49);Object.defineProperty(i,"Container",{enumerable:!0,get:function(){return Y(h).default}});var a=n(156);Object.defineProperty(i,"Transform",{enumerable:!0,get:function(){return Y(a).default}});var c=n(155);Object.defineProperty(i,"TransformStatic",{enumerable:!0,get:function(){return Y(c).default}});var f=n(101);Object.defineProperty(i,"TransformBase",{enumerable:!0,get:function(){return Y(f).default}});var l=n(103);Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return Y(l).default}});var v=n(305);Object.defineProperty(i,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return Y(v).default}});var d=n(68);Object.defineProperty(i,"CanvasTinter",{enumerable:!0,get:function(){return Y(d).default}});var p=n(308);Object.defineProperty(i,"SpriteRenderer",{enumerable:!0,get:function(){return Y(p).default}});var b=n(323);Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return Y(b).default}});var w=n(169);Object.defineProperty(i,"TextStyle",{enumerable:!0,get:function(){return Y(w).default}});var m=n(170);Object.defineProperty(i,"TextMetrics",{enumerable:!0,get:function(){return Y(m).default}});var y=n(325);Object.defineProperty(i,"Graphics",{enumerable:!0,get:function(){return Y(y).default}});var g=n(171);Object.defineProperty(i,"GraphicsData",{enumerable:!0,get:function(){return Y(g).default}});var T=n(327);Object.defineProperty(i,"GraphicsRenderer",{enumerable:!0,get:function(){return Y(T).default}});var E=n(334);Object.defineProperty(i,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return Y(E).default}});var O=n(335);Object.defineProperty(i,"Spritesheet",{enumerable:!0,get:function(){return Y(O).default}});var x=n(28);Object.defineProperty(i,"Texture",{enumerable:!0,get:function(){return Y(x).default}});var j=n(167);Object.defineProperty(i,"TextureMatrix",{enumerable:!0,get:function(){return Y(j).default}});var C=n(40);Object.defineProperty(i,"BaseTexture",{enumerable:!0,get:function(){return Y(C).default}});var M=n(107);Object.defineProperty(i,"RenderTexture",{enumerable:!0,get:function(){return Y(M).default}});var A=n(162);Object.defineProperty(i,"BaseRenderTexture",{enumerable:!0,get:function(){return Y(A).default}});var S=n(159);Object.defineProperty(i,"VideoBaseTexture",{enumerable:!0,get:function(){return Y(S).default}});var I=n(160);Object.defineProperty(i,"TextureUvs",{enumerable:!0,get:function(){return Y(I).default}});var R=n(163);Object.defineProperty(i,"CanvasRenderTarget",{enumerable:!0,get:function(){return Y(R).default}});var P=n(52);Object.defineProperty(i,"Shader",{enumerable:!0,get:function(){return Y(P).default}});var _=n(51);Object.defineProperty(i,"WebGLManager",{enumerable:!0,get:function(){return Y(_).default}});var k=n(69);Object.defineProperty(i,"ObjectRenderer",{enumerable:!0,get:function(){return Y(k).default}});var F=n(71);Object.defineProperty(i,"RenderTarget",{enumerable:!0,get:function(){return Y(F).default}});var N=n(168);Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return Y(N).default}});var D=n(165);Object.defineProperty(i,"SpriteMaskFilter",{enumerable:!0,get:function(){return Y(D).default}});var L=n(166);Object.defineProperty(i,"Filter",{enumerable:!0,get:function(){return Y(L).default}});var U=n(172);Object.defineProperty(i,"Application",{enumerable:!0,get:function(){return Y(U).default}});var X=n(173);Object.defineProperty(i,"autoDetectRenderer",{enumerable:!0,get:function(){return X.autoDetectRenderer}});var B=z(n(6)),W=z(n(106)),V=Y(n(11)),G=Y(n(50)),H=Y(n(70));function z(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}function Y(t){return t&&t.__esModule?t:{default:t}}i.settings=V.default,i.utils=B,i.ticker=W,i.CanvasRenderer=G.default,i.WebGLRenderer=H.default},function(t,i,n){"use strict";i.__esModule=!0,i.premultiplyBlendMode=i.BaseTextureCache=i.TextureCache=i.earcut=i.mixins=i.pluginTarget=i.EventEmitter=i.removeItems=i.isMobile=void 0,i.uid=function(){return++d},i.hex2rgb=function(t,i){return(i=i||[])[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,i},i.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},i.getResolutionOfUrl=function(t,i){var n=r.default.RETINA_PREFIX.exec(t);if(n)return parseFloat(n[1]);return void 0!==i?i:1},i.decomposeDataUri=function(t){var i=e.DATA_URI.exec(t);if(i)return{mediaType:i[1]?i[1].toLowerCase():void 0,subType:i[2]?i[2].toLowerCase():void 0,charset:i[3]?i[3].toLowerCase():void 0,encoding:i[4]?i[4].toLowerCase():void 0,data:i[5]};return},i.getUrlFileExtension=function(t){var i=e.URL_FILE_EXTENSION.exec(t);if(i)return i[1].toLowerCase();return},i.getSvgSize=function(t){var i=e.SVG_SIZE.exec(t),n={};i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7])));return n},i.skipHello=function(){p=!0},i.sayHello=function(t){if(p)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS "+e.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,i)}else window.console&&window.console.log("PixiJS "+e.VERSION+" - "+t+" - http://www.pixijs.com/");p=!0},i.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var i=document.createElement("canvas"),n=i.getContext("webgl",t)||i.getContext("experimental-webgl",t),e=!(!n||!n.getContextAttributes().stencil);if(n){var r=n.getExtension("WEBGL_lose_context");r&&r.loseContext()}return n=null,e}catch(t){return!1}},i.sign=function(t){return 0===t?0:t<0?-1:1},i.destroyTextureCache=function(){var t=void 0;for(t in b)b[t].destroy();for(t in w)w[t].destroy()},i.clearTextureCache=function(){var t=void 0;for(t in b)delete b[t];for(t in w)delete w[t]},i.correctBlendMode=function(t,i){return m[i?1:0][t]},i.premultiplyTint=function(t,i){if(1===i)return(255*i<<24)+t;if(0===i)return 0;var n=t>>16&255,e=t>>8&255,r=255&t;return(255*i<<24)+((n=n*i+.5|0)<<16)+((e=e*i+.5|0)<<8)+(r=r*i+.5|0)},i.premultiplyRgba=function(t,i,n,e){n=n||new Float32Array(4),e||void 0===e?(n[0]=t[0]*i,n[1]=t[1]*i,n[2]=t[2]*i):(n[0]=t[0],n[1]=t[1],n[2]=t[2]);return n[3]=i,n},i.premultiplyTintToRgba=function(t,i,n,e){(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(e||void 0===e)&&(n[0]*=i,n[1]*=i,n[2]*=i);return n[3]=i,n};var e=n(3),r=v(n(11)),s=v(n(34)),o=v(n(294)),u=l(n(295)),h=l(n(100)),a=v(n(296)),c=v(n(297)),f=v(n(102));function l(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}function v(t){return t&&t.__esModule?t:{default:t}}var d=0,p=!1;i.isMobile=h,i.removeItems=a.default,i.EventEmitter=s.default,i.pluginTarget=o.default,i.mixins=u,i.earcut=f.default;var b=i.TextureCache=Object.create(null),w=i.BaseTextureCache=Object.create(null);var m=i.premultiplyBlendMode=(0,c.default)()},,,,,function(t,i,n){"use strict";i.__esModule=!0;var e=s(n(292)),r=s(n(293));function s(t){return t&&t.__esModule?t:{default:t}}i.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,e.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,r.default)(),MESH_CANVAS_PADDING:0}},function(t,i){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,i,n){"use strict";i.__esModule=!0;var e=n(95);Object.defineProperty(i,"Point",{enumerable:!0,get:function(){return l(e).default}});var r=n(143);Object.defineProperty(i,"ObservablePoint",{enumerable:!0,get:function(){return l(r).default}});var s=n(96);Object.defineProperty(i,"Matrix",{enumerable:!0,get:function(){return l(s).default}});var o=n(144);Object.defineProperty(i,"GroupD8",{enumerable:!0,get:function(){return l(o).default}});var u=n(282);Object.defineProperty(i,"Circle",{enumerable:!0,get:function(){return l(u).default}});var h=n(283);Object.defineProperty(i,"Ellipse",{enumerable:!0,get:function(){return l(h).default}});var a=n(284);Object.defineProperty(i,"Polygon",{enumerable:!0,get:function(){return l(a).default}});var c=n(97);Object.defineProperty(i,"Rectangle",{enumerable:!0,get:function(){return l(c).default}});var f=n(285);function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"RoundedRectangle",{enumerable:!0,get:function(){return l(f).default}})},,,,,function(t,i){var n,e,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(i){try{return n.call(null,t,0)}catch(i){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var h,a=[],c=!1,f=-1;function l(){c&&h&&(c=!1,h.length?a=h.concat(a):f=-1,a.length&&v())}function v(){if(!c){var t=u(l);c=!0;for(var i=a.length;i;){for(h=a,a=[];++f<i;)h&&h[f].run();f=-1,i=a.length}h=null,c=!1,function(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{e(t)}catch(i){try{return e.call(null,t)}catch(i){return e.call(this,t)}}}(t)}}function d(t,i){this.fun=t,this.array=i}function p(){}r.nextTick=function(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)i[n-1]=arguments[n];a.push(new d(t,i)),1!==a.length||c||u(v)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(t,i,n){var e={createContext:n(286),setVertexAttribArrays:n(145),GLBuffer:n(287),GLFramebuffer:n(288),GLShader:n(289),GLTexture:n(146),VertexArrayObject:n(290),shader:n(291)};t.exports&&(t.exports=e),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=e)},,,,function(t,i,n){(function(t){function n(t,i){for(var n=0,e=t.length-1;e>=0;e--){var r=t[e];"."===r?t.splice(e,1):".."===r?(t.splice(e,1),n++):n&&(t.splice(e,1),n--)}if(i)for(;n--;n)t.unshift("..");return t}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return e.exec(t).slice(1)};function s(t,i){if(t.filter)return t.filter(i);for(var n=[],e=0;e<t.length;e++)i(t[e],e,t)&&n.push(t[e]);return n}i.resolve=function(){for(var i="",e=!1,r=arguments.length-1;r>=-1&&!e;r--){var o=r>=0?arguments[r]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(i=o+"/"+i,e="/"===o.charAt(0))}return(e?"/":"")+(i=n(s(i.split("/"),function(t){return!!t}),!e).join("/"))||"."},i.normalize=function(t){var e=i.isAbsolute(t),r="/"===o(t,-1);return(t=n(s(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(s(t,function(t,i){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},i.relative=function(t,n){function e(t){for(var i=0;i<t.length&&""===t[i];i++);for(var n=t.length-1;n>=0&&""===t[n];n--);return i>n?[]:t.slice(i,n-i+1)}t=i.resolve(t).substr(1),n=i.resolve(n).substr(1);for(var r=e(t.split("/")),s=e(n.split("/")),o=Math.min(r.length,s.length),u=o,h=0;h<o;h++)if(r[h]!==s[h]){u=h;break}var a=[];for(h=u;h<r.length;h++)a.push("..");return(a=a.concat(s.slice(u))).join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){var i=r(t),n=i[0],e=i[1];return n||e?(e&&(e=e.substr(0,e.length-1)),n+e):"."},i.basename=function(t,i){var n=r(t)[2];return i&&n.substr(-1*i.length)===i&&(n=n.substr(0,n.length-i.length)),n},i.extname=function(t){return r(t)[3]};var o="b"==="ab".substr(-1)?function(t,i,n){return t.substr(i,n)}:function(t,i,n){return i<0&&(i=t.length+i),t.substr(i,n)}}).call(this,n(18))},,,,function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=f(n(40)),s=f(n(159)),o=f(n(160)),u=f(n(34)),h=n(13),a=n(6),c=f(n(11));function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function i(n,e,r,s,o,u){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));if(a.noFrame=!1,e||(a.noFrame=!0,e=new h.Rectangle(0,0,1,1)),n instanceof i&&(n=n.baseTexture),a.baseTexture=n,a._frame=e,a.trim=s,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=r||e,a._rotate=Number(o||0),!0===o)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(a.noFrame&&(e=new h.Rectangle(0,0,n.width,n.height),n.on("update",a.onBaseTextureUpdated,a)),a.frame=e):n.once("loaded",a.onBaseTextureLoaded,a),a.defaultAnchor=u?new h.Point(u.x,u.y):new h.Point(0,0),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&(a.TextureCache[this.baseTexture.imageUrl]&&i.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,i.removeFromCache(this),this.textureCacheIds=null},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new o.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},i.fromImage=function(t,n,e,s){var o=a.TextureCache[t];return o||(o=new i(r.default.fromImage(t,n,e,s)),i.addToCache(o,t)),o},i.fromFrame=function(t){var i=a.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return i},i.fromCanvas=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new i(r.default.fromCanvas(t,n,e))},i.fromVideo=function(t,n,e,r){return"string"==typeof t?i.fromVideoUrl(t,n,e,r):new i(s.default.fromVideo(t,n,r))},i.fromVideoUrl=function(t,n,e,r){return new i(s.default.fromUrl(t,n,e,r))},i.from=function(t){if("string"==typeof t){var n=a.TextureCache[t];return n||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?i.fromVideoUrl(t):i.fromImage(t))}return t instanceof HTMLImageElement?new i(r.default.from(t)):t instanceof HTMLCanvasElement?i.fromCanvas(t,c.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?i.fromVideo(t):t instanceof r.default?new i(t):t},i.fromLoader=function(t,n,e){var s=new r.default(t,void 0,(0,a.getResolutionOfUrl)(n)),o=new i(s);return s.imageUrl=n,e||(e=n),r.default.addToCache(o.baseTexture,e),i.addToCache(o,e),e!==n&&(r.default.addToCache(o.baseTexture,n),i.addToCache(o,n)),o},i.addToCache=function(t,i){i&&(-1===t.textureCacheIds.indexOf(i)&&t.textureCacheIds.push(i),a.TextureCache[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),a.TextureCache[i]=t)},i.removeFromCache=function(t){if("string"==typeof t){var i=a.TextureCache[t];if(i){var n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete a.TextureCache[t],i}}else if(t&&t.textureCacheIds){for(var e=0;e<t.textureCacheIds.length;++e)a.TextureCache[t.textureCacheIds[e]]===t&&delete a.TextureCache[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null},e(i,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var i=t.x,n=t.y,e=t.width,r=t.height,s=i+e>this.baseTexture.width,o=n+r>this.baseTexture.height;if(s||o){var u=s&&o?"and":"or",h="X: "+i+" + "+e+" = "+(i+e)+" > "+this.baseTexture.width,a="Y: "+n+" + "+r+" = "+(n+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+u+" "+a)}this.valid=e&&r&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),i}(u.default);function v(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}i.default=l,l.EMPTY=new l(new r.default),v(l.EMPTY),v(l.EMPTY.baseTexture),l.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var i=t.getContext("2d");return i.fillStyle="white",i.fillRect(0,0,10,10),new l(new r.default(t))}(),v(l.WHITE),v(l.WHITE.baseTexture)},,,,,,function(t,i,n){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function s(){}function o(t,i,n){this.fn=t,this.context=i,this.once=n||!1}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,i,n=[];if(0===this._eventsCount)return n;for(i in t=this._events)e.call(t,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t,i){var n=r?r+t:t,e=this._events[n];if(i)return!!e;if(!e)return[];if(e.fn)return[e.fn];for(var s=0,o=e.length,u=new Array(o);s<o;s++)u[s]=e[s].fn;return u},u.prototype.emit=function(t,i,n,e,s,o){var u=r?r+t:t;if(!this._events[u])return!1;var h,a,c=this._events[u],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,i),!0;case 3:return c.fn.call(c.context,i,n),!0;case 4:return c.fn.call(c.context,i,n,e),!0;case 5:return c.fn.call(c.context,i,n,e,s),!0;case 6:return c.fn.call(c.context,i,n,e,s,o),!0}for(a=1,h=new Array(f-1);a<f;a++)h[a-1]=arguments[a];c.fn.apply(c.context,h)}else{var l,v=c.length;for(a=0;a<v;a++)switch(c[a].once&&this.removeListener(t,c[a].fn,void 0,!0),f){case 1:c[a].fn.call(c[a].context);break;case 2:c[a].fn.call(c[a].context,i);break;case 3:c[a].fn.call(c[a].context,i,n);break;case 4:c[a].fn.call(c[a].context,i,n,e);break;default:if(!h)for(l=1,h=new Array(f-1);l<f;l++)h[l-1]=arguments[l];c[a].fn.apply(c[a].context,h)}}return!0},u.prototype.on=function(t,i,n){var e=new o(i,n||this),s=r?r+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],e]:this._events[s].push(e):(this._events[s]=e,this._eventsCount++),this},u.prototype.once=function(t,i,n){var e=new o(i,n||this,!0),s=r?r+t:t;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],e]:this._events[s].push(e):(this._events[s]=e,this._eventsCount++),this},u.prototype.removeListener=function(t,i,n,e){var o=r?r+t:t;if(!this._events[o])return this;if(!i)return 0==--this._eventsCount?this._events=new s:delete this._events[o],this;var u=this._events[o];if(u.fn)u.fn!==i||e&&!u.once||n&&u.context!==n||(0==--this._eventsCount?this._events=new s:delete this._events[o]);else{for(var h=0,a=[],c=u.length;h<c;h++)(u[h].fn!==i||e&&!u[h].once||n&&u[h].context!==n)&&a.push(u[h]);a.length?this._events[o]=1===a.length?a[0]:a:0==--this._eventsCount?this._events=new s:delete this._events[o]}return this},u.prototype.removeAllListeners=function(t){var i;return t?(i=r?r+t:t,this._events[i]&&(0==--this._eventsCount?this._events=new s:delete this._events[i])):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=r,u.EventEmitter=u,t.exports=u},,,,,,function(t,i,n){"use strict";i.__esModule=!0;var e=n(6),r=h(n(11)),s=h(n(34)),o=h(n(157)),u=h(n(105));function h(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function i(n,s,o){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return u.uid=(0,e.uid)(),u.touched=0,u.resolution=o||r.default.RESOLUTION,u.width=100,u.height=100,u.realWidth=100,u.realHeight=100,u.scaleMode=void 0!==s?s:r.default.SCALE_MODE,u.hasLoaded=!1,u.isLoading=!1,u.source=null,u.origSource=null,u.imageType=null,u.sourceScale=1,u.premultipliedAlpha=!0,u.imageUrl=null,u.isPowerOfTwo=!1,u.mipmap=r.default.MIPMAP_TEXTURES,u.wrapMode=r.default.WRAP_MODE,u._glTextures={},u._enabled=0,u._virtalBoundId=-1,u._destroyed=!1,u.textureCacheIds=[],n&&u.loadSource(n),u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},i.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=u.default.isPow2(this.realWidth)&&u.default.isPow2(this.realHeight)},i.prototype.loadSource=function(t){var i=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,i&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var e=this;if(t.onload=function(){e._updateImageType(),t.onload=null,t.onerror=null,e.isLoading&&(e.isLoading=!1,e._sourceLoaded(),"svg"!==e.imageType?e.emit("loaded",e):e._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,e.isLoading&&(e.isLoading=!1,e.emit("error",e))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===e.imageType)return void e._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),i&&this.emit("loaded",this)):i&&this.emit("error",this)}}},i.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,e.decomposeDataUri)(this.imageUrl),i=void 0;if(t&&"image"===t.mediaType){var n=t.subType.split("+")[0];if(!(i=(0,e.getUrlFileExtension)("."+n)))throw new Error("Invalid image type in data URI.")}else(i=(0,e.getUrlFileExtension)(this.imageUrl))||(i="png");this.imageType=i}},i.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,e.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},i.prototype._loadSvgSourceUsingDataUri=function(t){var i=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");i=atob(t.data)}else i=t.data;this._loadSvgSourceUsingString(i)},i.prototype._loadSvgSourceUsingXhr=function(){var t=this,i=new XMLHttpRequest;i.onload=function(){if(i.readyState!==i.DONE||200!==i.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(i.response)},i.onerror=function(){return t.emit("error",t)},i.open("GET",this.imageUrl,!0),i.send()},i.prototype._loadSvgSourceUsingString=function(t){var n=(0,e.getSvgSize)(t),r=n.width,s=n.height;if(!r||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(r*this.sourceScale),this.realHeight=Math.round(s*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,e.uid)(),o.getContext("2d").drawImage(this.source,0,0,r,s,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,i.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl&&(delete e.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),i.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},i.prototype.dispose=function(){this.emit("dispose",this)},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,n,r,s){var u=e.BaseTextureCache[t];if(!u){var h=new Image;void 0===n&&0!==t.indexOf("data:")?h.crossOrigin=(0,o.default)(t):n&&(h.crossOrigin="string"==typeof n?n:"anonymous"),(u=new i(h,r)).imageUrl=t,s&&(u.sourceScale=s),u.resolution=(0,e.getResolutionOfUrl)(t),h.src=t,i.addToCache(u,t)}return u},i.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=r+"_"+(0,e.uid)());var s=e.BaseTextureCache[t._pixiId];return s||(s=new i(t,n),i.addToCache(s,t._pixiId)),s},i.from=function(t,n,r){if("string"==typeof t)return i.fromImage(t,void 0,n,r);if(t instanceof HTMLImageElement){var s=t.src,o=e.BaseTextureCache[s];return o||((o=new i(t,n)).imageUrl=s,r&&(o.sourceScale=r),o.resolution=(0,e.getResolutionOfUrl)(s),i.addToCache(o,s)),o}return t instanceof HTMLCanvasElement?i.fromCanvas(t,n):t},i.addToCache=function(t,i){i&&(-1===t.textureCacheIds.indexOf(i)&&t.textureCacheIds.push(i),e.BaseTextureCache[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),e.BaseTextureCache[i]=t)},i.removeFromCache=function(t){if("string"==typeof t){var i=e.BaseTextureCache[t];if(i){var n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete e.BaseTextureCache[t],i}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete e.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},i}(s.default);i.default=a},,,,,,,,,function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=n(6),o=n(154);var u=function(t){function i(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return n.children=[],n}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onChildrenChange=function(){},i.prototype.addChild=function(t){var i=arguments.length;if(i>1)for(var n=0;n<i;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},i.prototype.addChildAt=function(t,i){if(i<0||i>this.children.length)throw new Error(t+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(i,0,t),this._boundsID++,this.onChildrenChange(i),t.emit("added",this),t},i.prototype.swapChildren=function(t,i){if(t!==i){var n=this.getChildIndex(t),e=this.getChildIndex(i);this.children[n]=i,this.children[e]=t,this.onChildrenChange(n<e?n:e)}},i.prototype.getChildIndex=function(t){var i=this.children.indexOf(t);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},i.prototype.setChildIndex=function(t,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,s.removeItems)(this.children,n,1),this.children.splice(i,0,t),this.onChildrenChange(i)},i.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},i.prototype.removeChild=function(t){var i=arguments.length;if(i>1)for(var n=0;n<i;n++)this.removeChild(arguments[n]);else{var e=this.children.indexOf(t);if(-1===e)return null;t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this)}return t},i.prototype.removeChildAt=function(t){var i=this.getChildAt(t);return i.parent=null,i.transform._parentID=-1,(0,s.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),i.emit("removed",this),i},i.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1],n=t,e="number"==typeof i?i:this.children.length,r=e-n,s=void 0;if(r>0&&r<=e){s=this.children.splice(n,r);for(var o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var u=0;u<s.length;++u)s[u].emit("removed",this);return s}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,i=this.children.length;t<i;++t){var n=this.children[t];n.visible&&n.updateTransform()}},i.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var i=this.children[t];i.visible&&i.renderable&&(i.calculateBounds(),i._mask?(i._mask.calculateBounds(),this._bounds.addBoundsMask(i._bounds,i._mask._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._lastBoundsID=this._boundsID},i.prototype._calculateBounds=function(){},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var i=0,n=this.children.length;i<n;++i)this.children[i].renderWebGL(t)}},i.prototype.renderAdvancedWebGL=function(t){t.flush();var i=this._filters,n=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var e=0;e<i.length;e++)i[e].enabled&&this._enabledFilters.push(i[e]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var r=0,s=this.children.length;r<s;r++)this.children[r].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),i&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var i=0,n=this.children.length;i<n;++i)this.children[i].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(i){t.prototype.destroy.call(this);var n="boolean"==typeof i?i:i&&i.children,e=this.removeChildren(0,this.children.length);if(n)for(var r=0;r<e.length;++r)e[r].destroy(i)},r(i,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var i=this.getLocalBounds().width;this.scale.x=0!==i?t/i:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var i=this.getLocalBounds().height;this.scale.y=0!==i?t/i:1,this._height=t}}]),i}(((e=o)&&e.__esModule?e:{default:e}).default);i.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},function(t,i,n){"use strict";i.__esModule=!0;var e=c(n(161)),r=c(n(306)),s=c(n(163)),o=c(n(307)),u=n(6),h=n(3),a=c(n(11));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function i(n,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"Canvas",n,e,s));return u.type=h.RENDERER_TYPE.CANVAS,u.rootContext=u.view.getContext("2d",{alpha:u.transparent}),u.context=u.rootContext,u.refresh=!0,u.maskManager=new r.default(u),u.smoothProperty="imageSmoothingEnabled",u.rootContext.imageSmoothingEnabled||(u.rootContext.webkitImageSmoothingEnabled?u.smoothProperty="webkitImageSmoothingEnabled":u.rootContext.mozImageSmoothingEnabled?u.smoothProperty="mozImageSmoothingEnabled":u.rootContext.oImageSmoothingEnabled?u.smoothProperty="oImageSmoothingEnabled":u.rootContext.msImageSmoothingEnabled&&(u.smoothProperty="msImageSmoothingEnabled")),u.initPlugins(),u.blendModes=(0,o.default)(),u._activeBlendMode=null,u.renderingToScreen=!1,u.resize(u.options.width,u.options.height),u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.render=function(t,i,n,e,r){if(this.view){this.renderingToScreen=!i,this.emit("prerender");var o=this.resolution;i?((i=i.baseTexture||i)._canvasRenderTarget||(i._canvasRenderTarget=new s.default(i.width,i.height,i.resolution),i.source=i._canvasRenderTarget.canvas,i.valid=!0),this.context=i._canvasRenderTarget.context,this.resolution=i._canvasRenderTarget.resolution):this.context=this.rootContext;var u=this.context;if(i||(this._lastObjectRendered=t),!r){var a=t.parent,c=this._tempDisplayObjectParent.transform.worldTransform;e?(e.copy(c),this._tempDisplayObjectParent.transform._worldID=-1):c.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}u.save(),u.setTransform(1,0,0,1,0,0),u.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,u.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(u.fillStyle="black",u.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?u.clearRect(0,0,this.width,this.height):(u.fillStyle=this._backgroundColorString,u.fillRect(0,0,this.width,this.height)));var f=this.context;this.context=u,t.renderCanvas(this),this.context=f,u.restore(),this.resolution=o,this.emit("postrender")}},i.prototype.clear=function(t){var i=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(i.fillStyle=t,i.fillRect(0,0,this.width,this.height)):i.clearRect(0,0,this.width,this.height)},i.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},i.prototype.destroy=function(i){this.destroyPlugins(),t.prototype.destroy.call(this,i),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},i.prototype.resize=function(i,n){t.prototype.resize.call(this,i,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=a.default.SCALE_MODE===h.SCALE_MODES.LINEAR)},i.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},i}(e.default);i.default=f,u.pluginTarget.mixin(f)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();i.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(20),s=n(11),o=(e=s)&&e.__esModule?e:{default:e};function u(t,i){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift("precision "+i+" float;"),n}}else if("precision"!==t.trim().substring(0,9))return"precision "+i+" float;\n"+t;return t}var h=function(t){function i(n,e,r,s,h){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,u(e,h||o.default.PRECISION_VERTEX),u(r,h||o.default.PRECISION_FRAGMENT),void 0,s))}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i}(r.GLShader);i.default=h},function(t,i,n){"use strict";var e=n(359).Loader,r=n(109).Resource,s=n(188),o=n(189);e.Resource=r,e.async=s,e.encodeBinary=o,e.base64=o,t.exports=e,t.exports.Loader=e,t.exports.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),o=n(28),u=(e=o)&&e.__esModule?e:{default:e};var h=new s.Point,a=new s.Polygon,c=function(t){function i(n,e,r,o,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return a._texture=n||u.default.EMPTY,a.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),a.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),a.indices=o||new Uint16Array([0,1,3,2]),a.dirty=0,a.indexDirty=0,a.vertexDirty=0,a.autoUpdate=!0,a.blendMode=s.BLEND_MODES.NORMAL,a.canvasPadding=s.settings.MESH_CANVAS_PADDING,a.drawMode=h||i.DRAW_MODES.TRIANGLE_MESH,a.shader=null,a.tintRgb=new Float32Array([1,1,1]),a._glDatas={},a._uvTransform=new s.TextureMatrix(a._texture),a.uploadUvTransform=!1,a.pluginName="mesh",a}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},i.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},i.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},i.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},i.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},i.prototype._refresh=function(){},i.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var n=this.vertices,e=a.points,r=this.indices,s=this.indices.length,o=this.drawMode===i.DRAW_MODES.TRIANGLES?3:1,u=0;u+2<s;u+=o){var c=2*r[u],f=2*r[u+1],l=2*r[u+2];if(e[0]=n[c],e[1]=n[c+1],e[2]=n[f],e[3]=n[f+1],e[4]=n[l],e[5]=n[l+1],a.contains(h.x,h.y))return!0}return!1},i.prototype.destroy=function(i){for(var n in this._glDatas){var e=this._glDatas[n];e.destroy?e.destroy():(e.vertexBuffer&&(e.vertexBuffer.destroy(),e.vertexBuffer=null),e.indexBuffer&&(e.indexBuffer.destroy(),e.indexBuffer=null),e.uvBuffer&&(e.uvBuffer.destroy(),e.uvBuffer=null),e.vao&&(e.vao.destroy(),e.vao=null))}this._glDatas=null,t.prototype.destroy.call(this,i)},r(i,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return s.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=s.utils.hex2rgb(t,this.tintRgb)}}]),i}(s.Container);i.default=c,c.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},,,,,,,,,,,,,,function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(6),s=n(164);var o={getTintedTexture:function(t,i){var n=t._texture,e="#"+("00000"+(0|(i=o.roundColor(i))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var r=n.tintCache[e],s=void 0;if(r){if(r.tintId===n._updateID)return n.tintCache[e];s=n.tintCache[e]}else s=o.canvas||document.createElement("canvas");if(o.tintMethod(n,i,s),s.tintId=n._updateID,o.convertTintToImage){var u=new Image;u.src=s.toDataURL(),n.tintCache[e]=u}else n.tintCache[e]=s,o.canvas=null;return s},tintWithMultiply:function(t,i,n){var e=n.getContext("2d"),r=t._frame.clone(),s=t.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,n.width=Math.ceil(r.width),n.height=Math.ceil(r.height),e.save(),e.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),e.fillRect(0,0,r.width,r.height),e.globalCompositeOperation="multiply",e.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.globalCompositeOperation="destination-atop",e.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.restore()},tintWithOverlay:function(t,i,n){var e=n.getContext("2d"),r=t._frame.clone(),s=t.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,n.width=Math.ceil(r.width),n.height=Math.ceil(r.height),e.save(),e.globalCompositeOperation="copy",e.fillStyle="#"+("00000"+(0|i).toString(16)).substr(-6),e.fillRect(0,0,r.width,r.height),e.globalCompositeOperation="destination-atop",e.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),e.restore()},tintWithPerPixel:function(t,i,n){var e=n.getContext("2d"),s=t._frame.clone(),o=t.baseTexture.resolution;s.x*=o,s.y*=o,s.width*=o,s.height*=o,n.width=Math.ceil(s.width),n.height=Math.ceil(s.height),e.save(),e.globalCompositeOperation="copy",e.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),e.restore();for(var u=(0,r.hex2rgb)(i),h=u[0],a=u[1],c=u[2],f=e.getImageData(0,0,s.width,s.height),l=f.data,v=0;v<l.length;v+=4)l[v+0]*=h,l[v+1]*=a,l[v+2]*=c;e.putImageData(f,0,0)},roundColor:function(t){var i=o.cacheStepsPerColorChannel,n=(0,r.hex2rgb)(t);return n[0]=Math.min(255,n[0]/i*i),n[1]=Math.min(255,n[1]/i*i),n[2]=Math.min(255,n[2]/i*i),(0,r.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((e=s)&&e.__esModule?e:{default:e}).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel,i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(51);var s=function(t){function i(){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.apply(this,arguments))}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){},i}(((e=r)&&e.__esModule?e:{default:e}).default);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=m(n(161)),r=m(n(309)),s=m(n(311)),o=m(n(312)),u=m(n(71)),h=m(n(69)),a=m(n(314)),c=m(n(40)),f=m(n(315)),l=m(n(316)),v=m(n(318)),d=m(n(319)),p=n(6),b=m(n(20)),w=n(3);function m(t){return t&&t.__esModule?t:{default:t}}var y=0,g=function(t){function i(n,e,o){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"WebGL",n,e,o));return u.legacy=u.options.legacy,u.legacy&&(b.default.VertexArrayObject.FORCE_NATIVE=!0),u.type=w.RENDERER_TYPE.WEBGL,u.handleContextLost=u.handleContextLost.bind(u),u.handleContextRestored=u.handleContextRestored.bind(u),u.view.addEventListener("webglcontextlost",u.handleContextLost,!1),u.view.addEventListener("webglcontextrestored",u.handleContextRestored,!1),u._contextOptions={alpha:u.transparent,antialias:u.options.antialias,premultipliedAlpha:u.transparent&&"notMultiplied"!==u.transparent,stencil:!0,preserveDrawingBuffer:u.options.preserveDrawingBuffer,powerPreference:u.options.powerPreference},u._backgroundColorRgba[3]=u.transparent?0:1,u.maskManager=new r.default(u),u.stencilManager=new s.default(u),u.emptyRenderer=new h.default(u),u.currentRenderer=u.emptyRenderer,u.textureManager=null,u.filterManager=null,u.initPlugins(),u.options.context&&(0,d.default)(u.options.context),u.gl=u.options.context||b.default.createContext(u.view,u._contextOptions),u.CONTEXT_UID=y++,u.state=new l.default(u.gl),u.renderingToScreen=!0,u.boundTextures=null,u._activeShader=null,u._activeVao=null,u._activeRenderTarget=null,u._initContext(),u.drawModes=(0,v.default)(u.gl),u._nextTextureLocation=0,u.setBlendMode(0),u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(i),this.emptyTextures=new Array(i),this._unknownBoundTextures=!1,this.textureManager=new a.default(this),this.filterManager=new o.default(this),this.textureGC=new f.default(this),this.state.resetToDefault(),this.rootRenderTarget=new u.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new b.default.GLTexture.fromData(t,null,1,1),e={_glTextures:{}};e._glTextures[this.CONTEXT_UID]={};for(var r=0;r<i;r++){var s=new c.default;s._glTextures[this.CONTEXT_UID]=n,this.boundTextures[r]=e,this.emptyTextures[r]=s,this.bindTexture(null,r)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},i.prototype.render=function(t,i,n,e,r){if(this.renderingToScreen=!i,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,i||(this._lastObjectRendered=t),!r){var s=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}this.bindRenderTexture(i,e),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},i.prototype.resize=function(t,i){e.default.prototype.resize.call(this,t,i),this.rootRenderTarget.resize(t,i),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},i.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},i.prototype.clear=function(t){this._activeRenderTarget.clear(t)},i.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},i.prototype.clearRenderTexture=function(t,i){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(i),this},i.prototype.bindRenderTexture=function(t,i){var n=void 0;if(t){var e=t.baseTexture;e._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(e,0),this.unbindTexture(e),(n=e._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=i,this.bindRenderTarget(n),this},i.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},i.prototype.bindShader=function(t,i){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==i&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},i.prototype.bindTexture=function(t,i,n){if((t=(t=t||this.emptyTextures[i]).baseTexture||t).touched=this.textureGC.count,n)i=i||0;else{for(var e=0;e<this.boundTextures.length;e++)if(this.boundTextures[e]===t)return e;void 0===i&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,i=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,s=t._glTextures[this.CONTEXT_UID];return s?(this.boundTextures[i]=t,r.activeTexture(r.TEXTURE0+i),r.bindTexture(r.TEXTURE_2D,s.texture)):this.textureManager.updateTexture(t,i),i},i.prototype.unbindTexture=function(t){var i=this.gl;if(t=t.baseTexture||t,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===this.emptyTextures[n]&&(i.activeTexture(i.TEXTURE0+n),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture))}for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]===t&&(this.boundTextures[e]=this.emptyTextures[e],i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[e]._glTextures[this.CONTEXT_UID].texture));return this},i.prototype.createVao=function(){return new b.default.VertexArrayObject(this.gl,this.state.attribState)},i.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},i.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},i.prototype.destroy=function(i){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,i),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},i}(e.default);i.default=g,p.pluginTarget.mixin(g)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(13),s=n(3),o=n(11),u=(e=o)&&e.__esModule?e:{default:e},h=n(20);var a=function(){function t(i,n,e,o,a,c){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=i,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new r.Rectangle(0,0,1,1),this.resolution=a||u.default.RESOLUTION,this.projectionMatrix=new r.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new r.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==o?o:u.default.SCALE_MODE,this.root=c||!1,this.root?(this.frameBuffer=new h.GLFramebuffer(i,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=h.GLFramebuffer.createRGBA(i,100,100),this.scaleMode===s.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,e)}return t.prototype.clear=function(t){var i=t||this.clearColor;this.frameBuffer.clear(i[0],i[1],i[2],i[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,i){var n=this.projectionMatrix;i=i||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-i.x*n.a,n.ty=1-i.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-i.x*n.a,n.ty=-1-i.y*n.d)},t.prototype.resize=function(t,i){if(t|=0,i|=0,this.size.width!==t||this.size.height!==i){this.size.width=t,this.size.height=i,this.defaultFrame.width=t,this.defaultFrame.height=i,this.frameBuffer.resize(t*this.resolution,i*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();i.default=a},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n){t.nativeLines?function(t,i){var n=0,e=t.points;if(0===e.length)return;var s=i.points,o=e.length/2,u=(0,r.hex2rgb)(t.lineColor),h=t.lineAlpha,a=u[0]*h,c=u[1]*h,f=u[2]*h;for(n=1;n<o;n++){var l=e[2*(n-1)],v=e[2*(n-1)+1],d=e[2*n],p=e[2*n+1];s.push(l,v),s.push(a,c,f,h),s.push(d,p),s.push(a,c,f,h)}}(t,n):function(t,i){var n=t.points;if(0===n.length)return;var s=new e.Point(n[0],n[1]),o=new e.Point(n[n.length-2],n[n.length-1]);if(s.x===o.x&&s.y===o.y){(n=n.slice()).pop(),n.pop();var u=(o=new e.Point(n[n.length-2],n[n.length-1])).x+.5*(s.x-o.x),h=o.y+.5*(s.y-o.y);n.unshift(u,h),n.push(u,h)}var a=i.points,c=i.indices,f=n.length/2,l=n.length,v=a.length/6,d=t.lineWidth/2,p=(0,r.hex2rgb)(t.lineColor),b=t.lineAlpha,w=p[0]*b,m=p[1]*b,y=p[2]*b,g=n[0],T=n[1],E=n[2],O=n[3],x=0,j=0,C=-(T-O),M=g-E,A=0,S=0,I=0,R=0,P=Math.sqrt(C*C+M*M);C/=P,M/=P,C*=d,M*=d;var _=t.lineAlignment,k=2*(1-_),F=2*_;a.push(g-C*k,T-M*k,w,m,y,b),a.push(g+C*F,T+M*F,w,m,y,b);for(var N=1;N<f-1;++N){g=n[2*(N-1)],T=n[2*(N-1)+1],E=n[2*N],O=n[2*N+1],x=n[2*(N+1)],j=n[2*(N+1)+1],C=-(T-O),M=g-E,P=Math.sqrt(C*C+M*M),C/=P,M/=P,C*=d,M*=d,A=-(O-j),S=E-x,P=Math.sqrt(A*A+S*S),A/=P,S/=P;var D=-M+T-(-M+O),L=-C+E-(-C+g),U=(-C+g)*(-M+O)-(-C+E)*(-M+T),X=-(S*=d)+j-(-S+O),B=-(A*=d)+E-(-A+x),W=(-A+x)*(-S+O)-(-A+E)*(-S+j),V=D*B-X*L;if(Math.abs(V)<.1)V+=10.1,a.push(E-C*k,O-M*k,w,m,y,b),a.push(E+C*F,O+M*F,w,m,y,b);else{var G=(L*W-B*U)/V,H=(X*U-D*W)/V,z=(G-E)*(G-E)+(H-O)*(H-O);z>196*d*d?(I=C-A,R=M-S,P=Math.sqrt(I*I+R*R),I/=P,R/=P,I*=d,R*=d,a.push(E-I*k,O-R*k),a.push(w,m,y,b),a.push(E+I*F,O+R*F),a.push(w,m,y,b),a.push(E-I*F*k,O-R*k),a.push(w,m,y,b),l++):(a.push(E+(G-E)*k,O+(H-O)*k),a.push(w,m,y,b),a.push(E-(G-E)*F,O-(H-O)*F),a.push(w,m,y,b))}}g=n[2*(f-2)],T=n[2*(f-2)+1],E=n[2*(f-1)],O=n[2*(f-1)+1],C=-(T-O),M=g-E,P=Math.sqrt(C*C+M*M),C/=P,M/=P,C*=d,M*=d,a.push(E-C*k,O-M*k),a.push(w,m,y,b),a.push(E+C*F,O+M*F),a.push(w,m,y,b),c.push(v);for(var Y=0;Y<l;++Y)c.push(v++);c.push(v-1)}(t,i)};var e=n(13),r=n(6)},,,,,,,,,,,,,,,,,,,,,,,function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,i){this.x=t||0,this.y=i||(0!==i?this.x:0)},t}();i.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=n(95),o=(e=s)&&e.__esModule?e:{default:e},u=n(3);var h=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=i,this.b=n,this.c=e,this.d=r,this.tx=s,this.ty=o,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,i,n,e,r,s){return this.a=t,this.b=i,this.c=n,this.d=e,this.tx=r,this.ty=s,this},t.prototype.toArray=function(t,i){this.array||(this.array=new Float32Array(9));var n=i||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,i){i=i||new o.default;var n=t.x,e=t.y;return i.x=this.a*n+this.c*e+this.tx,i.y=this.b*n+this.d*e+this.ty,i},t.prototype.applyInverse=function(t,i){i=i||new o.default;var n=1/(this.a*this.d+this.c*-this.b),e=t.x,r=t.y;return i.x=this.d*n*e+-this.c*n*r+(this.ty*this.c-this.tx*this.d)*n,i.y=this.a*n*r+-this.b*n*e+(-this.ty*this.a+this.tx*this.b)*n,i},t.prototype.translate=function(t,i){return this.tx+=t,this.ty+=i,this},t.prototype.scale=function(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this},t.prototype.rotate=function(t){var i=Math.cos(t),n=Math.sin(t),e=this.a,r=this.c,s=this.tx;return this.a=e*i-this.b*n,this.b=e*n+this.b*i,this.c=r*i-this.d*n,this.d=r*n+this.d*i,this.tx=s*i-this.ty*n,this.ty=s*n+this.ty*i,this},t.prototype.append=function(t){var i=this.a,n=this.b,e=this.c,r=this.d;return this.a=t.a*i+t.b*e,this.b=t.a*n+t.b*r,this.c=t.c*i+t.d*e,this.d=t.c*n+t.d*r,this.tx=t.tx*i+t.ty*e+this.tx,this.ty=t.tx*n+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,i,n,e,r,s,o,u,h){return this.a=Math.cos(o+h)*r,this.b=Math.sin(o+h)*r,this.c=-Math.sin(o-u)*s,this.d=Math.cos(o-u)*s,this.tx=t-(n*this.a+e*this.c),this.ty=i-(n*this.b+e*this.d),this},t.prototype.prepend=function(t){var i=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,e=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=e*t.a+this.d*t.c,this.d=e*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var i=this.a,n=this.b,e=this.c,r=this.d,s=-Math.atan2(-e,r),o=Math.atan2(n,i),h=Math.abs(s+o);return h<1e-5||Math.abs(u.PI_2-h)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=o),t.scale.x=Math.sqrt(i*i+n*n),t.scale.y=Math.sqrt(e*e+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,i=this.b,n=this.c,e=this.d,r=this.tx,s=t*e-i*n;return this.a=e/s,this.b=-i/s,this.c=-n/s,this.d=t/s,this.tx=(n*this.ty-e*r)/s,this.ty=-(t*this.ty-i*r)/s,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var i=new t;return i.a=this.a,i.b=this.b,i.c=this.c,i.d=this.d,i.tx=this.tx,i.ty=this.ty,i},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},r(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();i.default=h},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=n(3);var s=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(i),this.y=Number(n),this.width=Number(e),this.height=Number(s),this.type=r.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,i){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height)},t.prototype.pad=function(t,i){t=t||0,i=i||(0!==i?t:0),this.x-=t,this.y-=i,this.width+=2*t,this.height+=2*i},t.prototype.fit=function(t){var i=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),e=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);this.x=i,this.width=Math.max(n-i,0),this.y=e,this.height=Math.max(r-e,0)},t.prototype.enlarge=function(t){var i=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),e=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);this.x=i,this.width=n-i,this.y=e,this.height=r-e},t.prototype.ceil=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=Math.ceil((this.x+this.width-i)*t)/t,e=Math.ceil((this.y+this.height-i)*t)/t;this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=n-this.x,this.height=e-this.y},e(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();i.default=s},function(t,i){var n=null,e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,i){if(!n){var r=Object.keys(e);n={};for(var s=0;s<r.length;++s){var o=r[s];n[t[o]]=e[o]}}return n[i]}},function(t,i,n){"use strict";i.__esModule=!0;var e=n(13);var r=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?e.Rectangle.EMPTY:((t=t||new e.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var i=this.minX,n=this.minY,e=this.maxX,r=this.maxY,s=t[0],o=t[1];i=s<i?s:i,n=o<n?o:n,e=s>e?s:e,r=o>r?o:r,i=(s=t[2])<i?s:i,n=(o=t[3])<n?o:n,e=s>e?s:e,r=o>r?o:r,i=(s=t[4])<i?s:i,n=(o=t[5])<n?o:n,e=s>e?s:e,r=o>r?o:r,i=(s=t[6])<i?s:i,n=(o=t[7])<n?o:n,e=s>e?s:e,r=o>r?o:r,this.minX=i,this.minY=n,this.maxX=e,this.maxY=r},t.prototype.addFrame=function(t,i,n,e,r){var s=t.worldTransform,o=s.a,u=s.b,h=s.c,a=s.d,c=s.tx,f=s.ty,l=this.minX,v=this.minY,d=this.maxX,p=this.maxY,b=o*i+h*n+c,w=u*i+a*n+f;l=b<l?b:l,v=w<v?w:v,d=b>d?b:d,p=w>p?w:p,l=(b=o*e+h*n+c)<l?b:l,v=(w=u*e+a*n+f)<v?w:v,d=b>d?b:d,p=w>p?w:p,l=(b=o*i+h*r+c)<l?b:l,v=(w=u*i+a*r+f)<v?w:v,d=b>d?b:d,p=w>p?w:p,l=(b=o*e+h*r+c)<l?b:l,v=(w=u*e+a*r+f)<v?w:v,d=b>d?b:d,p=w>p?w:p,this.minX=l,this.minY=v,this.maxX=d,this.maxY=p},t.prototype.addVertices=function(t,i,n,e){for(var r=t.worldTransform,s=r.a,o=r.b,u=r.c,h=r.d,a=r.tx,c=r.ty,f=this.minX,l=this.minY,v=this.maxX,d=this.maxY,p=n;p<e;p+=2){var b=i[p],w=i[p+1],m=s*b+u*w+a,y=h*w+o*b+c;f=m<f?m:f,l=y<l?y:l,v=m>v?m:v,d=y>d?y:d}this.minX=f,this.minY=l,this.maxX=v,this.maxY=d},t.prototype.addBounds=function(t){var i=this.minX,n=this.minY,e=this.maxX,r=this.maxY;this.minX=t.minX<i?t.minX:i,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>e?t.maxX:e,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,i){var n=t.minX>i.minX?t.minX:i.minX,e=t.minY>i.minY?t.minY:i.minY,r=t.maxX<i.maxX?t.maxX:i.maxX,s=t.maxY<i.maxY?t.maxY:i.maxY;if(n<=r&&e<=s){var o=this.minX,u=this.minY,h=this.maxX,a=this.maxY;this.minX=n<o?n:o,this.minY=e<u?e:u,this.maxX=r>h?r:h,this.maxY=s>a?s:a}},t.prototype.addBoundsArea=function(t,i){var n=t.minX>i.x?t.minX:i.x,e=t.minY>i.y?t.minY:i.y,r=t.maxX<i.x+i.width?t.maxX:i.x+i.width,s=t.maxY<i.y+i.height?t.maxY:i.y+i.height;if(n<=r&&e<=s){var o=this.minX,u=this.minY,h=this.maxX,a=this.maxY;this.minX=n<o?n:o,this.minY=e<u?e:u,this.maxX=r>h?r:h,this.maxY=s>a?s:a}},t}();i.default=r},function(t,i,n){var e,r,s;!function(n){var o=/iPhone/i,u=/iPod/i,h=/iPad/i,a=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,f=/\bAndroid(?:.+)SD4930UR\b/i,l=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,v=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,b=/BB10/i,w=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i;function g(t,i){return t.test(i)}function T(t){var i=t||("undefined"!=typeof navigator?navigator.userAgent:""),n=i.split("[FBAN");void 0!==n[1]&&(i=n[0]),void 0!==(n=i.split("Twitter"))[1]&&(i=n[0]);var e={apple:{phone:g(o,i)&&!g(v,i),ipod:g(u,i),tablet:!g(o,i)&&g(h,i)&&!g(v,i),device:(g(o,i)||g(u,i)||g(h,i))&&!g(v,i)},amazon:{phone:g(f,i),tablet:!g(f,i)&&g(l,i),device:g(f,i)||g(l,i)},android:{phone:!g(v,i)&&g(f,i)||!g(v,i)&&g(a,i),tablet:!g(v,i)&&!g(f,i)&&!g(a,i)&&(g(l,i)||g(c,i)),device:!g(v,i)&&(g(f,i)||g(l,i)||g(a,i)||g(c,i))||g(/\bokhttp\b/i,i)},windows:{phone:g(v,i),tablet:g(d,i),device:g(v,i)||g(d,i)},other:{blackberry:g(p,i),blackberry10:g(b,i),opera:g(w,i),firefox:g(y,i),chrome:g(m,i),device:g(p,i)||g(b,i)||g(w,i)||g(y,i)||g(m,i)}};return e.any=e.apple.device||e.android.device||e.windows.device||e.other.device,e.phone=e.apple.phone||e.android.phone||e.windows.phone,e.tablet=e.apple.tablet||e.android.tablet||e.windows.tablet,e}t.exports&&"undefined"==typeof window?t.exports=T:t.exports&&"undefined"!=typeof window?(t.exports=T(),t.exports.isMobile=T):(r=[],e=n.isMobile=T(),void 0===(s="function"==typeof e?e.apply(i,r):e)||(t.exports=s))}(this)},function(t,i,n){"use strict";i.__esModule=!0;var e=n(13);var r=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new e.Matrix,this.localTransform=new e.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var i=t.worldTransform,n=this.worldTransform,e=this.localTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._worldID++},t}();i.default=r,r.prototype.updateWorldTransform=r.prototype.updateTransform,r.IDENTITY=new r},function(t,i,n){"use strict";function e(t,i,n){n=n||2;var e,u,h,a,c,v,d,b=i&&i.length,w=b?i[0]*n:t.length,m=r(t,0,w,n,!0),y=[];if(!m||m.next===m.prev)return y;if(b&&(m=function(t,i,n,e){var o,u,h,a,c,v=[];for(o=0,u=i.length;o<u;o++)h=i[o]*e,a=o<u-1?i[o+1]*e:t.length,(c=r(t,h,a,e,!1))===c.next&&(c.steiner=!0),v.push(p(c));for(v.sort(f),o=0;o<v.length;o++)l(v[o],n),n=s(n,n.next);return n}(t,i,m,n)),t.length>80*n){e=h=t[0],u=a=t[1];for(var g=n;g<w;g+=n)(c=t[g])<e&&(e=c),(v=t[g+1])<u&&(u=v),c>h&&(h=c),v>a&&(a=v);d=0!==(d=Math.max(h-e,a-u))?1/d:0}return o(m,y,n,e,u,d),y}function r(t,i,n,e,r){var s,o;if(r===A(t,i,n,e)>0)for(s=i;s<n;s+=e)o=j(s,t[s],t[s+1],o);else for(s=n-e;s>=i;s-=e)o=j(s,t[s],t[s+1],o);return o&&y(o,o.next)&&(C(o),o=o.next),o}function s(t,i){if(!t)return t;i||(i=t);var n,e=t;do{if(n=!1,e.steiner||!y(e,e.next)&&0!==m(e.prev,e,e.next))e=e.next;else{if(C(e),(e=i=e.prev)===e.next)break;n=!0}}while(n||e!==i);return i}function o(t,i,n,e,r,f,l){if(t){!l&&f&&function(t,i,n,e){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,i,n,e)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var i,n,e,r,s,o,u,h,a=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,e=n,u=0,i=0;i<a&&(u++,e=e.nextZ);i++);for(h=a;u>0||h>0&&e;)0!==u&&(0===h||!e||n.z<=e.z)?(r=n,n=n.nextZ,u--):(r=e,e=e.nextZ,h--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=e}s.nextZ=null,a*=2}while(o>1)}(r)}(t,e,r,f);for(var v,p,b=t;t.prev!==t.next;)if(v=t.prev,p=t.next,f?h(t,e,r,f):u(t))i.push(v.i/n),i.push(t.i/n),i.push(p.i/n),C(t),t=p.next,b=p.next;else if((t=p)===b){l?1===l?o(t=a(s(t),i,n),i,n,e,r,f,2):2===l&&c(t,i,n,e,r,f):o(s(t),i,n,e,r,f,1);break}}}function u(t){var i=t.prev,n=t,e=t.next;if(m(i,n,e)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(b(i.x,i.y,n.x,n.y,e.x,e.y,r.x,r.y)&&m(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function h(t,i,n,e){var r=t.prev,s=t,o=t.next;if(m(r,s,o)>=0)return!1;for(var u=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,a=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,c=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,f=d(u,h,i,n,e),l=d(a,c,i,n,e),v=t.prevZ,p=t.nextZ;v&&v.z>=f&&p&&p.z<=l;){if(v!==t.prev&&v!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,p!==t.prev&&p!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&m(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;v&&v.z>=f;){if(v!==t.prev&&v!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;p&&p.z<=l;){if(p!==t.prev&&p!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&m(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function a(t,i,n){var e=t;do{var r=e.prev,o=e.next.next;!y(r,o)&&g(r,e,e.next,o)&&O(r,o)&&O(o,r)&&(i.push(r.i/n),i.push(e.i/n),i.push(o.i/n),C(e),C(e.next),e=t=o),e=e.next}while(e!==t);return s(e)}function c(t,i,n,e,r,u){var h=t;do{for(var a=h.next.next;a!==h.prev;){if(h.i!==a.i&&w(h,a)){var c=x(h,a);return h=s(h,h.next),c=s(c,c.next),o(h,i,n,e,r,u),void o(c,i,n,e,r,u)}a=a.next}h=h.next}while(h!==t)}function f(t,i){return t.x-i.x}function l(t,i){if(i=function(t,i){var n,e=i,r=t.x,s=t.y,o=-1/0;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){var u=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=r&&u>o){if(o=u,u===r){if(s===e.y)return e;if(s===e.next.y)return e.next}n=e.x<e.next.x?e:e.next}}e=e.next}while(e!==i);if(!n)return null;if(r===o)return n;var h,a=n,c=n.x,f=n.y,l=1/0;e=n;do{r>=e.x&&e.x>=c&&r!==e.x&&b(s<f?r:o,s,c,f,s<f?o:r,s,e.x,e.y)&&(h=Math.abs(s-e.y)/(r-e.x),O(e,t)&&(h<l||h===l&&(e.x>n.x||e.x===n.x&&v(n,e)))&&(n=e,l=h)),e=e.next}while(e!==a);return n}(t,i)){var n=x(i,t);s(i,i.next),s(n,n.next)}}function v(t,i){return m(t.prev,t,i.prev)<0&&m(i.next,t,t.next)<0}function d(t,i,n,e,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-e)*r)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function p(t){var i=t,n=t;do{(i.x<n.x||i.x===n.x&&i.y<n.y)&&(n=i),i=i.next}while(i!==t);return n}function b(t,i,n,e,r,s,o,u){return(r-o)*(i-u)-(t-o)*(s-u)>=0&&(t-o)*(e-u)-(n-o)*(i-u)>=0&&(n-o)*(s-u)-(r-o)*(e-u)>=0}function w(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!function(t,i){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==i.i&&n.next.i!==i.i&&g(n,n.next,t,i))return!0;n=n.next}while(n!==t);return!1}(t,i)&&(O(t,i)&&O(i,t)&&function(t,i){var n=t,e=!1,r=(t.x+i.x)/2,s=(t.y+i.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(e=!e),n=n.next}while(n!==t);return e}(t,i)&&(m(t.prev,t,i.prev)||m(t,i.prev,i))||y(t,i)&&m(t.prev,t,t.next)>0&&m(i.prev,i,i.next)>0)}function m(t,i,n){return(i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y)}function y(t,i){return t.x===i.x&&t.y===i.y}function g(t,i,n,e){var r=E(m(t,i,n)),s=E(m(t,i,e)),o=E(m(n,e,t)),u=E(m(n,e,i));return r!==s&&o!==u||(!(0!==r||!T(t,n,i))||(!(0!==s||!T(t,e,i))||(!(0!==o||!T(n,t,e))||!(0!==u||!T(n,i,e)))))}function T(t,i,n){return i.x<=Math.max(t.x,n.x)&&i.x>=Math.min(t.x,n.x)&&i.y<=Math.max(t.y,n.y)&&i.y>=Math.min(t.y,n.y)}function E(t){return t>0?1:t<0?-1:0}function O(t,i){return m(t.prev,t,t.next)<0?m(t,i,t.next)>=0&&m(t,t.prev,i)>=0:m(t,i,t.prev)<0||m(t,t.next,i)<0}function x(t,i){var n=new M(t.i,t.x,t.y),e=new M(i.i,i.x,i.y),r=t.next,s=i.prev;return t.next=i,i.prev=t,n.next=r,r.prev=n,e.next=n,n.prev=e,s.next=e,e.prev=s,e}function j(t,i,n,e){var r=new M(t,i,n);return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,i,n){this.i=t,this.x=i,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,i,n,e){for(var r=0,s=i,o=n-e;s<n;s+=e)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}t.exports=e,t.exports.default=e,e.deviation=function(t,i,n,e){var r=i&&i.length,s=r?i[0]*n:t.length,o=Math.abs(A(t,0,s,n));if(r)for(var u=0,h=i.length;u<h;u++){var a=i[u]*n,c=u<h-1?i[u+1]*n:t.length;o-=Math.abs(A(t,a,c,n))}var f=0;for(u=0;u<e.length;u+=3){var l=e[u]*n,v=e[u+1]*n,d=e[u+2]*n;f+=Math.abs((t[l]-t[d])*(t[v+1]-t[l+1])-(t[l]-t[v])*(t[d+1]-t[l+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},e.flatten=function(t){for(var i=t[0][0].length,n={vertices:[],holes:[],dimensions:i},e=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<i;o++)n.vertices.push(t[r][s][o]);r>0&&(e+=t[r-1].length,n.holes.push(e))}return n}},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=n(13),s=n(6),o=n(3),u=a(n(28)),h=a(n(49));function a(t){return t&&t.__esModule?t:{default:t}}var c=new r.Point,f=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return e._anchor=new r.ObservablePoint(e._onAnchorUpdate,e,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=o.BLEND_MODES.NORMAL,e.shader=null,e.cachedTint=16777215,e.texture=n||u.default.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.pluginName="sprite",e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this._texture.orig.height)},i.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},i.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,i=this.transform.worldTransform,n=i.a,e=i.b,r=i.c,s=i.d,o=i.tx,u=i.ty,h=this.vertexData,a=t.trim,c=t.orig,f=this._anchor,l=0,v=0,d=0,p=0;a?(l=(v=a.x-f._x*c.width)+a.width,d=(p=a.y-f._y*c.height)+a.height):(l=(v=-f._x*c.width)+c.width,d=(p=-f._y*c.height)+c.height),h[0]=n*v+r*p+o,h[1]=s*p+e*v+u,h[2]=n*l+r*p+o,h[3]=s*p+e*l+u,h[4]=n*l+r*d+o,h[5]=s*d+e*l+u,h[6]=n*v+r*d+o,h[7]=s*d+e*v+u}},i.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,i=this.vertexTrimmedData,n=t.orig,e=this._anchor,r=this.transform.worldTransform,s=r.a,o=r.b,u=r.c,h=r.d,a=r.tx,c=r.ty,f=-e._x*n.width,l=f+n.width,v=-e._y*n.height,d=v+n.height;i[0]=s*f+u*v+a,i[1]=h*v+o*f+c,i[2]=s*l+u*v+a,i[3]=h*v+o*l+c,i[4]=s*l+u*d+a,i[5]=h*d+o*l+c,i[6]=s*f+u*d+a,i[7]=h*d+o*f+c},i.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},i.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},i.prototype._calculateBounds=function(){var t=this._texture.trim,i=this._texture.orig;!t||t.width===i.width&&t.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},i.prototype.getLocalBounds=function(i){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),i=this._localBoundsRect),this._bounds.getRectangle(i)):t.prototype.getLocalBounds.call(this,i)},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var i=this._texture.orig.width,n=this._texture.orig.height,e=-i*this.anchor.x,r=0;return c.x>=e&&c.x<e+i&&(r=-n*this.anchor.y,c.y>=r&&c.y<r+n)},i.prototype.destroy=function(i){if(t.prototype.destroy.call(this,i),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof i?i:i&&i.texture){var n="boolean"==typeof i?i:i&&i.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},i.from=function(t){return new i(u.default.from(t))},i.fromFrame=function(t){var n=s.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new i(n)},i.fromImage=function(t,n,e){return new i(u.default.fromImage(t,n,e))},e(i,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var i=(0,s.sign)(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var i=(0,s.sign)(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||u.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),i}(h.default);i.default=f},function(t,i){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,i,n){"use strict";function e(t){var i=32;return(t&=-t)&&i--,65535&t&&(i-=16),16711935&t&&(i-=8),252645135&t&&(i-=4),858993459&t&&(i-=2),1431655765&t&&(i-=1),i}i.INT_BITS=32,i.INT_MAX=2147483647,i.INT_MIN=-1<<31,i.sign=function(t){return(t>0)-(t<0)},i.abs=function(t){var i=t>>31;return(t^i)-i},i.min=function(t,i){return i^(t^i)&-(t<i)},i.max=function(t,i){return t^(t^i)&-(t<i)},i.isPow2=function(t){return!(t&t-1||!t)},i.log2=function(t){var i,n;return i=(t>65535)<<4,i|=n=((t>>>=i)>255)<<3,i|=n=((t>>>=n)>15)<<2,(i|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},i.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},i.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},i.countTrailingZeros=e,i.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},i.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},i.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var r=new Array(256);!function(t){for(var i=0;i<256;++i){var n=i,e=i,r=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--r;t[i]=e<<r&255}}(r),i.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},i.interleave2=function(t,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))<<1},i.deinterleave2=function(t,i){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>i&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},i.interleave3=function(t,i,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},i.deinterleave3=function(t,i){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>i&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},i.nextCombination=function(t){var i=t|t-1;return i+1|(~i&-~i)-1>>>e(t)+1}},function(t,i,n){"use strict";i.__esModule=!0,i.Ticker=i.shared=void 0;var e,r=n(303),s=(e=r)&&e.__esModule?e:{default:e};var o=new s.default;o.autoStart=!0,o.destroy=function(){},i.shared=o,i.Ticker=s.default},function(t,i,n){"use strict";i.__esModule=!0;var e=r(n(162));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function i(n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var s=null;if(!(n instanceof e.default)){var o=arguments[1],u=arguments[2],h=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+u+") instead of the ctor directly."),s=arguments[0],r=null,n=new e.default(o,u,h,a)}var c=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,r));return c.legacyRenderer=s,c.valid=!0,c._updateUvs(),c}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.resize=function(t,i,n){t=Math.ceil(t),i=Math.ceil(i),this.valid=t>0&&i>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=i,n||this.baseTexture.resize(t,i),this._updateUvs()},i.create=function(t,n,r,s){return new i(new e.default(t,n,r,s))},i}(r(n(28)).default);i.default=s},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){for(var i=6*t,n=new Uint16Array(i),e=0,r=0;e<i;e+=6,r+=4)n[e+0]=r+0,n[e+1]=r+1,n[e+2]=r+2,n[e+3]=r+0,n[e+4]=r+2,n[e+5]=r+3;return n}},function(t,i,n){"use strict";i.__esModule=!0,i.Resource=void 0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=o(n(187)),s=o(n(186));function o(t){return t&&t.__esModule?t:{default:t}}var u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null;function a(){}var c=i.Resource=function(){function t(i,n,e){if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof i||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");e=e||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=i,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===e.crossOrigin?"anonymous":e.crossOrigin,this.timeout=e.timeout||0,this.loadType=e.loadType||this._determineLoadType(),this.xhrType=e.xhrType,this.metadata=e.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=a,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new s.default,this.onProgress=new s.default,this.onComplete=new s.default,this.onAfterMiddleware=new s.default}return t.setExtensionLoadType=function(i,n){f(t._loadTypeMap,i,n)},t.setExtensionXhrType=function(i,n){f(t._xhrTypeMap,i,n)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(i){if(!this.error){if(this.error=new Error(i),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(i){var n=this;if(!this.isLoading)if(this.isComplete)i&&setTimeout(function(){return i(n)},1);else switch(i&&this.onComplete.once(i),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,i){this._flags=i?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var i=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(i)?i[n]:i));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var i=this.xhr=new XMLHttpRequest;i.open("GET",this.url,!0),i.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?i.responseType=t.XHR_RESPONSE_TYPE.TEXT:i.responseType=this.xhrType,i.addEventListener("error",this._boundXhrOnError,!1),i.addEventListener("timeout",this._boundXhrOnTimeout,!1),i.addEventListener("abort",this._boundXhrOnAbort,!1),i.addEventListener("progress",this._boundOnProgress,!1),i.addEventListener("load",this._boundXhrOnLoad,!1),i.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,i,n){n||(n=t+"/"+this._getExtension(i));var e=document.createElement("source");return e.src=i,e.type=n,e},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(l(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(l(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(l(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var i=this.xhr,n="",e=void 0===i.status?200:i.status;if(""!==i.responseType&&"text"!==i.responseType&&void 0!==i.responseType||(n=i.responseText),0===e&&(n.length>0||i.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?e=200:1223===e&&(e=204),2===(e/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(n,"text/xml")}else{var s=document.createElement("div");s.innerHTML=n,this.data=s}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=i.response||n;this.complete()}else this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL)},t.prototype._determineCrossOrigin=function(t,i){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";i=i||window.location,h||(h=document.createElement("a")),h.href=t;var n=!(t=(0,r.default)(h.href,{strictMode:!0})).port&&""===i.port||t.port===i.port,e=t.protocol?t.protocol+":":"";return t.host===i.hostname&&n&&e===i.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,i="";if(this.isDataUrl){var n=t.indexOf("/");i=t.substring(n+1,t.indexOf(";",n))}else{var e=t.indexOf("?"),r=t.indexOf("#"),s=Math.min(e>-1?e:t.length,r>-1?r:t.length);i=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return i.toLowerCase()},t.prototype._getMimeFromXhrType=function(i){switch(i){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function f(t,i,n){i&&0===i.indexOf(".")&&(i=i.substring(1)),i&&(t[i]=n)}function l(t){return t.toString().replace("object ","")}c.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},c.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},c.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},c.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},c._loadTypeMap={gif:c.LOAD_TYPE.IMAGE,png:c.LOAD_TYPE.IMAGE,bmp:c.LOAD_TYPE.IMAGE,jpg:c.LOAD_TYPE.IMAGE,jpeg:c.LOAD_TYPE.IMAGE,tif:c.LOAD_TYPE.IMAGE,tiff:c.LOAD_TYPE.IMAGE,webp:c.LOAD_TYPE.IMAGE,tga:c.LOAD_TYPE.IMAGE,svg:c.LOAD_TYPE.IMAGE,"svg+xml":c.LOAD_TYPE.IMAGE,mp3:c.LOAD_TYPE.AUDIO,ogg:c.LOAD_TYPE.AUDIO,wav:c.LOAD_TYPE.AUDIO,mp4:c.LOAD_TYPE.VIDEO,webm:c.LOAD_TYPE.VIDEO},c._xhrTypeMap={xhtml:c.XHR_RESPONSE_TYPE.DOCUMENT,html:c.XHR_RESPONSE_TYPE.DOCUMENT,htm:c.XHR_RESPONSE_TYPE.DOCUMENT,xml:c.XHR_RESPONSE_TYPE.DOCUMENT,tmx:c.XHR_RESPONSE_TYPE.DOCUMENT,svg:c.XHR_RESPONSE_TYPE.DOCUMENT,tsx:c.XHR_RESPONSE_TYPE.DOCUMENT,gif:c.XHR_RESPONSE_TYPE.BLOB,png:c.XHR_RESPONSE_TYPE.BLOB,bmp:c.XHR_RESPONSE_TYPE.BLOB,jpg:c.XHR_RESPONSE_TYPE.BLOB,jpeg:c.XHR_RESPONSE_TYPE.BLOB,tif:c.XHR_RESPONSE_TYPE.BLOB,tiff:c.XHR_RESPONSE_TYPE.BLOB,webp:c.XHR_RESPONSE_TYPE.BLOB,tga:c.XHR_RESPONSE_TYPE.BLOB,json:c.XHR_RESPONSE_TYPE.JSON,text:c.XHR_RESPONSE_TYPE.TEXT,txt:c.XHR_RESPONSE_TYPE.TEXT,ttf:c.XHR_RESPONSE_TYPE.BUFFER,otf:c.XHR_RESPONSE_TYPE.BUFFER},c.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=c},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=n(193),o=(e=s)&&e.__esModule?e:{default:e};var u=r.ticker.shared;r.settings.UPLOADS_PER_FRAME=4;var h=function(){function t(i){var n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new o.default(r.settings.UPLOADS_PER_FRAME),this.renderer=i,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(d),this.registerFindHook(p),this.registerFindHook(a),this.registerFindHook(c),this.registerFindHook(f),this.registerUploadHook(l),this.registerUploadHook(v)}return t.prototype.upload=function(t,i){"function"==typeof t&&(i=t,t=null),t&&this.add(t),this.queue.length?(i&&this.completes.push(i),this.ticking||(this.ticking=!0,u.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY))):i&&i()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],i=!1;if(t&&!t._destroyed)for(var n=0,e=this.uploadHooks.length;n<e;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),i=!0;break}i||this.queue.shift()}if(this.queue.length)u.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var o=0,h=s.length;o<h;o++)s[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var i=0,n=this.addHooks.length;i<n&&!this.addHooks[i](t,this.queue);i++);if(t instanceof r.Container)for(var e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&u.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function a(t,i){var n=!1;if(t&&t._textures&&t._textures.length)for(var e=0;e<t._textures.length;e++)if(t._textures[e]instanceof r.Texture){var s=t._textures[e].baseTexture;-1===i.indexOf(s)&&(i.push(s),n=!0)}return n}function c(t,i){return t instanceof r.BaseTexture&&(-1===i.indexOf(t)&&i.push(t),!0)}function f(t,i){if(t._texture&&t._texture instanceof r.Texture){var n=t._texture.baseTexture;return-1===i.indexOf(n)&&i.push(n),!0}return!1}function l(t,i){return i instanceof r.Text&&(i.updateText(!0),!0)}function v(t,i){if(i instanceof r.TextStyle){var n=i.toFontString();return r.TextMetrics.measureFont(n),!0}return!1}function d(t,i){if(t instanceof r.Text){-1===i.indexOf(t.style)&&i.push(t.style),-1===i.indexOf(t)&&i.push(t);var n=t._texture.baseTexture;return-1===i.indexOf(n)&&i.push(n),!0}return!1}function p(t,i){return t instanceof r.TextStyle&&(-1===i.indexOf(t)&&i.push(t),!0)}i.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();var r=function(){function t(i,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=e,this._y=r,this.cb=i,this.scope=n}return t.prototype.clone=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t(i||this.cb,n||this.scope,this._x,this._y)},t.prototype.set=function(t,i){var n=t||0,e=i||(0!==i?n:0);this._x===n&&this._y===e||(this._x=n,this._y=e,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();i.default=r},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(96),s=(e=r)&&e.__esModule?e:{default:e};var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],u=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],h=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c=[],f=[];function l(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var i=[];f.push(i);for(var n=0;n<16;n++)for(var e=l(o[t]*o[n]+h[t]*u[n]),r=l(u[t]*o[n]+a[t]*u[n]),v=l(o[t]*h[n]+h[t]*a[n]),d=l(u[t]*h[n]+a[t]*a[n]),p=0;p<16;p++)if(o[p]===e&&u[p]===r&&h[p]===v&&a[p]===d){i.push(p);break}}for(var b=0;b<16;b++){var w=new s.default;w.set(o[b],u[b],h[b],a[b],0,0),c.push(w)}}();var v={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return u[t]},vX:function(t){return h[t]},vY:function(t){return a[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,i){return f[t][i]},sub:function(t,i){return f[t][v.inv(i)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,i){return 2*Math.abs(t)<=Math.abs(i)?i>=0?v.S:v.N:2*Math.abs(i)<=Math.abs(t)?t>0?v.E:v.W:i>0?t>0?v.SE:v.SW:t>0?v.NE:v.NW},matrixAppendRotationInv:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=c[v.inv(i)];r.tx=n,r.ty=e,t.append(r)}};i.default=v},function(t,i){t.exports=function(t,i,n){var e;if(n){var r=n.tempAttribState,s=n.attribState;for(e=0;e<r.length;e++)r[e]=!1;for(e=0;e<i.length;e++)r[i[e].attribute.location]=!0;for(e=0;e<s.length;e++)s[e]!==r[e]&&(s[e]=r[e],n.attribState[e]?t.enableVertexAttribArray(e):t.disableVertexAttribArray(e))}else for(e=0;e<i.length;e++){var o=i[e];t.enableVertexAttribArray(o.attribute.location)}}},function(t,i){var n=function(t,i,n,e,r){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=i||-1,this.height=n||-1,this.format=e||t.RGBA,this.type=r||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var i=this.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,e=t.videoHeight||t.height;e!==this.height||n!==this.width?i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,t):i.texSubImage2D(i.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=e};var e=!1;n.prototype.uploadData=function(t,i,n){this.bind();var r=this.gl;if(t instanceof Float32Array){if(!e){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");e=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),i!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,i,n,0,this.format,this.type,t||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,i,n,this.format,this.type,t||null),this.width=i,this.height=n},n.prototype.bind=function(t){var i=this.gl;void 0!==t&&i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var i=this.gl;this.bind(),this.mipmap?i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST):i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t?i.LINEAR:i.NEAREST)},n.prototype.magFilter=function(t){var i=this.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t?i.LINEAR:i.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,i,e){var r=new n(t);return r.premultiplyAlpha=e||!1,r.upload(i),r},n.fromData=function(t,i,e,r){var s=new n(t);return s.uploadData(i,e,r),s},t.exports=n},function(t,i){var n=function(t,i,n){var e=t.createShader(i);return t.shaderSource(e,n),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(console.log(t.getShaderInfoLog(e)),null)};t.exports=function(t,i,e,r){var s=n(t,t.VERTEX_SHADER,i),o=n(t,t.FRAGMENT_SHADER,e),u=t.createProgram();if(t.attachShader(u,s),t.attachShader(u,o),r)for(var h in r)t.bindAttribLocation(u,r[h],h);return t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(u,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(u)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(u)),t.deleteProgram(u),u=null),t.deleteShader(s),t.deleteShader(o),u}},function(t,i,n){var e=n(98),r=n(149),s=function(t,i,n,e){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,i||!1,n||0,e||0)};t.exports=function(t,i){for(var n={},o=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES),u=0;u<o;u++){var h=t.getActiveAttrib(i,u),a=e(t,h.type);n[h.name]={type:a,size:r(a),location:t.getAttribLocation(i,h.name),pointer:s}}return n}},function(t,i){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return n[t]}},function(t,i,n){var e=n(98),r=n(151);t.exports=function(t,i){for(var n={},s=t.getProgramParameter(i,t.ACTIVE_UNIFORMS),o=0;o<s;o++){var u=t.getActiveUniform(i,o),h=u.name.replace(/\[.*?\]/,""),a=e(t,u.type);n[h]={type:a,size:u.size,location:t.getUniformLocation(i,h),value:r(a,u.size)}}return n}},function(t,i){var n=function(t){for(var i=new Array(t),n=0;n<i.length;n++)i[n]=!1;return i};t.exports=function(t,i){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*i);case"vec3":return new Float32Array(3*i);case"vec4":return new Float32Array(4*i);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*i);case"ivec3":return new Int32Array(3*i);case"ivec4":return new Int32Array(4*i);case"bool":return!1;case"bvec2":return n(2*i);case"bvec3":return n(3*i);case"bvec4":return n(4*i);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,i){t.exports=function(t,i){return"precision"!==t.substring(0,9)?"precision "+i+" float;\n"+t:t}},function(t,i){var n=function(t){return function(){return this.data[t].value}},e={float:function(t,i,n){t.uniform1f(i,n)},vec2:function(t,i,n){t.uniform2f(i,n[0],n[1])},vec3:function(t,i,n){t.uniform3f(i,n[0],n[1],n[2])},vec4:function(t,i,n){t.uniform4f(i,n[0],n[1],n[2],n[3])},int:function(t,i,n){t.uniform1i(i,n)},ivec2:function(t,i,n){t.uniform2i(i,n[0],n[1])},ivec3:function(t,i,n){t.uniform3i(i,n[0],n[1],n[2])},ivec4:function(t,i,n){t.uniform4i(i,n[0],n[1],n[2],n[3])},bool:function(t,i,n){t.uniform1i(i,n)},bvec2:function(t,i,n){t.uniform2i(i,n[0],n[1])},bvec3:function(t,i,n){t.uniform3i(i,n[0],n[1],n[2])},bvec4:function(t,i,n){t.uniform4i(i,n[0],n[1],n[2],n[3])},mat2:function(t,i,n){t.uniformMatrix2fv(i,!1,n)},mat3:function(t,i,n){t.uniformMatrix3fv(i,!1,n)},mat4:function(t,i,n){t.uniformMatrix4fv(i,!1,n)},sampler2D:function(t,i,n){t.uniform1i(i,n)}},r={float:function(t,i,n){t.uniform1fv(i,n)},vec2:function(t,i,n){t.uniform2fv(i,n)},vec3:function(t,i,n){t.uniform3fv(i,n)},vec4:function(t,i,n){t.uniform4fv(i,n)},int:function(t,i,n){t.uniform1iv(i,n)},ivec2:function(t,i,n){t.uniform2iv(i,n)},ivec3:function(t,i,n){t.uniform3iv(i,n)},ivec4:function(t,i,n){t.uniform4iv(i,n)},bool:function(t,i,n){t.uniform1iv(i,n)},bvec2:function(t,i,n){t.uniform2iv(i,n)},bvec3:function(t,i,n){t.uniform3iv(i,n)},bvec4:function(t,i,n){t.uniform4iv(i,n)},sampler2D:function(t,i,n){t.uniform1iv(i,n)}};function s(t,i){return function(n){this.data[t].value=n;var s=this.data[t].location;1===i.size?e[i.type](this.gl,s,n):r[i.type](this.gl,s,n)}}function o(t,i){for(var n=i,e=0;e<t.length-1;e++){var r=n[t[e]]||{data:{}};n[t[e]]=r,n=r}return n}t.exports=function(t,i){var e={data:{}};e.gl=t;for(var r=Object.keys(i),u=0;u<r.length;u++){var h=r[u],a=h.split("."),c=a[a.length-1],f=o(a,e),l=i[h];f.data[c]=l,f.gl=t,Object.defineProperty(f,c,{get:n(c),set:s(c,l)})}return e}},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=f(n(34)),s=n(3),o=f(n(11)),u=f(n(155)),h=f(n(156)),a=f(n(99)),c=n(13);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function i(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this)),e=o.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?u.default:h.default;return n.tempDisplayObjectParent=null,n.transform=new e,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new a.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.getBounds=function(t,i){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),i||(this._boundsRect||(this._boundsRect=new c.Rectangle),i=this._boundsRect),this._bounds.getRectangle(i)},i.prototype.getLocalBounds=function(t){var i=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),t=this._localBoundsRect);var e=this.getBounds(!1,t);return this.parent=n,this.transform=i,e},i.prototype.toGlobal=function(t,i){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,i)},i.prototype.toLocal=function(t,i,n,e){return i&&(t=i.toGlobal(t,n,e)),e||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},i.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=i,this.scale.x=n||1,this.scale.y=e||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=u,this.pivot.y=h,this},i.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},e(i,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new i),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),i}(r.default);i.default=l,l.prototype.displayObjectUpdateTransform=l.prototype.updateTransform},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=n(13),o=n(101);var u=function(t){function i(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return n.position=new s.ObservablePoint(n.onChange,n,0,0),n.scale=new s.ObservablePoint(n.onChange,n,1,1),n.pivot=new s.ObservablePoint(n.onChange,n,0,0),n.skew=new s.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},i.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(t){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale._x,i.b=this._sx*this.scale._x,i.c=this._cy*this.scale._y,i.d=this._sy*this.scale._y,i.tx=this.position._x-(this.pivot._x*i.a+this.pivot._y*i.c),i.ty=this.position._y-(this.pivot._x*i.b+this.pivot._y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,e=this.worldTransform;e.a=i.a*n.a+i.b*n.c,e.b=i.a*n.b+i.b*n.d,e.c=i.c*n.a+i.d*n.c,e.d=i.c*n.b+i.d*n.d,e.tx=i.tx*n.a+i.ty*n.c+n.tx,e.ty=i.tx*n.b+i.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},i.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},r(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}}]),i}(((e=o)&&e.__esModule?e:{default:e}).default);i.default=u},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=n(13),o=n(101);var u=function(t){function i(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return n.position=new s.Point(0,0),n.scale=new s.Point(1,1),n.skew=new s.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new s.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},i.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},i.prototype.updateTransform=function(t){var i=this.localTransform;i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d);var n=t.worldTransform,e=this.worldTransform;e.a=i.a*n.a+i.b*n.c,e.b=i.a*n.b+i.b*n.d,e.c=i.c*n.a+i.d*n.c,e.d=i.c*n.b+i.d*n.d,e.tx=i.tx*n.a+i.ty*n.c+n.tx,e.ty=i.tx*n.b+i.ty*n.d+n.ty,this._worldID++},i.prototype.setFromMatrix=function(t){t.decompose(this)},r(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),i}(((e=o)&&e.__esModule?e:{default:e}).default);i.default=u},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";i=i||window.location,o||(o=document.createElement("a"));o.href=t;var n=!(t=s.default.parse(o.href)).port&&""===i.port||t.port===i.port;if(t.hostname!==i.hostname||!n||t.protocol!==i.protocol)return"anonymous";return""};var e,r=n(158),s=(e=r)&&e.__esModule?e:{default:e};var o=void 0},function(t,i,n){"use strict";var e=n(298),r=n(299);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=y,i.resolve=function(t,i){return y(t,!1,!0).resolve(i)},i.resolveObject=function(t,i){return t?y(t,!1,!0).resolveObject(i):i},i.format=function(t){r.isString(t)&&(t=y(t));return t instanceof s?t.format():s.prototype.format.call(t)},i.Url=s;var o=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(a),f=["%","/","?",";","#"].concat(c),l=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(300);function y(t,i,n){if(t&&r.isObject(t)&&t instanceof s)return t;var e=new s;return e.parse(t,i,n),e}s.prototype.parse=function(t,i,n){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),u=-1!==s&&s<t.indexOf("#")?"?":"#",a=t.split(u);a[0]=a[0].replace(/\\/g,"/");var y=t=a.join(u);if(y=y.trim(),!n&&1===t.split("#").length){var g=h.exec(y);if(g)return this.path=y,this.href=y,this.pathname=g[1],g[2]?(this.search=g[2],this.query=i?m.parse(this.search.substr(1)):this.search.substr(1)):i&&(this.search="",this.query={}),this}var T=o.exec(y);if(T){var E=(T=T[0]).toLowerCase();this.protocol=E,y=y.substr(T.length)}if(n||T||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===y.substr(0,2);!O||T&&b[T]||(y=y.substr(2),this.slashes=!0)}if(!b[T]&&(O||T&&!w[T])){for(var x,j,C=-1,M=0;M<l.length;M++){-1!==(A=y.indexOf(l[M]))&&(-1===C||A<C)&&(C=A)}-1!==(j=-1===C?y.lastIndexOf("@"):y.lastIndexOf("@",C))&&(x=y.slice(0,j),y=y.slice(j+1),this.auth=decodeURIComponent(x)),C=-1;for(M=0;M<f.length;M++){var A;-1!==(A=y.indexOf(f[M]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=y.length),this.host=y.slice(0,C),y=y.slice(C),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var I=this.hostname.split(/\./),R=(M=0,I.length);M<R;M++){var P=I[M];if(P&&!P.match(v)){for(var _="",k=0,F=P.length;k<F;k++)P.charCodeAt(k)>127?_+="x":_+=P[k];if(!_.match(v)){var N=I.slice(0,M),D=I.slice(M+1),L=P.match(d);L&&(N.push(L[1]),D.unshift(L[2])),D.length&&(y="/"+D.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=e.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!p[E])for(M=0,R=c.length;M<R;M++){var B=c[M];if(-1!==y.indexOf(B)){var W=encodeURIComponent(B);W===B&&(W=escape(B)),y=y.split(B).join(W)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),i&&(this.query=m.parse(this.query)),y=y.slice(0,G)):i&&(this.search="",this.query={}),y&&(this.pathname=y),w[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var H=this.search||"";this.path=U+H}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var i=this.protocol||"",n=this.pathname||"",e=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var u=this.search||o&&"?"+o||"";return i&&":"!==i.substr(-1)&&(i+=":"),this.slashes||(!i||w[i])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),e&&"#"!==e.charAt(0)&&(e="#"+e),u&&"?"!==u.charAt(0)&&(u="?"+u),i+s+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(u=u.replace("#","%23"))+e},s.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(r.isString(t)){var i=new s;i.parse(t,!1,!0),t=i}for(var n=new s,e=Object.keys(this),o=0;o<e.length;o++){var u=e[o];n[u]=this[u]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),a=0;a<h.length;a++){var c=h[a];"protocol"!==c&&(n[c]=t[c])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!w[t.protocol]){for(var f=Object.keys(t),l=0;l<f.length;l++){var v=f[l];n[v]=t[v]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||b[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),T=g||y||n.host&&t.pathname,E=T,O=n.pathname&&n.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!w[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),T=T&&(""===d[0]||""===O[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),n.search=t.search,n.query=t.query;else if(!r.isNullOrUndefined(t.search)){if(x)n.hostname=n.host=O.shift(),(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift());return n.search=t.search,n.query=t.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=O.slice(-1)[0],C=(n.host||t.host||O.length>1)&&("."===j||".."===j)||""===j,M=0,A=O.length;A>=0;A--)"."===(j=O[A])?O.splice(A,1):".."===j?(O.splice(A,1),M++):M&&(O.splice(A,1),M--);if(!T&&!E)for(;M--;M)O.unshift("..");!T||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),C&&"/"!==O.join("/").substr(-1)&&O.push("");var S,I=""===O[0]||O[0]&&"/"===O[0].charAt(0);x&&(n.hostname=n.host=I?"":O.length?O.shift():"",(S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift()));return(T=T||n.host&&O.length)&&!I&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var t=this.host,i=u.exec(t);i&&(":"!==(i=i[0])&&(this.port=i.substr(1)),t=t.substr(0,t.length-i.length)),t&&(this.hostname=t)}},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=a(n(40)),s=n(6),o=n(106),u=n(3),h=a(n(157));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function i(n,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var s=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,e));return s.width=n.videoWidth,s.height=n.videoHeight,s._autoUpdate=!0,s._isAutoUpdating=!1,s.autoPlay=r,s.update=s.update.bind(s),s._onCanPlay=s._onCanPlay.bind(s),n.addEventListener("play",s._onPlayStart.bind(s)),n.addEventListener("pause",s._onPlayStop.bind(s)),s.hasLoaded=!1,s.__loaded=!1,s._isSourceReady()?s._onCanPlay():(n.addEventListener("canplay",s._onCanPlay),n.addEventListener("canplaythrough",s._onCanPlay)),s}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},i.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},i.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(o.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},i.prototype._onPlayStop=function(){this._isAutoUpdating&&(o.shared.remove(this.update,this),this._isAutoUpdating=!1)},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},i.prototype.destroy=function(){this._isAutoUpdating&&o.shared.remove(this.update,this),this.source&&this.source._pixiId&&(r.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},i.fromVideo=function(t,n,e){t._pixiId||(t._pixiId="video_"+(0,s.uid)());var o=s.BaseTextureCache[t._pixiId];return o||(o=new i(t,n,e),r.default.addToCache(o,t._pixiId)),o},i.fromUrl=function(t,n,e,r){var s=document.createElement("video");s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===e&&0!==o.indexOf("data:")?s.crossOrigin=(0,h.default)(o):e&&(s.crossOrigin="string"==typeof e?e:"anonymous"),Array.isArray(t))for(var u=0;u<t.length;++u)s.appendChild(f(t[u].src||t[u],t[u].mime));else s.appendChild(f(o,t.mime));return s.load(),i.fromVideo(s,n,r)},e(i,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(o.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(o.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),i}(r.default);function f(t,i){if(!i){var n=t.split("?").shift().toLowerCase();i="video/"+n.substr(n.lastIndexOf(".")+1)}var e=document.createElement("source");return e.src=t,e.type=i,e}i.default=c,c.fromUrls=c.fromUrl},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(144),s=(e=r)&&e.__esModule?e:{default:e};var o=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,i,n){var e=i.width,r=i.height;if(n){var o=t.width/2/e,u=t.height/2/r,h=t.x/e+o,a=t.y/r+u;n=s.default.add(n,s.default.NW),this.x0=h+o*s.default.uX(n),this.y0=a+u*s.default.uY(n),n=s.default.add(n,2),this.x1=h+o*s.default.uX(n),this.y1=a+u*s.default.uY(n),n=s.default.add(n,2),this.x2=h+o*s.default.uX(n),this.y2=a+u*s.default.uY(n),n=s.default.add(n,2),this.x3=h+o*s.default.uX(n),this.y3=a+u*s.default.uY(n)}else this.x0=t.x/e,this.y0=t.y/r,this.x1=(t.x+t.width)/e,this.y1=t.y/r,this.x2=(t.x+t.width)/e,this.y2=(t.y+t.height)/r,this.x3=t.x/e,this.y3=(t.y+t.height)/r;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},t}();i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=n(6),s=n(13),o=n(3),u=f(n(11)),h=f(n(49)),a=f(n(107)),c=f(n(34));function f(t){return t&&t.__esModule?t:{default:t}}var l=new s.Matrix,v=function(t){function i(n,e,a,c){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var f=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return(0,r.sayHello)(n),"number"==typeof e&&(e=Object.assign({width:e,height:a||u.default.RENDER_OPTIONS.height},c)),e=Object.assign({},u.default.RENDER_OPTIONS,e),f.options=e,f.type=o.RENDERER_TYPE.UNKNOWN,f.screen=new s.Rectangle(0,0,e.width,e.height),f.view=e.view||document.createElement("canvas"),f.resolution=e.resolution||u.default.RESOLUTION,f.transparent=e.transparent,f.autoResize=e.autoResize||!1,f.blendModes=null,f.preserveDrawingBuffer=e.preserveDrawingBuffer,f.clearBeforeRender=e.clearBeforeRender,f.roundPixels=e.roundPixels,f._backgroundColor=0,f._backgroundColorRgba=[0,0,0,0],f._backgroundColorString="#000000",f.backgroundColor=e.backgroundColor||f._backgroundColor,f._tempDisplayObjectParent=new h.default,f._lastObjectRendered=f._tempDisplayObjectParent,f}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.resize=function(t,i){this.screen.width=t,this.screen.height=i,this.view.width=t*this.resolution,this.view.height=i*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=i+"px")},i.prototype.generateTexture=function(t,i,n,e){e=e||t.getLocalBounds();var r=a.default.create(0|e.width,0|e.height,i,n);return l.tx=-e.x,l.ty=-e.y,this.render(t,r,!1,l,!!t.parent),r},i.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=o.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},e(i,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,r.hex2string)(t),(0,r.hex2rgb)(t,this._backgroundColorRgba)}}]),i}(c.default);i.default=v},function(t,i,n){"use strict";i.__esModule=!0;var e=s(n(40)),r=s(n(11));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments[2],o=arguments[3];!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,null,s));return u.resolution=o||r.default.RESOLUTION,u.width=Math.ceil(n),u.height=Math.ceil(e),u.realWidth=u.width*u.resolution,u.realHeight=u.height*u.resolution,u.scaleMode=void 0!==s?s:r.default.SCALE_MODE,u.hasLoaded=!0,u._glRenderTargets={},u._canvasRenderTarget=null,u.valid=!1,u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.resize=function(t,i){t=Math.ceil(t),i=Math.ceil(i),t===this.width&&i===this.height||(this.valid=t>0&&i>0,this.width=t,this.height=i,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},i.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},i}(e.default);i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=n(11),o=(e=s)&&e.__esModule?e:{default:e};var u=function(){function t(i,n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=e||o.default.RESOLUTION,this.resize(i,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,i){this.canvas.width=t*this.resolution,this.canvas.height=i*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},r(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();i.default=u},function(t,i,n){"use strict";function e(t){var i=document.createElement("canvas");i.width=6,i.height=1;var n=i.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,6,1),i}i.__esModule=!0,i.default=function(){if("undefined"==typeof document)return!1;var t=e("#ff00ff"),i=e("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var r=n.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(i,2,0);var s=r.getImageData(2,0,1,1);if(!s)return!1;var o=s.data;return 255===o[0]&&0===o[1]&&0===o[2]}},function(t,i,n){"use strict";i.__esModule=!0;var e=o(n(166)),r=n(13),s=(n(24),o(n(167)));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=new r.Matrix,s=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,s.maskSprite=n,s.maskMatrix=e,s}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.apply=function(t,i,n,e){var r=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new s.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(o.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,i,n,e))},i}(e.default);i.default=u},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=h(n(310)),s=n(6),o=n(3),u=h(n(11));function h(t){return t&&t.__esModule?t:{default:t}}var a={},c=function(){function t(i,n,e){for(var h in function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=i||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=o.BLEND_MODES.NORMAL,this.uniformData=e||(0,r.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[h]=this.uniformData[h].value,this.uniformData[h].type&&(this.uniformData[h].type=this.uniformData[h].type.toLowerCase());this.glShaders={},a[this.vertexSrc+this.fragmentSrc]||(a[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=a[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,i,n,e,r){t.applyFilter(this,i,n,e)},e(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();i.default=c},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=n(96),o=(e=s)&&e.__esModule?e:{default:e};var u=new o.default,h=function(){function t(i,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=i,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,i){void 0===i&&(i=t);for(var n=this.mapCoord,e=0;e<t.length;e+=2){var r=t[e],s=t[e+1];i[e]=r*n.a+s*n.c+n.tx,i[e+1]=r*n.b+s*n.d+n.ty}return i},t.prototype.update=function(t){var i=this._texture;if(!i||!i.valid)return!1;if(!t&&this._lastTextureID===i._updateID)return!1;this._lastTextureID=i._updateID;var n=i._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var e=i.orig,r=i.trim;r&&(u.set(e.width/r.width,0,0,e.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(u));var s=i.baseTexture,o=this.uClampFrame,h=this.clampMargin/s.resolution,a=this.clampOffset;return o[0]=(i._frame.x+h+a)/s.width,o[1]=(i._frame.y+h+a)/s.height,o[2]=(i._frame.x+i._frame.width-h+a)/s.width,o[3]=(i._frame.y+i._frame.height-h+a)/s.height,this.uClampOffset[0]=a/s.realWidth,this.uClampOffset[1]=a/s.realHeight,!0},r(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();i.default=h},function(t,i,n){"use strict";i.__esModule=!0;var e=s(n(20)),r=s(n(108));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(i,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=i,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var s=0;s<4;s++)this.interleaved[4*s]=this.vertices[2*s],this.interleaved[4*s+1]=this.vertices[2*s+1],this.interleaved[4*s+2]=this.uvs[2*s],this.interleaved[4*s+3]=this.uvs[2*s+1];this.indices=(0,r.default)(1),this.vertexBuffer=e.default.GLBuffer.createVertexBuffer(i,this.interleaved,i.STATIC_DRAW),this.indexBuffer=e.default.GLBuffer.createIndexBuffer(i,this.indices,i.STATIC_DRAW),this.vao=new e.default.VertexArrayObject(i,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,i){var n=0,e=0;return this.uvs[0]=n,this.uvs[1]=e,this.uvs[2]=n+i.width/t.width,this.uvs[3]=e,this.uvs[4]=n+i.width/t.width,this.uvs[5]=e+i.height/t.height,this.uvs[6]=n,this.uvs[7]=e+i.height/t.height,n=i.x,e=i.y,this.vertices[0]=n,this.vertices[1]=e,this.vertices[2]=n+i.width,this.vertices[3]=e,this.vertices[4]=n+i.width,this.vertices[5]=e+i.height,this.vertices[6]=n,this.vertices[7]=e+i.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=n(3),s=n(6);var o={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:r.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],h=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),f(this,i,i)}return t.prototype.clone=function(){var i={};return f(i,this,o),new t(i)},t.prototype.reset=function(){f(this,o,o)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(var n=i.length-1;n>=0;n--){var e=i[n].trim();!/([\"\'])[^\'\"]+\1/.test(e)&&u.indexOf(e)<0&&(e='"'+e+'"'),i[n]=e}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+i.join(",")},e(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var i=c(t);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var i=c(t);this._fill!==i&&(this._fill=i,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,i){if(!Array.isArray(t)||!Array.isArray(i))return!1;if(t.length!==i.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==i[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var i=c(t);this._stroke!==i&&(this._stroke=i,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function a(t){return"number"==typeof t?(0,s.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function c(t){if(Array.isArray(t)){for(var i=0;i<t.length;++i)t[i]=a(t[i]);return t}return a(t)}function f(t,i,n){for(var e in n)Array.isArray(i[e])?t[e]=i[e].slice():t[e]=i[e]}i.default=h},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i,n,e,r,s,o,u,h,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=i,this.style=n,this.width=e,this.height=r,this.lines=s,this.lineWidths=o,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=a}return t.measureText=function(i,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;e=null==e?n.wordWrap:e;var s=n.toFontString(),o=t.measureFont(s),u=r.getContext("2d");u.font=s;for(var h=(e?t.wordWrap(i,n,r):i).split(/(?:\r\n|\r|\n)/),a=new Array(h.length),c=0,f=0;f<h.length;f++){var l=u.measureText(h[f]).width+(h[f].length-1)*n.letterSpacing;a[f]=l,c=Math.max(c,l)}var v=c+n.strokeThickness;n.dropShadow&&(v+=n.dropShadowDistance);var d=n.lineHeight||o.fontSize+n.strokeThickness,p=Math.max(d,o.fontSize+n.strokeThickness)+(h.length-1)*(d+n.leading);return n.dropShadow&&(p+=n.dropShadowDistance),new t(i,n,v,p,h,a,d+n.leading,c,o)},t.wordWrap=function(i,n){for(var e=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),r=0,s="",o="",u={},h=n.letterSpacing,a=n.whiteSpace,c=t.collapseSpaces(a),f=t.collapseNewlines(a),l=!c,v=n.wordWrapWidth+h,d=t.tokenize(i),p=0;p<d.length;p++){var b=d[p];if(t.isNewline(b)){if(!f){o+=t.addLine(s),l=!c,s="",r=0;continue}b=" "}if(c){var w=t.isBreakingSpace(b),m=t.isBreakingSpace(s[s.length-1]);if(w&&m)continue}var y=t.getFromCache(b,h,u,e);if(y>v)if(""!==s&&(o+=t.addLine(s),s="",r=0),t.canBreakWords(b,n.breakWords))for(var g=b.split(""),T=0;T<g.length;T++){for(var E=g[T],O=1;g[T+O];){var x=g[T+O],j=E[E.length-1];if(t.canBreakChars(j,x,b,T,n.breakWords))break;E+=x,O++}T+=E.length-1;var C=t.getFromCache(E,h,u,e);C+r>v&&(o+=t.addLine(s),l=!1,s="",r=0),s+=E,r+=C}else{s.length>0&&(o+=t.addLine(s),s="",r=0);var M=p===d.length-1;o+=t.addLine(b,!M),l=!1,s="",r=0}else y+r>v&&(l=!1,o+=t.addLine(s),s="",r=0),(s.length>0||!t.isBreakingSpace(b)||l)&&(s+=b,r+=y)}return o+=t.addLine(s,!1)},t.addLine=function(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i=t.trimRight(i),i=n?i+"\n":i},t.getFromCache=function(t,i,n,e){var r=n[t];if(void 0===r){var s=t.length*i;r=e.measureText(t).width+s,n[t]=r}return r},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(i){if("string"!=typeof i)return"";for(var n=i.length-1;n>=0;n--){var e=i[n];if(!t.isBreakingSpace(e))break;i=i.slice(0,-1)}return i},t.isNewline=function(i){return"string"==typeof i&&t._newlines.indexOf(i.charCodeAt(0))>=0},t.isBreakingSpace=function(i){return"string"==typeof i&&t._breakingSpaces.indexOf(i.charCodeAt(0))>=0},t.tokenize=function(i){var n=[],e="";if("string"!=typeof i)return n;for(var r=0;r<i.length;r++){var s=i[r];t.isBreakingSpace(s)||t.isNewline(s)?(""!==e&&(n.push(e),e=""),n.push(s)):e+=s}return""!==e&&n.push(e),n},t.canBreakWords=function(t,i){return i},t.canBreakChars=function(t,i,n,e,r){return!0},t.measureFont=function(i){if(t._fonts[i])return t._fonts[i];var n={},e=t._canvas,r=t._context;r.font=i;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(r.measureText(s).width),u=Math.ceil(r.measureText(t.BASELINE_SYMBOL).width),h=2*u;u=u*t.BASELINE_MULTIPLIER|0,e.width=o,e.height=h,r.fillStyle="#f00",r.fillRect(0,0,o,h),r.font=i,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(s,0,u);var a=r.getImageData(0,0,o,h).data,c=a.length,f=4*o,l=0,v=0,d=!1;for(l=0;l<u;++l){for(var p=0;p<f;p+=4)if(255!==a[v+p]){d=!0;break}if(d)break;v+=f}for(n.ascent=u-l,v=c-f,d=!1,l=h;l>u;--l){for(var b=0;b<f;b+=4)if(255!==a[v+b]){d=!0;break}if(d)break;v-=f}return n.descent=l-u,n.fontSize=n.ascent+n.descent,t._fonts[i]=n,n},t.clearMetrics=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i?delete t._fonts[i]:t._fonts={}},t}();i.default=e;var r=document.createElement("canvas");r.width=r.height=10,e._canvas=r,e._context=r.getContext("2d"),e._fonts={},e.METRICS_STRING="|Éq",e.BASELINE_SYMBOL="M",e.BASELINE_MULTIPLIER=1.4,e._newlines=[10,13],e._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i,n,e,r,s,o,u,h,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=i,this.lineAlignment=a,this.nativeLines=u,this.lineColor=n,this.lineAlpha=e,this._lineTint=n,this.fillColor=r,this.fillAlpha=s,this._fillTint=r,this.fill=o,this.holes=[],this.shape=h,this.type=h.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();i.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=n(173),s=a(n(49)),o=n(106),u=a(n(11)),h=n(3);function a(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(i,n,e,h,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof i&&(i=Object.assign({width:i,height:n||u.default.RENDER_OPTIONS.height,forceCanvas:!!h,sharedTicker:!!a},e)),this._options=i=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},i),this.renderer=(0,r.autoDetectRenderer)(i),this.stage=new s.default,this._ticker=null,this.ticker=i.sharedTicker?o.shared:new o.Ticker,i.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t,i){if(this._ticker){var n=this._ticker;this.ticker=null,n.destroy()}this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},e(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,h.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();i.default=c},function(t,i,n){"use strict";i.__esModule=!0,i.autoDetectRenderer=function(t,i,n,o){var u=t&&t.forceCanvas;void 0!==o&&(u=o);if(!u&&e.isWebGLSupported())return new s.default(t,i,n);return new r.default(t,i,n)};var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(6)),r=o(n(50)),s=o(n(70));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,i,n){"use strict";i.__esModule=!0,i.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,i,n){"use strict";i.__esModule=!0,i.BitmapText=i.TilingSpriteRenderer=i.TilingSprite=i.AnimatedSprite=void 0;var e=n(342);Object.defineProperty(i,"AnimatedSprite",{enumerable:!0,get:function(){return u(e).default}});var r=n(343);Object.defineProperty(i,"TilingSprite",{enumerable:!0,get:function(){return u(r).default}});var s=n(344);Object.defineProperty(i,"TilingSpriteRenderer",{enumerable:!0,get:function(){return u(s).default}});var o=n(345);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"BitmapText",{enumerable:!0,get:function(){return u(o).default}}),n(346),n(347),n(348)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=h(n(177)),o=h(n(178)),u=h(n(179));function h(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function i(n,e,u,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),h=h||5;var a=(0,s.default)(h,!0),c=(0,o.default)(h),f=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,a,c));return f.resolution=u||r.settings.RESOLUTION,f._quality=0,f.quality=e||4,f.strength=n||8,f.firstRun=!0,f}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.apply=function(t,i,n,e){if(this.firstRun){var r=t.renderer.gl,h=(0,u.default)(r);this.vertexSrc=(0,s.default)(h,!0),this.fragmentSrc=(0,o.default)(h),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/i.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,i,n,e);else{for(var a=t.getRenderTarget(!0),c=i,f=a,l=0;l<this.passes-1;l++){t.applyFilter(this,c,f,!0);var v=f;f=c,c=v}t.applyFilter(this,c,n,e),t.returnRenderTarget(a)}},e(i,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),i}(r.Filter);i.default=a},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i){var n=Math.ceil(t/2),r=e,s="",o=void 0;o=i?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var u=0;u<t;u++){var h=o.replace("%index%",u);h=h.replace("%sampleIndex%",u-(n-1)+".0"),s+=h,s+="\n"}return r=(r=r.replace("%blur%",s)).replace("%size%",t)};var e=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){for(var i=e[t],n=i.length,s=r,o="",u=void 0,h=0;h<t;h++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",h);u=h,h>=n&&(u=t-h-1),a=a.replace("%value%",i[u]),o+=a,o+="\n"}return s=(s=s.replace("%blur%",o)).replace("%size%",t)};var e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},r=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){var i=t.getParameter(t.MAX_VARYING_VECTORS),n=15;for(;n>i;)n-=2;return n}},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=h(n(177)),o=h(n(178)),u=h(n(179));function h(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function i(n,e,u,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),h=h||5;var a=(0,s.default)(h,!1),c=(0,o.default)(h),f=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,a,c));return f.resolution=u||r.settings.RESOLUTION,f._quality=0,f.quality=e||4,f.strength=n||8,f.firstRun=!0,f}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.apply=function(t,i,n,e){if(this.firstRun){var r=t.renderer.gl,h=(0,u.default)(r);this.vertexSrc=(0,s.default)(h,!1),this.fragmentSrc=(0,o.default)(h),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/i.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,i,n,e);else{for(var a=t.getRenderTarget(!0),c=i,f=a,l=0;l<this.passes-1;l++){t.applyFilter(this,c,f,!0);var v=f;f=c,c=v}t.applyFilter(this,c,n,e),t.returnRenderTarget(a)}},e(i,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),i}(r.Filter);i.default=a},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));var s=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new r.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,i,n){return t.worldTransform.applyInverse(n||this.global,i)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},e(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();i.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();var r=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=i,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,i){this._flags=i?this._flags|t:this._flags&~t},e(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();i.default=r,r.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,i,n){"use strict";i.__esModule=!0,i.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,i,n){"use strict";i.__esModule=!0,i.parse=o,i.default=function(){return function(t,i){if(t.data&&t.type===r.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var n=t.isDataUrl?"":e.dirname(t.url);t.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var s=t.data.getElementsByTagName("page"),u={},h=function(n){u[n.metadata.pageFile]=n.texture,Object.keys(u).length===s.length&&(o(t,u),i())},a=0;a<s.length;++a){var c=s[a].getAttribute("file"),f=n+c,l=!1;for(var v in this.resources){var d=this.resources[v];if(d.url===f){d.metadata.pageFile=c,d.texture?h(d):d.onAfterMiddleware.add(h),l=!0;break}}if(!l){var p={crossOrigin:t.crossOrigin,loadType:r.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(f,p,h)}}}else i();else i()}};var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(24)),r=n(53),s=n(175);function o(t,i){t.bitmapFont=s.BitmapText.registerFont(t.data,i)}},function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(i,n,e){void 0===n&&(n=!1),r(this,t),this._fn=i,this._once=n,this._thisArg=e,this._next=this._prev=this._owner=null}return e(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,i){return t._head?(t._tail._next=i,i._prev=t._tail,t._tail=i):(t._head=i,t._tail=i),i._owner=t,i}var u=function(){function t(){r(this,t),this._head=this._tail=void 0}return e(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=this._head;if(t)return!!i;for(var n=[];i;)n.push(i),i=i._next;return n}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new s(t,!1,i))}},{key:"once",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new s(t,!0,i))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();u.MiniSignalBinding=s,i.default=u,t.exports=i.default},function(t,i,n){"use strict";t.exports=function(t,i){i=i||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e=n.parser[i.strictMode?"strict":"loose"].exec(t),r={},s=14;s--;)r[n.key[s]]=e[s]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,i,e){i&&(r[n.q.name][i]=e)}),r}},function(t,i,n){"use strict";function e(){}function r(t){return function(){if(null===t)throw new Error("Callback was already called.");var i=t;t=null,i.apply(this,arguments)}}i.__esModule=!0,i.eachSeries=function(t,i,n,e){var r=0,s=t.length;!function o(u){u||r===s?n&&n(u):e?setTimeout(function(){i(t[r++],o)},1):i(t[r++],o)}()},i.queue=function(t,i){if(null==i)i=1;else if(0===i)throw new Error("Concurrency must not be zero");var n=0,s={_tasks:[],concurrency:i,saturated:e,unsaturated:e,buffer:i/4,empty:e,drain:e,error:e,started:!1,paused:!1,push:function(t,i){o(t,!1,i)},kill:function(){n=0,s.drain=e,s.started=!1,s._tasks=[]},unshift:function(t,i){o(t,!0,i)},process:function(){for(;!s.paused&&n<s.concurrency&&s._tasks.length;){var i=s._tasks.shift();0===s._tasks.length&&s.empty(),(n+=1)===s.concurrency&&s.saturated(),t(i.data,r(u(i)))}},length:function(){return s._tasks.length},running:function(){return n},idle:function(){return s._tasks.length+n===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};function o(t,i,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout(function(){return s.drain()},1);else{var r={data:t,callback:"function"==typeof n?n:e};i?s._tasks.unshift(r):s._tasks.push(r),setTimeout(function(){return s.process()},1)}}function u(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),n<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}return s}},function(t,i,n){"use strict";i.__esModule=!0,i.encodeBinary=r;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(t){for(var i="",n=0;n<t.length;){for(var r=[0,0,0],s=[0,0,0,0],o=0;o<r.length;++o)n<t.length?r[o]=255&t.charCodeAt(n++):r[o]=0;switch(s[0]=r[0]>>2,s[1]=(3&r[0])<<4|r[1]>>4,s[2]=(15&r[1])<<2|r[2]>>6,s[3]=63&r[2],n-(t.length-1)){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64}for(var u=0;u<s.length;++u)i+=e.charAt(s[u])}return i}t.exports.default=r},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(){return function(t,i){var n=t.name+"_image";if(t.data&&t.type===r.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var e={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},s=h(t,this.baseUrl);this.add(n,s,e,function(n){if(n.error)i(n.error);else{var e=new u.Spritesheet(n.texture.baseTexture,t.data,t.url);e.parse(function(){t.spritesheet=e,t.textures=e.textures,i()})}})}else i()}},i.getResourcePath=h;var e,r=n(53),s=n(158),o=(e=s)&&e.__esModule?e:{default:e},u=n(5);function h(t,i){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(i,""),t.data.meta.image)}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(){return function(t,i){t.data&&t.type===r.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),i()}};var e,r=n(53),s=n(28),o=(e=s)&&e.__esModule?e:{default:e}},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(54),s=(e=r)&&e.__esModule?e:{default:e};var o=function(t){function i(n,e,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return o._ready=!0,o.verticesX=e||10,o.verticesY=r||10,o.drawMode=s.default.DRAW_MODES.TRIANGLES,o.refresh(),o}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._refresh=function(){for(var t=this._texture,i=this.verticesX*this.verticesY,n=[],e=[],r=[],s=this.verticesX-1,o=this.verticesY-1,u=t.width/s,h=t.height/o,a=0;a<i;a++){var c=a%this.verticesX,f=a/this.verticesX|0;n.push(c*u,f*h),e.push(c/s,f/o)}for(var l=s*o,v=0;v<l;v++){var d=v%s,p=v/s|0,b=p*this.verticesX+d,w=p*this.verticesX+d+1,m=(p+1)*this.verticesX+d,y=(p+1)*this.verticesX+d+1;r.push(b,w,m),r.push(w,y,m)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(e),this.colors=new Float32Array([]),this.indices=new Uint16Array(r),this.dirty++,this.indexDirty++,this.multiplyUvs()},i.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i}(s.default);i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=i,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();i.default=e},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,i,n){"use strict";(function(t){i.__esModule=!0,i.loader=i.prepare=i.particles=i.mesh=i.loaders=i.interaction=i.filters=i.extras=i.extract=i.accessibility=void 0;var e=n(276);Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return e[t]}})});var r=n(5);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return r[t]}})});var s,o=n(336),u=(s=o)&&s.__esModule?s:{default:s},h=w(n(337)),a=w(n(339)),c=w(n(175)),f=w(n(349)),l=w(n(356)),v=w(n(358)),d=w(n(362)),p=w(n(367)),b=w(n(372));function w(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}r.utils.mixins.performMixins();var m=v.shared||null;i.accessibility=h,i.extract=a,i.extras=c,i.filters=f,i.interaction=l,i.loaders=v,i.mesh=d,i.particles=p,i.prepare=b,i.loader=m,"function"==typeof u.default&&(0,u.default)(i),t.PIXI=i}).call(this,n(12))},function(t,i,n){"use strict";n(277),n(279),n(280),n(281),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,i,n){"use strict";var e,r=n(278),s=(e=r)&&e.__esModule?e:{default:e};Object.assign||(Object.assign=s.default)},function(t,i,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var i={},n=0;n<10;n++)i["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(i).map(function(t){return i[t]}).join(""))return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},e)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var n,o,u=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),h=1;h<arguments.length;h++){for(var a in n=Object(arguments[h]))r.call(n,a)&&(u[a]=n[a]);if(e){o=e(n);for(var c=0;c<o.length;c++)s.call(n,o[c])&&(u[o[c]]=n[o[c]])}}return u}},function(t,i,n){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var i=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-i}}for(var n=Date.now(),e=["ms","moz","webkit","o"],r=0;r<e.length&&!t.requestAnimationFrame;++r){var s=e[r];t.requestAnimationFrame=t[s+"RequestAnimationFrame"],t.cancelAnimationFrame=t[s+"CancelAnimationFrame"]||t[s+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var i=Date.now(),e=16+n-i;return e<0&&(e=0),n=i,setTimeout(function(){n=Date.now(),t(performance.now())},e)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,n(12))},function(t,i,n){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,i,n){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(97),s=(e=r)&&e.__esModule?e:{default:e},o=n(3);var u=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=n,this.radius=e,this.type=o.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,i){if(this.radius<=0)return!1;var n=this.radius*this.radius,e=this.x-t,r=this.y-i;return(e*=e)+(r*=r)<=n},t.prototype.getBounds=function(){return new s.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();i.default=u},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(97),s=(e=r)&&e.__esModule?e:{default:e},o=n(3);var u=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=n,this.width=e,this.height=r,this.type=o.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,e=(i-this.y)/this.height;return(n*=n)+(e*=e)<=1},t.prototype.getBounds=function(){return new s.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();i.default=u},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(95),s=(e=r)&&e.__esModule?e:{default:e},o=n(3);var u=function(){function t(){for(var i=arguments.length,n=Array(i),e=0;e<i;e++)n[e]=arguments[e];if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof s.default){for(var r=[],u=0,h=n.length;u<h;u++)r.push(n[u].x,n[u].y);n=r}this.closed=!0,this.points=n,this.type=o.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,i){for(var n=!1,e=this.points.length/2,r=0,s=e-1;r<e;s=r++){var o=this.points[2*r],u=this.points[2*r+1],h=this.points[2*s],a=this.points[2*s+1];u>i!=a>i&&t<(i-u)/(a-u)*(h-o)+o&&(n=!n)}return n},t}();i.default=u},function(t,i,n){"use strict";i.__esModule=!0;var e=n(3);var r=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=n,this.width=r,this.height=s,this.radius=o,this.type=e.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){if(i>=this.y+this.radius&&i<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),e=i-(this.y+this.radius),r=this.radius*this.radius;if(n*n+e*e<=r)return!0;if((n=t-(this.x+this.width-this.radius))*n+e*e<=r)return!0;if(n*n+(e=i-(this.y+this.height-this.radius))*e<=r)return!0;if((n=t-(this.x+this.radius))*n+e*e<=r)return!0}return!1},t}();i.default=r},function(t,i){t.exports=function(t,i){var n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n}},function(t,i){var n=new ArrayBuffer(0),e=function(t,i,e,r){this.gl=t,this.buffer=t.createBuffer(),this.type=i||t.ARRAY_BUFFER,this.drawType=r||t.STATIC_DRAW,this.data=n,e&&this.upload(e),this._updateID=0};e.prototype.upload=function(t,i,n){n||this.bind();var e=this.gl;t=t||this.data,i=i||0,this.data.byteLength>=t.byteLength?e.bufferSubData(this.type,i,t):e.bufferData(this.type,t,this.drawType),this.data=t},e.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},e.createVertexBuffer=function(t,i,n){return new e(t,t.ARRAY_BUFFER,i,n)},e.createIndexBuffer=function(t,i,n){return new e(t,t.ELEMENT_ARRAY_BUFFER,i,n)},e.create=function(t,i,n,r){return new e(t,i,n,r)},e.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=e},function(t,i,n){var e=n(146),r=function(t,i,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=i||100,this.height=n||100};r.prototype.enableTexture=function(t){var i=this.gl;this.texture=t||new e(i),this.texture.bind(),this.bind(),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,this.texture.texture,0)},r.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},r.prototype.clear=function(t,i,n,e){this.bind();var r=this.gl;r.clearColor(t,i,n,e),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},r.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},r.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},r.prototype.resize=function(t,i){var n=this.gl;this.width=t,this.height=i,this.texture&&this.texture.uploadData(null,t,i),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,i))},r.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},r.createRGBA=function(t,i,n,s){var o=e.fromData(t,null,i,n);o.enableNearestScaling(),o.enableWrapClamp();var u=new r(t,i,n);return u.enableTexture(o),u.unbind(),u},r.createFloat32=function(t,i,n,s){var o=new e.fromData(t,s,i,n);o.enableNearestScaling(),o.enableWrapClamp();var u=new r(t,i,n);return u.enableTexture(o),u.unbind(),u},t.exports=r},function(t,i,n){var e=n(147),r=n(148),s=n(150),o=n(152),u=n(153),h=function(t,i,n,h,a){this.gl=t,h&&(i=o(i,h),n=o(n,h)),this.program=e(t,i,n,a),this.attributes=r(t,this.program),this.uniformData=s(t,this.program),this.uniforms=u(t,this.uniformData)};h.prototype.bind=function(){return this.gl.useProgram(this.program),this},h.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=h},function(t,i,n){var e=n(145);function r(t,i){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=i,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}r.prototype.constructor=r,t.exports=r,r.FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var t=this.gl,i=null,n=0;n<this.attributes.length;n++){var r=this.attributes[n];i!==r.buffer&&(r.buffer.bind(),i=r.buffer),t.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||t.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return e(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(t,i,n,e,r,s){return this.attributes.push({buffer:t,attribute:i,location:i.location,type:n||this.gl.FLOAT,normalized:e||!1,stride:r||0,start:s||0}),this.dirty=!0,this},r.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(t,i,n){var e=this.gl;return this.indexBuffer?e.drawElements(t,i||this.indexBuffer.data.length,e.UNSIGNED_SHORT,2*(n||0)):e.drawArrays(t,n,i||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,i,n){t.exports={compileProgram:n(147),defaultValue:n(151),extractAttributes:n(148),extractUniforms:n(150),generateUniformAccessObject:n(153),setPrecision:n(152),mapSize:n(149),mapType:n(98)}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){if(s.default.tablet||s.default.phone)return 4;return t};var e,r=n(100),s=(e=r)&&e.__esModule?e:{default:e}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,i,n){"use strict";i.__esModule=!0,i.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(i,n){t.__plugins[i]=n},t.prototype.initPlugins=function(){for(var i in this.plugins=this.plugins||{},t.__plugins)this.plugins[i]=new t.__plugins[i](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,i,n){"use strict";function e(t,i){if(t&&i)for(var n=Object.keys(i),e=0;e<n.length;++e){var r=n[e];Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}}i.__esModule=!0,i.mixin=e,i.delayMixin=function(t,i){r.push(t,i)},i.performMixins=function(){for(var t=0;t<r.length;t+=2)e(r[t],r[t+1]);r.length=0};var r=[]},function(t,i,n){"use strict";t.exports=function(t,i,n){var e,r=t.length;if(!(i>=r||0===n)){var s=r-(n=i+n>r?r-i:n);for(e=i;e<s;++e)t[e]=t[e+n];t.length=s}}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(){for(var t=[],i=[],n=0;n<32;n++)t[n]=n,i[n]=n;t[e.BLEND_MODES.NORMAL_NPM]=e.BLEND_MODES.NORMAL,t[e.BLEND_MODES.ADD_NPM]=e.BLEND_MODES.ADD,t[e.BLEND_MODES.SCREEN_NPM]=e.BLEND_MODES.SCREEN,i[e.BLEND_MODES.NORMAL]=e.BLEND_MODES.NORMAL_NPM,i[e.BLEND_MODES.ADD]=e.BLEND_MODES.ADD_NPM,i[e.BLEND_MODES.SCREEN]=e.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(i),r.push(t),r};var e=n(3)},function(t,i,n){(function(t,e){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){i&&i.nodeType,t&&t.nodeType;var o="object"==typeof e&&e;o.global!==o&&o.window!==o&&o.self;var u,h=2147483647,a=36,c=1,f=26,l=38,v=700,d=72,p=128,b="-",w=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=a-c,E=Math.floor,O=String.fromCharCode;function x(t){throw new RangeError(g[t])}function j(t,i){for(var n=t.length,e=[];n--;)e[n]=i(t[n]);return e}function C(t,i){var n=t.split("@"),e="";return n.length>1&&(e=n[0]+"@",t=n[1]),e+j((t=t.replace(y,".")).split("."),i).join(".")}function M(t){for(var i,n,e=[],r=0,s=t.length;r<s;)(i=t.charCodeAt(r++))>=55296&&i<=56319&&r<s?56320==(64512&(n=t.charCodeAt(r++)))?e.push(((1023&i)<<10)+(1023&n)+65536):(e.push(i),r--):e.push(i);return e}function A(t){return j(t,function(t){var i="";return t>65535&&(i+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=O(t)}).join("")}function S(t,i){return t+22+75*(t<26)-((0!=i)<<5)}function I(t,i,n){var e=0;for(t=n?E(t/v):t>>1,t+=E(t/i);t>T*f>>1;e+=a)t=E(t/T);return E(e+(T+1)*t/(t+l))}function R(t){var i,n,e,r,s,o,u,l,v,w,m,y=[],g=t.length,T=0,O=p,j=d;for((n=t.lastIndexOf(b))<0&&(n=0),e=0;e<n;++e)t.charCodeAt(e)>=128&&x("not-basic"),y.push(t.charCodeAt(e));for(r=n>0?n+1:0;r<g;){for(s=T,o=1,u=a;r>=g&&x("invalid-input"),((l=(m=t.charCodeAt(r++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:a)>=a||l>E((h-T)/o))&&x("overflow"),T+=l*o,!(l<(v=u<=j?c:u>=j+f?f:u-j));u+=a)o>E(h/(w=a-v))&&x("overflow"),o*=w;j=I(T-s,i=y.length+1,0==s),E(T/i)>h-O&&x("overflow"),O+=E(T/i),T%=i,y.splice(T++,0,O)}return A(y)}function P(t){var i,n,e,r,s,o,u,l,v,w,m,y,g,T,j,C=[];for(y=(t=M(t)).length,i=p,n=0,s=d,o=0;o<y;++o)(m=t[o])<128&&C.push(O(m));for(e=r=C.length,r&&C.push(b);e<y;){for(u=h,o=0;o<y;++o)(m=t[o])>=i&&m<u&&(u=m);for(u-i>E((h-n)/(g=e+1))&&x("overflow"),n+=(u-i)*g,i=u,o=0;o<y;++o)if((m=t[o])<i&&++n>h&&x("overflow"),m==i){for(l=n,v=a;!(l<(w=v<=s?c:v>=s+f?f:v-s));v+=a)j=l-w,T=a-w,C.push(O(S(w+j%T,0))),l=E(j/T);C.push(O(S(l,0))),s=I(n,g,e==r),n=0,++e}++n,++i}return C.join("")}u={version:"1.4.1",ucs2:{decode:M,encode:A},decode:R,encode:P,toASCII:function(t){return C(t,function(t){return m.test(t)?"xn--"+P(t):t})},toUnicode:function(t){return C(t,function(t){return w.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(r=function(){return u}.call(i,n,i,t))||(t.exports=r)}()}).call(this,n(104)(t),n(12))},function(t,i,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,i,n){"use strict";i.decode=i.parse=n(301),i.encode=i.stringify=n(302)},function(t,i,n){"use strict";function e(t,i){return Object.prototype.hasOwnProperty.call(t,i)}t.exports=function(t,i,n,s){i=i||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var u=/\+/g;t=t.split(i);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var a=t.length;h>0&&a>h&&(a=h);for(var c=0;c<a;++c){var f,l,v,d,p=t[c].replace(u,"%20"),b=p.indexOf(n);b>=0?(f=p.substr(0,b),l=p.substr(b+1)):(f=p,l=""),v=decodeURIComponent(f),d=decodeURIComponent(l),e(o,v)?r(o[v])?o[v].push(d):o[v]=[o[v],d]:o[v]=d}return o};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,i,n){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,i,n,u){return i=i||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),function(o){var u=encodeURIComponent(e(o))+n;return r(t[o])?s(t[o],function(t){return u+encodeURIComponent(e(t))}).join(i):u+encodeURIComponent(e(t[o]))}).join(i):u?encodeURIComponent(e(u))+n+encodeURIComponent(e(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,i){if(t.map)return t.map(i);for(var n=[],e=0;e<t.length;e++)n.push(i(t[e],e));return n}var o=Object.keys||function(t){var i=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.push(n);return i}},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=u(n(11)),s=n(3),o=u(n(304));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){var i=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new o.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/r.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){i._requestId=null,i.started&&(i.update(t),i.started&&null===i._requestId&&i._head.next&&(i._requestId=requestAnimationFrame(i._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new o.default(t,i,n))},t.prototype.addOnce=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new o.default(t,i,n,!0))},t.prototype._addListener=function(t){var i=this._head.next,n=this._head;if(i){for(;i;){if(t.priority>i.priority){t.connect(n);break}n=i,i=i.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,i){for(var n=this._head.next;n;)n=n.match(t,i)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),i=void 0;if(t>this.lastTime){(i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),this.deltaTime=i*r.default.TARGET_FPMS*this.speed;for(var n=this._head,e=n.next;e;)e=e.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},e(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var i=Math.min(Math.max(0,t)/1e3,r.default.TARGET_FPMS);this._maxElapsedMS=1/i}}]),t}();i.default=h},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=i,this.context=n,this.priority=e,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,i){return i=i||null,this.fn===t&&this.context===i},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var i=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),i},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var i=this.next;return this.next=t?null:i,this.previous=null,i},t}();i.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e=u(n(50)),r=n(3),s=n(13),o=u(n(68));function u(t){return t&&t.__esModule?t:{default:t}}var h=new s.Matrix,a=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i}return t.prototype.render=function(t){var i=t._texture,n=this.renderer,e=i._frame.width,u=i._frame.height,a=t.transform.worldTransform,c=0,f=0;if(!(i.orig.width<=0||i.orig.height<=0)&&i.baseTexture.source&&(n.setBlendMode(t.blendMode),i.valid)){n.context.globalAlpha=t.worldAlpha;var l=i.baseTexture.scaleMode===r.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==l&&(n.context[n.smoothProperty]=l),i.trim?(c=i.trim.width/2+i.trim.x-t.anchor.x*i.orig.width,f=i.trim.height/2+i.trim.y-t.anchor.y*i.orig.height):(c=(.5-t.anchor.x)*i.orig.width,f=(.5-t.anchor.y)*i.orig.height),i.rotate&&(a.copy(h),a=h,s.GroupD8.matrixAppendRotationInv(a,i.rotate,c,f),c=0,f=0),c-=e/2,f-=u/2,n.roundPixels?(n.context.setTransform(a.a,a.b,a.c,a.d,a.tx*n.resolution|0,a.ty*n.resolution|0),c|=0,f|=0):n.context.setTransform(a.a,a.b,a.c,a.d,a.tx*n.resolution,a.ty*n.resolution);var v=i.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=o.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,e*v,u*v,c*n.resolution,f*n.resolution,e*n.resolution,u*n.resolution)):n.context.drawImage(i.baseTexture.source,i._frame.x*v,i._frame.y*v,e*v,u*v,c*n.resolution,f*n.resolution,e*n.resolution,u*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();i.default=a,e.default.registerPlugin("sprite",a)},function(t,i,n){"use strict";i.__esModule=!0;var e=n(3);var r=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i}return t.prototype.pushMask=function(t){var i=this.renderer;i.context.save();var n=t.alpha,e=t.transform.worldTransform,r=i.resolution;i.context.setTransform(e.a*r,e.b*r,e.c*r,e.d*r,e.tx*r,e.ty*r),t._texture||(this.renderGraphicsShape(t),i.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var i=this.renderer.context,n=t.graphicsData.length;if(0!==n){i.beginPath();for(var r=0;r<n;r++){var s=t.graphicsData[r],o=s.shape;if(s.type===e.SHAPES.POLY){var u=o.points,h=s.holes,a=void 0,c=void 0;i.moveTo(u[0],u[1]);for(var f=2;f<u.length;f+=2)i.lineTo(u[f],u[f+1]);if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]&&i.closePath(),h.length>0){a=0;for(var l=0;l<u.length;l+=2)a+=u[l]*u[l+3]-u[l+1]*u[l+2];for(var v=0;v<h.length;v++){u=h[v].points,c=0;for(var d=0;d<u.length;d+=2)c+=u[d]*u[d+3]-u[d+1]*u[d+2];if(i.moveTo(u[0],u[1]),c*a<0)for(var p=2;p<u.length;p+=2)i.lineTo(u[p],u[p+1]);else for(var b=u.length-2;b>=2;b-=2)i.lineTo(u[b],u[b+1])}}}else if(s.type===e.SHAPES.RECT)i.rect(o.x,o.y,o.width,o.height),i.closePath();else if(s.type===e.SHAPES.CIRC)i.arc(o.x,o.y,o.radius,0,2*Math.PI),i.closePath();else if(s.type===e.SHAPES.ELIP){var w=2*o.width,m=2*o.height,y=o.x-w/2,g=o.y-m/2,T=w/2*.5522848,E=m/2*.5522848,O=y+w,x=g+m,j=y+w/2,C=g+m/2;i.moveTo(y,C),i.bezierCurveTo(y,C-E,j-T,g,j,g),i.bezierCurveTo(j+T,g,O,C-E,O,C),i.bezierCurveTo(O,C+E,j+T,x,j,x),i.bezierCurveTo(j-T,x,y,C+E,y,C),i.closePath()}else if(s.type===e.SHAPES.RREC){var M=o.x,A=o.y,S=o.width,I=o.height,R=o.radius,P=Math.min(S,I)/2|0;R=R>P?P:R,i.moveTo(M,A+R),i.lineTo(M,A+I-R),i.quadraticCurveTo(M,A+I,M+R,A+I),i.lineTo(M+S-R,A+I),i.quadraticCurveTo(M+S,A+I,M+S,A+I-R),i.lineTo(M+S,A+R),i.quadraticCurveTo(M+S,A,M+S-R,A),i.lineTo(M+R,A),i.quadraticCurveTo(M,A,M,A+R),i.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();i.default=r},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,o.default)()?(t[r.BLEND_MODES.NORMAL]="source-over",t[r.BLEND_MODES.ADD]="lighter",t[r.BLEND_MODES.MULTIPLY]="multiply",t[r.BLEND_MODES.SCREEN]="screen",t[r.BLEND_MODES.OVERLAY]="overlay",t[r.BLEND_MODES.DARKEN]="darken",t[r.BLEND_MODES.LIGHTEN]="lighten",t[r.BLEND_MODES.COLOR_DODGE]="color-dodge",t[r.BLEND_MODES.COLOR_BURN]="color-burn",t[r.BLEND_MODES.HARD_LIGHT]="hard-light",t[r.BLEND_MODES.SOFT_LIGHT]="soft-light",t[r.BLEND_MODES.DIFFERENCE]="difference",t[r.BLEND_MODES.EXCLUSION]="exclusion",t[r.BLEND_MODES.HUE]="hue",t[r.BLEND_MODES.SATURATION]="saturate",t[r.BLEND_MODES.COLOR]="color",t[r.BLEND_MODES.LUMINOSITY]="luminosity"):(t[r.BLEND_MODES.NORMAL]="source-over",t[r.BLEND_MODES.ADD]="lighter",t[r.BLEND_MODES.MULTIPLY]="source-over",t[r.BLEND_MODES.SCREEN]="source-over",t[r.BLEND_MODES.OVERLAY]="source-over",t[r.BLEND_MODES.DARKEN]="source-over",t[r.BLEND_MODES.LIGHTEN]="source-over",t[r.BLEND_MODES.COLOR_DODGE]="source-over",t[r.BLEND_MODES.COLOR_BURN]="source-over",t[r.BLEND_MODES.HARD_LIGHT]="source-over",t[r.BLEND_MODES.SOFT_LIGHT]="source-over",t[r.BLEND_MODES.DIFFERENCE]="source-over",t[r.BLEND_MODES.EXCLUSION]="source-over",t[r.BLEND_MODES.HUE]="source-over",t[r.BLEND_MODES.SATURATION]="source-over",t[r.BLEND_MODES.COLOR]="source-over",t[r.BLEND_MODES.LUMINOSITY]="source-over");return t[r.BLEND_MODES.NORMAL_NPM]=t[r.BLEND_MODES.NORMAL],t[r.BLEND_MODES.ADD_NPM]=t[r.BLEND_MODES.ADD],t[r.BLEND_MODES.SCREEN_NPM]=t[r.BLEND_MODES.SCREEN],t};var e,r=n(3),s=n(164),o=(e=s)&&e.__esModule?e:{default:e}},function(t,i,n){"use strict";i.__esModule=!0;var e=v(n(69)),r=v(n(70)),s=v(n(108)),o=v(n(320)),u=v(n(321)),h=v(n(322)),a=v(n(11)),c=n(6),f=v(n(20)),l=v(n(105));function v(t){return t&&t.__esModule?t:{default:t}}var d=0,p=0,b=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));e.vertSize=5,e.vertByteSize=4*e.vertSize,e.size=a.default.SPRITE_BATCH_SIZE,e.buffers=[];for(var r=1;r<=l.default.nextPow2(e.size);r*=2)e.buffers.push(new h.default(4*r*e.vertByteSize));e.indices=(0,s.default)(e.size),e.shader=null,e.currentIndex=0,e.groups=[];for(var o=0;o<e.size;o++)e.groups[o]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return e.sprites=[],e.vertexBuffers=[],e.vaos=[],e.vaoMax=2,e.vertexCount=0,e.renderer.on("prerender",e.onPrerender,e),e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),a.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,u.default)(this.MAX_TEXTURES,t)),this.shader=(0,o.default)(t,this.MAX_TEXTURES),this.indexBuffer=f.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var i=this.shader.attributes,n=0;n<this.vaoMax;n++){var e=this.vertexBuffers[n]=f.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),r=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(e,i.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(e,i.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(e,i.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);i.aTextureId&&r.addAttribute(e,i.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=r}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},i.prototype.onPrerender=function(){this.vertexCount=0},i.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},i.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,i=this.MAX_TEXTURES,n=l.default.nextPow2(this.currentIndex),e=l.default.log2(n),r=this.buffers[e],s=this.sprites,o=this.groups,u=r.float32View,h=r.uint32View,v=this.boundTextures,b=this.renderer.boundTextures,w=this.renderer.textureGC.count,m=0,y=void 0,g=void 0,T=1,E=0,O=o[0],x=void 0,j=void 0,C=c.premultiplyBlendMode[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0].blendMode];O.textureCount=0,O.start=0,O.blend=C,d++;var M=void 0;for(M=0;M<i;++M){var A=b[M];A._enabled!==d?(v[M]=A,A._virtalBoundId=M,A._enabled=d):v[M]=this.renderer.emptyTextures[M]}for(d++,M=0;M<this.currentIndex;++M){var S=s[M];s[M]=null,y=S._texture.baseTexture;var I=c.premultiplyBlendMode[Number(y.premultipliedAlpha)][S.blendMode];if(C!==I&&(C=I,g=null,E=i,d++),g!==y&&(g=y,y._enabled!==d)){if(E===i&&(d++,O.size=M-O.start,E=0,(O=o[T++]).blend=C,O.textureCount=0,O.start=M),y.touched=w,-1===y._virtalBoundId)for(var R=0;R<i;++R){var P=(R+p)%i,_=v[P];if(_._enabled!==d){p++,_._virtalBoundId=-1,y._virtalBoundId=P,v[P]=y;break}}y._enabled=d,O.textureCount++,O.ids[E]=y._virtalBoundId,O.textures[E++]=y}if(x=S.vertexData,j=S._texture._uvs.uvsUint32,this.renderer.roundPixels){var k=this.renderer.resolution;u[m]=(x[0]*k|0)/k,u[m+1]=(x[1]*k|0)/k,u[m+5]=(x[2]*k|0)/k,u[m+6]=(x[3]*k|0)/k,u[m+10]=(x[4]*k|0)/k,u[m+11]=(x[5]*k|0)/k,u[m+15]=(x[6]*k|0)/k,u[m+16]=(x[7]*k|0)/k}else u[m]=x[0],u[m+1]=x[1],u[m+5]=x[2],u[m+6]=x[3],u[m+10]=x[4],u[m+11]=x[5],u[m+15]=x[6],u[m+16]=x[7];h[m+2]=j[0],h[m+7]=j[1],h[m+12]=j[2],h[m+17]=j[3];var F=Math.min(S.worldAlpha,1),N=F<1&&y.premultipliedAlpha?(0,c.premultiplyTint)(S._tintRGB,F):S._tintRGB+(255*F<<24);h[m+3]=h[m+8]=h[m+13]=h[m+18]=N,u[m+4]=u[m+9]=u[m+14]=u[m+19]=y._virtalBoundId,m+=20}if(O.size=M-O.start,a.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var D=this.shader.attributes,L=this.vertexBuffers[this.vertexCount]=f.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),U=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(L,D.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(L,D.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(L,D.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);D.aTextureId&&U.addAttribute(L,D.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=U}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!1),this.vertexCount++}for(M=0;M<i;++M)b[M]._virtalBoundId=-1;for(M=0;M<T;++M){for(var X=o[M],B=X.textureCount,W=0;W<B;W++)g=X.textures[W],b[X.ids[W]]!==g&&this.renderer.bindTexture(g,X.ids[W],!0),g._virtalBoundId=-1;this.renderer.state.setBlendMode(X.blend),t.drawElements(t.TRIANGLES,6*X.size,t.UNSIGNED_SHORT,6*X.start*2)}this.currentIndex=0}},i.prototype.start=function(){this.renderer.bindShader(this.shader),a.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},i.prototype.stop=function(){this.flush()},i.prototype.destroy=function(){for(var i=0;i<this.vaoMax;i++)this.vertexBuffers[i]&&this.vertexBuffers[i].destroy(),this.vaos[i]&&this.vaos[i].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},i}(e.default);i.default=b,r.default.registerPlugin("sprite",b)},function(t,i,n){"use strict";i.__esModule=!0;var e=s(n(51)),r=s(n(165));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.scissor=!1,e.scissorData=null,e.scissorRenderTarget=null,e.enableScissor=!0,e.alphaMaskPool=[],e.alphaMaskIndex=0,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.pushMask=function(t,i){if(i.texture)this.pushSpriteMask(t,i);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&i.isFastRect()){var n=i.worldTransform,e=Math.atan2(n.b,n.a);(e=Math.round(e*(180/Math.PI)))%90?this.pushStencilMask(i):this.pushScissorMask(t,i)}else this.pushStencilMask(i)},i.prototype.popMask=function(t,i){i.texture?this.popSpriteMask(t,i):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,i):this.popStencilMask(t,i)},i.prototype.pushSpriteMask=function(t,i){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new r.default(i)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=i;var e=t.filterArea;t.filterArea=i.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),t.filterArea=e,this.alphaMaskIndex++},i.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},i.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},i.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},i.prototype.pushScissorMask=function(t,i){i.renderable=!0;var n=this.renderer._activeRenderTarget,e=i.getBounds();e.fit(n.size),i.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var r=this.renderer.resolution;this.renderer.gl.scissor(e.x*r,(n.root?n.size.height-e.y-e.height:e.y)*r,e.width*r,e.height*r),this.scissorRenderTarget=n,this.scissorData=i,this.scissor=!0},i.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},i}(e.default);i.default=o},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n){var e=o(t),r=o(i);return Object.assign(e,r)};var e,r=n(20);var s=((e=r)&&e.__esModule?e:{default:e}).default.shader.defaultValue;function o(t){for(var i=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},e=void 0,r=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<r.length;o++){var u=r[o].trim();if(u.indexOf("uniform")>-1){var h=u.split(" "),a=h[1],c=h[2],f=1;c.indexOf("[")>-1&&(e=c.split(/\[|]/),c=e[0],f*=Number(e[1])),c.match(i)||(n[c]={value:s(a,f),name:c,type:a})}}return n}},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(51),s=(e=r)&&e.__esModule?e:{default:e};var o=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.stencilMaskStack=null,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var i=this.renderer.gl;0===t.length?i.disable(i.STENCIL_TEST):i.enable(i.STENCIL_TEST)},i.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var i=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&i.enable(i.STENCIL_TEST),this.stencilMaskStack.push(t),i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,n,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},i.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,i=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(i),this._useCurrent())},i.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},i.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},i.prototype.destroy=function(){s.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i}(s.default);i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e=c(n(51)),r=c(n(71)),s=c(n(168)),o=n(13),u=c(n(52)),h=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(313)),a=c(n(105));function c(t){return t&&t.__esModule?t:{default:t}}function f(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(){f(this,t),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),v=function(t){function i(n){f(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.gl=e.renderer.gl,e.quad=new s.default(e.gl,n.state.attribState),e.shaderCache={},e.pool={},e.filterData=null,e.managedFilters=[],e.renderer.on("prerender",e.onPrerender,e),e._screenWidth=n.view.width,e._screenHeight=n.view.height,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.pushFilter=function(t,i){var n=this.renderer,e=this.filterData;if(!e){e=this.renderer._activeRenderTarget.filterStack;var r=new l;r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=e={index:0,stack:[r]},this.filterData=e}var s=e.stack[++e.index],o=e.stack[0].destinationFrame;s||(s=e.stack[e.index]=new l);var u=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===n.screen.width&&t.filterArea.height===n.screen.height,h=i[0].resolution,a=0|i[0].padding,c=u?n.screen:t.filterArea||t.getBounds(!0),f=s.sourceFrame,v=s.destinationFrame;f.x=(c.x*h|0)/h,f.y=(c.y*h|0)/h,f.width=(c.width*h|0)/h,f.height=(c.height*h|0)/h,u||(e.stack[0].renderTarget.transform||i[0].autoFit&&f.fit(o),f.pad(a)),v.width=f.width,v.height=f.height;var d=this.getPotRenderTarget(n.gl,f.width,f.height,h);s.target=t,s.filters=i,s.resolution=h,s.renderTarget=d,d.setFrame(v,f),n.bindRenderTarget(d),d.clear()},i.prototype.popFilter=function(){var t=this.filterData,i=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var e=n.filters;if(1===e.length)e[0].apply(this,n.renderTarget,i.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var r=n.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);s.setFrame(n.destinationFrame,n.sourceFrame),s.clear();var o=0;for(o=0;o<e.length-1;++o){e[o].apply(this,r,s,!0,n);var u=r;r=s,s=u}e[o].apply(this,r,i.renderTarget,!1,n),this.freePotRenderTarget(r),this.freePotRenderTarget(s)}n.clear(),t.index--,0===t.index&&(this.filterData=null)},i.prototype.applyFilter=function(t,i,n,e){var r=this.renderer,s=r.gl,o=t.glShaders[r.CONTEXT_UID];o||(t.glShaderKey?(o=this.shaderCache[t.glShaderKey])||(o=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[r.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=o,this.managedFilters.push(t)):(o=t.glShaders[r.CONTEXT_UID]=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),r.bindVao(null),this.quad.initVao(o)),r.bindVao(this.quad.vao),r.bindRenderTarget(n),e&&(s.disable(s.SCISSOR_TEST),r.clear(),s.enable(s.SCISSOR_TEST)),n===r.maskManager.scissorRenderTarget&&r.maskManager.pushScissorMask(null,r.maskManager.scissorData),r.bindShader(o);var h=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=h,this.syncUniforms(o,t),r.state.setBlendMode(t.blendMode),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,i.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),s.bindTexture(s.TEXTURE_2D,h._glTextures[this.renderer.CONTEXT_UID].texture)},i.prototype.syncUniforms=function(t,i){var n=i.uniformData,e=i.uniforms,r=1,s=void 0;if(t.uniforms.filterArea){s=this.filterData.stack[this.filterData.index];var o=t.uniforms.filterArea;o[0]=s.renderTarget.size.width,o[1]=s.renderTarget.size.height,o[2]=s.sourceFrame.x,o[3]=s.sourceFrame.y,t.uniforms.filterArea=o}if(t.uniforms.filterClamp){s=s||this.filterData.stack[this.filterData.index];var u=t.uniforms.filterClamp;u[0]=0,u[1]=0,u[2]=(s.sourceFrame.width-1)/s.renderTarget.size.width,u[3]=(s.sourceFrame.height-1)/s.renderTarget.size.height,t.uniforms.filterClamp=u}for(var h in n)if(t.uniforms.data[h]){var a=n[h].type;if("sampler2d"===a&&0!==e[h]){if(e[h].baseTexture)t.uniforms[h]=this.renderer.bindTexture(e[h].baseTexture,r);else{t.uniforms[h]=r;var c=this.renderer.gl;this.renderer.boundTextures[r]=this.renderer.emptyTextures[r],c.activeTexture(c.TEXTURE0+r),e[h].texture.bind()}r++}else if("mat3"===a)void 0!==e[h].a?t.uniforms[h]=e[h].toArray(!0):t.uniforms[h]=e[h];else if("vec2"===a)if(void 0!==e[h].x){var f=t.uniforms[h]||new Float32Array(2);f[0]=e[h].x,f[1]=e[h].y,t.uniforms[h]=f}else t.uniforms[h]=e[h];else"float"===a?t.uniforms.data[h].value!==n[h]&&(t.uniforms[h]=e[h]):t.uniforms[h]=e[h]}},i.prototype.getRenderTarget=function(t,i){var n=this.filterData.stack[this.filterData.index],e=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,i||n.resolution);return e.setFrame(n.destinationFrame,n.sourceFrame),e},i.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},i.prototype.calculateScreenSpaceMatrix=function(t){var i=this.filterData.stack[this.filterData.index];return h.calculateScreenSpaceMatrix(t,i.sourceFrame,i.renderTarget.size)},i.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var i=this.filterData.stack[this.filterData.index];return h.calculateNormalizedScreenSpaceMatrix(t,i.sourceFrame,i.renderTarget.size,i.destinationFrame)},i.prototype.calculateSpriteMatrix=function(t,i){var n=this.filterData.stack[this.filterData.index];return h.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,i)},i.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.renderer,n=this.managedFilters;i.off("prerender",this.onPrerender,this);for(var e=0;e<n.length;e++)t||n[e].glShaders[i.CONTEXT_UID].destroy(),delete n[e].glShaders[i.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},i.prototype.getPotRenderTarget=function(t,i,n,e){var s="screen";n*=e,(i*=e)===this._screenWidth&&n===this._screenHeight||(s=(65535&(i=a.default.nextPow2(i)))<<16|65535&(n=a.default.nextPow2(n))),this.pool[s]||(this.pool[s]=[]);var o=this.pool[s].pop();if(!o){var u=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new r.default(t,i,n,null,1),t.bindTexture(t.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=e,o.defaultFrame.width=o.size.width=i/e,o.defaultFrame.height=o.size.height=n/e,o.filterPoolKey=s,o},i.prototype.emptyPool=function(){for(var t in this.pool){var i=this.pool[t];if(i)for(var n=0;n<i.length;n++)i[n].destroy(!0)}this.pool={}},i.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},i.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var i=0;i<t.length;i++)t[i].destroy(!0);this.pool.screen=[]}},i}(e.default);i.default=v},function(t,i,n){"use strict";i.__esModule=!0,i.calculateScreenSpaceMatrix=function(t,i,n){var e=t.identity();return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},i.calculateNormalizedScreenSpaceMatrix=function(t,i,n){var e=t.identity();e.translate(i.x/n.width,i.y/n.height);var r=n.width/i.width,s=n.height/i.height;return e.scale(r,s),e},i.calculateSpriteMatrix=function(t,i,n,r){var s=r._texture.orig,o=t.set(n.width,0,0,n.height,i.x,i.y),u=r.worldTransform.copy(e.Matrix.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o};var e=n(13)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(20),s=n(3),o=n(71),u=(e=o)&&e.__esModule?e:{default:e},h=n(6);var a=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i,this.gl=i.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,i){var n=this.gl,e=!!t._glRenderTargets;if(!t.hasLoaded)return null;var o=this.renderer.boundTextures;if(void 0===i){i=0;for(var h=0;h<o.length;++h)if(o[h]===t){i=h;break}}o[i]=t,n.activeTexture(n.TEXTURE0+i);var a=t._glTextures[this.renderer.CONTEXT_UID];if(a)e?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):a.upload(t.source);else{if(e){var c=new u.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);c.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=c,a=c.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(a=new r.GLTexture(this.gl,null,null,null,null)).bind(i),a.premultiplyAlpha=!0,a.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=a,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&a.enableMipmap(),t.wrapMode===s.WRAP_MODES.CLAMP?a.enableWrapClamp():t.wrapMode===s.WRAP_MODES.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),t.scaleMode===s.SCALE_MODES.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a},t.prototype.destroyTexture=function(t,i){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer,e=n.CONTEXT_UID,r=t._glTextures,s=t._glRenderTargets;if(r[e]&&(n.unbindTexture(t),r[e].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[e],!i)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,h.removeItems)(this._managedTextures,o,1)}s&&s[e]&&(n._activeRenderTarget===s[e]&&n.bindRenderTarget(n.rootRenderTarget),s[e].destroy(),delete s[e])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var i=this._managedTextures[t];i._glTextures[this.renderer.CONTEXT_UID]&&delete i._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var i=this._managedTextures[t];this.destroyTexture(i,!0),i.off("update",this.updateTexture,this),i.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();i.default=a},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(3),s=n(11),o=(e=s)&&e.__esModule?e:{default:e};var u=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==r.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,i=t._managedTextures,n=!1,e=0;e<i.length;e++){var r=i[e];!r._glRenderTargets&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),i[e]=null,n=!0)}if(n){for(var s=0,o=0;o<i.length;o++)null!==i[o]&&(i[s++]=i[o]);i.length=s}},t.prototype.unload=function(t){var i=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&i.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();i.default=u},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(317),s=(e=r)&&e.__esModule?e:{default:e};var o=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=i,this.maxAttribs=i.getParameter(i.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,s.default)(i),this.nativeVaoExtension=i.getExtension("OES_vertex_array_object")||i.getExtension("MOZ_OES_vertex_array_object")||i.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var i=0;i<this.activeState.length;i++)t[i]=this.activeState[i]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var i=this.blendModes[t];2===i.length?this.gl.blendFunc(i[0],i[1]):this.gl.blendFuncSeparate(i[0],i[1],i[2],i[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var i=0;i<this.attribState.attribState.length;i++)this.attribState.attribState[i]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();i.default=o},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i[e.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.ADD]=[t.ONE,t.ONE],i[e.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],i[e.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],i[e.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],i};var e=n(3)},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e.DRAW_MODES.POINTS]=t.POINTS,i[e.DRAW_MODES.LINES]=t.LINES,i[e.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,i[e.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,i[e.DRAW_MODES.TRIANGLES]=t.TRIANGLES,i[e.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,i[e.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,i};var e=n(3)},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i){var n=o;n=(n=n.replace(/%count%/gi,i)).replace(/%forloop%/gi,function(t){var i="";i+="\n",i+="\n";for(var n=0;n<t;n++)n>0&&(i+="\nelse "),n<t-1&&(i+="if(vTextureId < "+n+".5)"),i+="\n{",i+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",i+="\n}";return i+="\n",i+="\n"}(i));for(var e=new s.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n),r=[],u=0;u<i;u++)r[u]=u;return e.bind(),e.uniforms.uSamplers=r,e};var e,r=n(52),s=(e=r)&&e.__esModule?e:{default:e};n(24);var o=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i){var n=!i;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var e=document.createElement("canvas");e.width=1,e.height=1,i=s.default.createContext(e)}var r=i.createShader(i.FRAGMENT_SHADER);for(;;){var h=o.replace(/%forloop%/gi,u(t));if(i.shaderSource(r,h),i.compileShader(r),i.getShaderParameter(r,i.COMPILE_STATUS))break;t=t/2|0}n&&i.getExtension("WEBGL_lose_context")&&i.getExtension("WEBGL_lose_context").loseContext();return t};var e,r=n(20),s=(e=r)&&e.__esModule?e:{default:e};var o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function u(t){for(var i="",n=0;n<t;++n)n>0&&(i+="\nelse "),n<t-1&&(i+="if(test == "+n+".0){}");return i}},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(i),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();i.default=e},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=v(n(103)),s=v(n(28)),o=n(13),u=n(6),h=n(3),a=v(n(11)),c=v(n(169)),f=v(n(170)),l=v(n(324));function v(t){return t&&t.__esModule?t:{default:t}}var d={texture:!0,children:!1,baseTexture:!0},p=function(t){function i(n,e,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(r=r||document.createElement("canvas")).width=3,r.height=3;var u=s.default.fromCanvas(r,a.default.SCALE_MODE,"text");u.orig=new o.Rectangle,u.trim=new o.Rectangle;var h=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,u));return s.default.addToCache(h._texture,h._texture.baseTexture.textureCacheIds[0]),h.canvas=r,h.context=h.canvas.getContext("2d"),h.resolution=a.default.RESOLUTION,h._text=null,h._style=null,h._styleListener=null,h._font="",h.text=n,h.style=e,h.localStyleID=-1,h}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.updateText=function(t){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,e=f.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),r=e.width,s=e.height,o=e.lines,u=e.lineHeight,h=e.lineWidths,a=e.maxLineWidth,c=e.fontProperties;this.canvas.width=Math.ceil((Math.max(1,r)+2*i.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*i.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=i.stroke,n.lineWidth=i.strokeThickness,n.textBaseline=i.textBaseline,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit;var l=void 0,v=void 0;if(i.dropShadow){n.fillStyle=i.dropShadowColor,n.globalAlpha=i.dropShadowAlpha,n.shadowBlur=i.dropShadowBlur,i.dropShadowBlur>0&&(n.shadowColor=i.dropShadowColor);for(var d=Math.cos(i.dropShadowAngle)*i.dropShadowDistance,p=Math.sin(i.dropShadowAngle)*i.dropShadowDistance,b=0;b<o.length;b++)l=i.strokeThickness/2,v=i.strokeThickness/2+b*u+c.ascent,"right"===i.align?l+=a-h[b]:"center"===i.align&&(l+=(a-h[b])/2),i.fill&&(this.drawLetterSpacing(o[b],l+d+i.padding,v+p+i.padding),i.stroke&&i.strokeThickness&&(n.strokeStyle=i.dropShadowColor,this.drawLetterSpacing(o[b],l+d+i.padding,v+p+i.padding,!0),n.strokeStyle=i.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(i,o);for(var w=0;w<o.length;w++)l=i.strokeThickness/2,v=i.strokeThickness/2+w*u+c.ascent,"right"===i.align?l+=a-h[w]:"center"===i.align&&(l+=(a-h[w])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(o[w],l+i.padding,v+i.padding,!0),i.fill&&this.drawLetterSpacing(o[w],l+i.padding,v+i.padding);this.updateTexture()}},i.prototype.drawLetterSpacing=function(t,i,n){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._style.letterSpacing;if(0!==r)for(var s=String.prototype.split.call(t,""),o=i,u=0,h="",a=this.context.measureText(t).width,c=0;u<t.length;)h=s[u++],e?this.context.strokeText(h,o,n):this.context.fillText(h,o,n),o+=a-(c=this.context.measureText(t.substring(u)).width)+r,a=c;else e?this.context.strokeText(t,i,n):this.context.fillText(t,i,n)},i.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var i=(0,l.default)(t);i.data&&(t.width=i.width,t.height=i.height,this.context.putImageData(i.data,0,0))}var n=this._texture,e=this._style,r=e.trim?0:e.padding,s=n.baseTexture;s.hasLoaded=!0,s.resolution=this.resolution,s.realWidth=t.width,s.realHeight=t.height,s.width=t.width/this.resolution,s.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-r,n.trim.y=-r,n.orig.width=n._frame.width-2*r,n.orig.height=n._frame.height-2*r,this._onTextureUpdate(),s.emit("update",s),this.dirty=!1},i.prototype.renderWebGL=function(i){this.resolution!==i.resolution&&(this.resolution=i.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,i)},i.prototype._renderCanvas=function(i){this.resolution!==i.resolution&&(this.resolution=i.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,i)},i.prototype.getLocalBounds=function(i){return this.updateText(!0),t.prototype.getLocalBounds.call(this,i)},i.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},i.prototype._onStyleChange=function(){this.dirty=!0},i.prototype._generateFillStyle=function(t,i){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,e=void 0,r=void 0,s=void 0,o=this.canvas.width/this.resolution,u=this.canvas.height/this.resolution,a=t.fill.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var f=a.length+1,l=1;l<f;++l)c.push(l/f);if(a.unshift(t.fill[0]),c.unshift(0),a.push(t.fill[t.fill.length-1]),c.push(1),t.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(o/2,0,o/2,u),e=(a.length+1)*i.length,r=0;for(var v=0;v<i.length;v++){r+=1;for(var d=0;d<a.length;d++)s="number"==typeof c[d]?c[d]/i.length+v/i.length:r/e,n.addColorStop(s,a[d]),r++}}else{n=this.context.createLinearGradient(0,u/2,o,u/2),e=a.length+1,r=1;for(var p=0;p<a.length;p++)s="number"==typeof c[p]?c[p]:r/e,n.addColorStop(s,a[p]),r++}return n},i.prototype.destroy=function(i){"boolean"==typeof i&&(i={children:i}),i=Object.assign({},d,i),t.prototype.destroy.call(this,i),this.context=null,this.canvas=null,this._style=null},e(i,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var i=(0,u.sign)(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var i=(0,u.sign)(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof c.default?this._style=t:this._style=new c.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),i}(r.default);i.default=p},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){var i=t.width,n=t.height,e=t.getContext("2d"),r=e.getImageData(0,0,i,n).data,s=r.length,o={top:null,left:null,right:null,bottom:null},u=null,h=void 0,a=void 0,c=void 0;for(h=0;h<s;h+=4)0!==r[h+3]&&(a=h/4%i,c=~~(h/4/i),null===o.top&&(o.top=c),null===o.left?o.left=a:a<o.left&&(o.left=a),null===o.right?o.right=a+1:o.right<a&&(o.right=a+1),null===o.bottom?o.bottom=c:o.bottom<c&&(o.bottom=c));null!==o.top&&(i=o.right-o.left,n=o.bottom-o.top+1,u=e.getImageData(o.left,o.top,i,n));return{height:n,width:i,data:u}}},function(t,i,n){"use strict";i.__esModule=!0;var e=d(n(49)),r=d(n(107)),s=d(n(28)),o=d(n(171)),u=d(n(103)),h=n(13),a=n(6),c=n(3),f=d(n(99)),l=d(n(326)),v=d(n(50));function d(t){return t&&t.__esModule?t:{default:t}}var p=void 0,b=new h.Matrix,w=new h.Point,m=new Float32Array(4),y=new Float32Array(4),g=function(t){function i(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return e.fillAlpha=1,e.lineWidth=0,e.nativeLines=n,e.lineColor=0,e.lineAlignment=.5,e.graphicsData=[],e.tint=16777215,e._prevTint=16777215,e.blendMode=c.BLEND_MODES.NORMAL,e.currentPath=null,e._webGL={},e.isMask=!1,e.boundsPadding=0,e._localBounds=new f.default,e.dirty=0,e.fastRectDirty=-1,e.clearDirty=0,e.boundsDirty=-1,e.cachedSpriteDirty=!1,e._spriteRect=null,e._fastRect=!1,e._prevRectTint=null,e._prevRectFillColor=null,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype._quadraticCurveLength=function(t,i,n,e,r,s){var o=t-2*n+r,u=i-2*e+s,h=2*n-2*t,a=2*e-2*i,c=4*(o*o+u*u),f=4*(o*h+u*a),l=h*h+a*a,v=2*Math.sqrt(c+f+l),d=Math.sqrt(c),p=2*c*d,b=2*Math.sqrt(l),w=f/d;return(p*v+d*f*(v-b)+(4*l*c-f*f)*Math.log((2*d+w+v)/(w+b)))/(4*p)},i.prototype._bezierCurveLength=function(t,i,n,e,r,s,o,u){for(var h=0,a=0,c=0,f=0,l=0,v=0,d=0,p=0,b=0,w=0,m=0,y=t,g=i,T=1;T<=10;++T)w=y-(p=(d=(v=(l=1-(a=T/10))*l)*l)*t+3*v*a*n+3*l*(c=a*a)*r+(f=c*a)*o),m=g-(b=d*i+3*v*a*e+3*l*c*s+f*u),y=p,g=b,h+=Math.sqrt(w*w+m*m);return h},i.prototype._segmentsCount=function(t){var n=Math.ceil(t/i.CURVES.maxLength);return n<i.CURVES.minSegments?n=i.CURVES.minSegments:n>i.CURVES.maxSegments&&(n=i.CURVES.maxSegments),n},i.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=i,this.lineAlpha=n,this.lineAlignment=e,this.currentPath)if(this.currentPath.shape.points.length){var r=new h.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},i.prototype.moveTo=function(t,i){var n=new h.Polygon([t,i]);return n.closed=!1,this.drawShape(n),this},i.prototype.lineTo=function(t,i){var n=this.currentPath.shape.points,e=n[n.length-2],r=n[n.length-1];return e===t&&r===i||(n.push(t,i),this.dirty++),this},i.prototype.quadraticCurveTo=function(t,n,e,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,o=0,u=0;0===s.length&&this.moveTo(0,0);for(var h=s[s.length-2],a=s[s.length-1],c=i.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(h,a,t,n,e,r)):20,f=1;f<=c;++f){var l=f/c;o=h+(t-h)*l,u=a+(n-a)*l,s.push(o+(t+(e-t)*l-o)*l,u+(n+(r-n)*l-u)*l)}return this.dirty++,this},i.prototype.bezierCurveTo=function(t,n,e,r,s,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var u=this.currentPath.shape.points,h=u[u.length-2],a=u[u.length-1];u.length-=2;var c=i.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(h,a,t,n,e,r,s,o)):20;return(0,l.default)(h,a,t,n,e,r,s,o,c,u),this.dirty++,this},i.prototype.arcTo=function(t,i,n,e,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,i):this.moveTo(t,i);var s=this.currentPath.shape.points,o=s[s.length-2],u=s[s.length-1]-i,h=o-t,a=e-i,c=n-t,f=Math.abs(u*c-h*a);if(f<1e-8||0===r)s[s.length-2]===t&&s[s.length-1]===i||s.push(t,i);else{var l=u*u+h*h,v=a*a+c*c,d=u*a+h*c,p=r*Math.sqrt(l)/f,b=r*Math.sqrt(v)/f,w=p*d/l,m=b*d/v,y=p*c+b*h,g=p*a+b*u,T=h*(b+w),E=u*(b+w),O=c*(p+m),x=a*(p+m),j=Math.atan2(E-g,T-y),C=Math.atan2(x-g,O-y);this.arc(y+t,g+i,r,j,C,h*a>c*u)}return this.dirty++,this},i.prototype.arc=function(t,n,e,r,s){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===s)return this;!o&&s<=r?s+=c.PI_2:o&&r<=s&&(r+=c.PI_2);var u=s-r,h=i.CURVES.adaptive?this._segmentsCount(Math.abs(u)*e):40*Math.ceil(Math.abs(u)/c.PI_2);if(0===u)return this;var a=t+Math.cos(r)*e,f=n+Math.sin(r)*e,l=this.currentPath?this.currentPath.shape.points:null;if(l){var v=Math.abs(l[l.length-2]-a),d=Math.abs(l[l.length-1]-f);v<.001&&d<.001||l.push(a,f)}else this.moveTo(a,f),l=this.currentPath.shape.points;for(var p=u/(2*h),b=2*p,w=Math.cos(p),m=Math.sin(p),y=h-1,g=y%1/y,T=0;T<=y;++T){var E=p+r+b*(T+g*T),O=Math.cos(E),x=-Math.sin(E);l.push((w*O+m*x)*e+t,(w*-x+m*O)*e+n)}return this.dirty++,this},i.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=i,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,i,n,e){return this.drawShape(new h.Rectangle(t,i,n,e)),this},i.prototype.drawRoundedRect=function(t,i,n,e,r){return this.drawShape(new h.RoundedRectangle(t,i,n,e,r)),this},i.prototype.drawCircle=function(t,i,n){return this.drawShape(new h.Circle(t,i,n)),this},i.prototype.drawEllipse=function(t,i,n,e){return this.drawShape(new h.Ellipse(t,i,n,e)),this},i.prototype.drawPolygon=function(t){var i=t,n=!0;if(i instanceof h.Polygon&&(n=i.closed,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var e=0;e<i.length;++e)i[e]=arguments[e]}var r=new h.Polygon(i);return r.closed=n,this.drawShape(r),this},i.prototype.drawStar=function(t,i,n,e,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r=r||e/2;for(var o=-1*Math.PI/2+s,u=2*n,h=c.PI_2/u,a=[],f=0;f<u;f++){var l=f%2?r:e,v=f*h+o;a.push(t+l*Math.cos(v),i+l*Math.sin(v))}return this.drawPolygon(a)},i.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},i.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===c.SHAPES.RECT&&!this.graphicsData[0].lineWidth},i.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},i.prototype._renderSpriteRect=function(t){var i=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new u.default(new s.default(s.default.WHITE)));var n=this._spriteRect,e=this.graphicsData[0].fillColor;if(16777215===this.tint)n.tint=e;else if(this.tint!==this._prevRectTint||e!==this._prevRectFillColor){var r=m,o=y;(0,a.hex2rgb)(e,r),(0,a.hex2rgb)(this.tint,o),r[0]*=o[0],r[1]*=o[1],r[2]*=o[2],n.tint=(0,a.rgb2hex)(r),this._prevRectTint=this.tint,this._prevRectFillColor=e}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=i.width,n._texture._frame.height=i.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-i.x/i.width,-i.y/i.height),n._onAnchorUpdate(),n._renderWebGL(t)},i.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},i.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,w);for(var i=this.graphicsData,n=0;n<i.length;++n){var e=i[n];if(e.fill&&(e.shape&&e.shape.contains(w.x,w.y))){var r=!1;if(e.holes)for(var s=0;s<e.holes.length;s++){if(e.holes[s].contains(w.x,w.y)){r=!0;break}}if(!r)return!0}}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,i=-1/0,n=1/0,e=-1/0;if(this.graphicsData.length)for(var r=0,s=0,o=0,u=0,h=0,a=0;a<this.graphicsData.length;a++){var f=this.graphicsData[a],l=f.type,v=f.lineWidth*f.lineAlignment;if(r=f.shape,l===c.SHAPES.RECT||l===c.SHAPES.RREC)s=r.x-v,o=r.y-v,t=s<t?s:t,i=s+(u=r.width+2*v)>i?s+u:i,n=o<n?o:n,e=o+(h=r.height+2*v)>e?o+h:e;else if(l===c.SHAPES.CIRC)s=r.x,o=r.y,t=s-(u=r.radius+v)<t?s-u:t,i=s+u>i?s+u:i,n=o-(h=r.radius+v)<n?o-h:n,e=o+h>e?o+h:e;else if(l===c.SHAPES.ELIP)s=r.x,o=r.y,t=s-(u=r.width+v)<t?s-u:t,i=s+u>i?s+u:i,n=o-(h=r.height+v)<n?o-h:n,e=o+h>e?o+h:e;else for(var d=r.points,p=0,b=0,w=0,m=0,y=0,g=0,T=0,E=0,O=0;O+2<d.length;O+=2)s=d[O],o=d[O+1],p=d[O+2],b=d[O+3],w=Math.abs(p-s),m=Math.abs(b-o),h=2*v,(u=Math.sqrt(w*w+m*m))<1e-9||(t=(T=(p+s)/2)-(y=(h/u*m+w)/2)<t?T-y:t,i=T+y>i?T+y:i,n=(E=(b+o)/2)-(g=(h/u*w+m)/2)<n?E-g:n,e=E+g>e?E+g:e)}else t=0,i=0,n=0,e=0;var x=this.boundsPadding;this._localBounds.minX=t-x,this._localBounds.maxX=i+x,this._localBounds.minY=n-x,this._localBounds.maxY=e+x},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var i=new o.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(i),i.type===c.SHAPES.POLY&&(i.shape.closed=i.shape.closed,this.currentPath=i),this.dirty++,i},i.prototype.generateCanvasTexture=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),e=r.default.create(n.width,n.height,t,i);p||(p=new v.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(b),b.invert(),b.tx-=n.x,b.ty-=n.y,p.render(this,e,!0,b);var o=s.default.fromCanvas(e.baseTexture._canvasRenderTarget.canvas,t,"graphics");return o.baseTexture.resolution=i,o.baseTexture.update(),o},i.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},i.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},i.prototype.destroy=function(i){t.prototype.destroy.call(this,i);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var e in this._webGL)for(var r=0;r<this._webGL[e].data.length;++r)this._webGL[e].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},i}(e.default);i.default=g,g._SPRITE_TEXTURE=null,g.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n,e,r,s,o,u,h){var a=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],c=0,f=0,l=0,v=0,d=0;a.push(t,i);for(var p=1,b=0;p<=h;++p)l=(f=(c=1-(b=p/h))*c)*c,d=(v=b*b)*b,a.push(l*t+3*f*b*n+3*c*v*r+d*o,l*i+3*f*b*e+3*c*v*s+d*u);return a}},function(t,i,n){"use strict";i.__esModule=!0;var e=n(6),r=n(3),s=v(n(69)),o=v(n(70)),u=v(n(328)),h=v(n(329)),a=v(n(330)),c=v(n(331)),f=v(n(332)),l=v(n(333));function v(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.graphicsDataPool=[],e.primitiveShader=null,e.gl=n.gl,e.CONTEXT_UID=0,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new h.default(this.gl)},i.prototype.destroy=function(){s.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var i=this.renderer,n=i.gl,r=void 0,s=t._webGL[this.CONTEXT_UID];s&&t.dirty===s.dirty||(this.updateGraphics(t),s=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;i.bindShader(o),i.state.setBlendMode(t.blendMode);for(var u=0,h=s.data.length;u<h;u++){var a=(r=s.data[u]).shader;i.bindShader(a),a.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),a.uniforms.tint=(0,e.hex2rgb)(t.tint),a.uniforms.alpha=t.worldAlpha,i.bindVao(r.vao),r.nativeLines?n.drawArrays(n.LINES,0,r.points.length/6):r.vao.draw(n.TRIANGLE_STRIP,r.indices.length)}},i.prototype.updateGraphics=function(t){var i=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:i,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var e=0;e<n.data.length;e++)this.graphicsDataPool.push(n.data[e]);n.data.length=0,n.lastIndex=0}for(var s=void 0,o=void 0,u=n.lastIndex;u<t.graphicsData.length;u++){var h=t.graphicsData[u];s=this.getWebGLData(n,0),h.nativeLines&&h.lineWidth&&(o=this.getWebGLData(n,0,!0),n.lastIndex++),h.type===r.SHAPES.POLY&&(0,a.default)(h,s,o),h.type===r.SHAPES.RECT?(0,c.default)(h,s,o):h.type===r.SHAPES.CIRC||h.type===r.SHAPES.ELIP?(0,l.default)(h,s,o):h.type===r.SHAPES.RREC&&(0,f.default)(h,s,o),n.lastIndex++}this.renderer.bindVao(null);for(var v=0;v<n.data.length;v++)(s=n.data[v]).dirty&&s.upload()},i.prototype.getWebGLData=function(t,i,n){var e=t.data[t.data.length-1];return(!e||e.nativeLines!==n||e.points.length>32e4)&&((e=this.graphicsDataPool.pop()||new u.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,e.reset(i),t.data.push(e)),e.dirty=!0,e},i}(s.default);i.default=d,o.default.registerPlugin("graphics",d)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(20),s=(e=r)&&e.__esModule?e:{default:e};var o=function(){function t(i,n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=i,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=s.default.GLBuffer.createVertexBuffer(i),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(i),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new s.default.VertexArrayObject(i,e).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,i.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,i.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(52);var s=function(t){function i(n){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i}(((e=r)&&e.__esModule?e:{default:e}).default);i.default=s},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n){t.points=t.shape.points.slice();var o=t.points;if(t.fill&&o.length>=6){for(var u=[],h=t.holes,a=0;a<h.length;a++){var c=h[a];u.push(o.length/2),o=o.concat(c.points)}var f=i.points,l=i.indices,v=o.length/2,d=(0,r.hex2rgb)(t.fillColor),p=t.fillAlpha,b=d[0]*p,w=d[1]*p,m=d[2]*p,y=(0,s.default)(o,u,2);if(!y)return;for(var g=f.length/6,T=0;T<y.length;T+=3)l.push(y[T]+g),l.push(y[T]+g),l.push(y[T+1]+g),l.push(y[T+2]+g),l.push(y[T+2]+g);for(var E=0;E<v;E++)f.push(o[2*E],o[2*E+1],b,w,m,p)}t.lineWidth>0&&(0,e.default)(t,i,n)};var e=o(n(72)),r=n(6),s=o(n(102));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n){var e=t.shape,r=e.x,u=e.y,h=e.width,a=e.height;if(t.fill){var c=(0,o.hex2rgb)(t.fillColor),f=t.fillAlpha,l=c[0]*f,v=c[1]*f,d=c[2]*f,p=i.points,b=i.indices,w=p.length/6;p.push(r,u),p.push(l,v,d,f),p.push(r+h,u),p.push(l,v,d,f),p.push(r,u+a),p.push(l,v,d,f),p.push(r+h,u+a),p.push(l,v,d,f),b.push(w,w,w+1,w+2,w+3,w+3)}if(t.lineWidth){var m=t.points;t.points=[r,u,r+h,u,r+h,u+a,r,u+a,r,u],(0,s.default)(t,i,n),t.points=m}};var e,r=n(72),s=(e=r)&&e.__esModule?e:{default:e},o=n(6)},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n){var o=t.shape,u=o.x,a=o.y,c=o.width,f=o.height,l=o.radius,v=[];if(v.push(u+l,a),h(u+c-l,a,u+c,a,u+c,a+l,v),h(u+c,a+f-l,u+c,a+f,u+c-l,a+f,v),h(u+l,a+f,u,a+f,u,a+f-l,v),h(u,a+l,u,a,u+l+1e-10,a,v),t.fill){for(var d=(0,s.hex2rgb)(t.fillColor),p=t.fillAlpha,b=d[0]*p,w=d[1]*p,m=d[2]*p,y=i.points,g=i.indices,T=y.length/6,E=(0,e.default)(v,null,2),O=0,x=E.length;O<x;O+=3)g.push(E[O]+T),g.push(E[O]+T),g.push(E[O+1]+T),g.push(E[O+2]+T),g.push(E[O+2]+T);for(var j=0,C=v.length;j<C;j++)y.push(v[j],v[++j],b,w,m,p)}if(t.lineWidth){var M=t.points;t.points=v,(0,r.default)(t,i,n),t.points=M}};var e=o(n(102)),r=o(n(72)),s=n(6);function o(t){return t&&t.__esModule?t:{default:t}}function u(t,i,n){return t+(i-t)*n}function h(t,i,n,e,r,s){for(var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],h=0,a=0,c=0,f=0,l=0,v=0,d=0,p=0;d<=20;++d)h=u(t,n,p=d/20),a=u(i,e,p),c=u(n,r,p),f=u(e,s,p),l=u(h,c,p),v=u(a,f,p),o.push(l,v);return o}},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t,i,n){var e=t.shape,r=e.x,h=e.y,a=void 0,c=void 0;t.type===o.SHAPES.CIRC?(a=e.radius,c=e.radius):(a=e.width,c=e.height);if(0===a||0===c)return;var f=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(e.width+e.height)),l=2*Math.PI/f;if(t.fill){var v=(0,u.hex2rgb)(t.fillColor),d=t.fillAlpha,p=v[0]*d,b=v[1]*d,w=v[2]*d,m=i.points,y=i.indices,g=m.length/6;y.push(g);for(var T=0;T<f+1;T++)m.push(r,h,p,b,w,d),m.push(r+Math.sin(l*T)*a,h+Math.cos(l*T)*c,p,b,w,d),y.push(g++,g++);y.push(g-1)}if(t.lineWidth){var E=t.points;t.points=[];for(var O=0;O<f;O++)t.points.push(r+Math.sin(l*-O)*a,h+Math.cos(l*-O)*c);t.points.push(t.points[0],t.points[1]),(0,s.default)(t,i,n),t.points=E}};var e,r=n(72),s=(e=r)&&e.__esModule?e:{default:e},o=n(3),u=n(6)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(50),s=(e=r)&&e.__esModule?e:{default:e},o=n(3);var u=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i}return t.prototype.render=function(t){var i=this.renderer,n=i.context,e=t.worldAlpha,r=t.transform.worldTransform,s=i.resolution;n.setTransform(r.a*s,r.b*s,r.c*s,r.d*s,r.tx*s,r.ty*s),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),i.setBlendMode(t.blendMode);for(var u=0;u<t.graphicsData.length;u++){var h=t.graphicsData[u],a=h.shape,c=h._fillTint,f=h._lineTint;if(n.lineWidth=h.lineWidth,h.type===o.SHAPES.POLY){n.beginPath();var l=a.points,v=h.holes,d=void 0,p=void 0,b=void 0,w=void 0;n.moveTo(l[0],l[1]);for(var m=2;m<l.length;m+=2)n.lineTo(l[m],l[m+1]);if(a.closed&&n.closePath(),v.length>0){d=0,b=l[0],w=l[1];for(var y=2;y+2<l.length;y+=2)d+=(l[y]-b)*(l[y+3]-w)-(l[y+2]-b)*(l[y+1]-w);for(var g=0;g<v.length;g++)if(l=v[g].points){p=0,b=l[0],w=l[1];for(var T=2;T+2<l.length;T+=2)p+=(l[T]-b)*(l[T+3]-w)-(l[T+2]-b)*(l[T+1]-w);if(p*d<0){n.moveTo(l[0],l[1]);for(var E=2;E<l.length;E+=2)n.lineTo(l[E],l[E+1])}else{n.moveTo(l[l.length-2],l[l.length-1]);for(var O=l.length-4;O>=0;O-=2)n.lineTo(l[O],l[O+1])}v[g].close&&n.closePath()}}h.fill&&(n.globalAlpha=h.fillAlpha*e,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),h.lineWidth&&(n.globalAlpha=h.lineAlpha*e,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke())}else if(h.type===o.SHAPES.RECT)(h.fillColor||0===h.fillColor)&&(n.globalAlpha=h.fillAlpha*e,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fillRect(a.x,a.y,a.width,a.height)),h.lineWidth&&(n.globalAlpha=h.lineAlpha*e,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.strokeRect(a.x,a.y,a.width,a.height));else if(h.type===o.SHAPES.CIRC)n.beginPath(),n.arc(a.x,a.y,a.radius,0,2*Math.PI),n.closePath(),h.fill&&(n.globalAlpha=h.fillAlpha*e,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),h.lineWidth&&(n.globalAlpha=h.lineAlpha*e,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke());else if(h.type===o.SHAPES.ELIP){var x=2*a.width,j=2*a.height,C=a.x-x/2,M=a.y-j/2;n.beginPath();var A=x/2*.5522848,S=j/2*.5522848,I=C+x,R=M+j,P=C+x/2,_=M+j/2;n.moveTo(C,_),n.bezierCurveTo(C,_-S,P-A,M,P,M),n.bezierCurveTo(P+A,M,I,_-S,I,_),n.bezierCurveTo(I,_+S,P+A,R,P,R),n.bezierCurveTo(P-A,R,C,_+S,C,_),n.closePath(),h.fill&&(n.globalAlpha=h.fillAlpha*e,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),h.lineWidth&&(n.globalAlpha=h.lineAlpha*e,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke())}else if(h.type===o.SHAPES.RREC){var k=a.x,F=a.y,N=a.width,D=a.height,L=a.radius,U=Math.min(N,D)/2|0;L=L>U?U:L,n.beginPath(),n.moveTo(k,F+L),n.lineTo(k,F+D-L),n.quadraticCurveTo(k,F+D,k+L,F+D),n.lineTo(k+N-L,F+D),n.quadraticCurveTo(k+N,F+D,k+N,F+D-L),n.lineTo(k+N,F+L),n.quadraticCurveTo(k+N,F,k+N-L,F),n.lineTo(k+L,F),n.quadraticCurveTo(k,F,k,F+L),n.closePath(),(h.fillColor||0===h.fillColor)&&(n.globalAlpha=h.fillAlpha*e,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),h.lineWidth&&(n.globalAlpha=h.lineAlpha*e,n.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var i=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,e=(255&t.tint)/255,r=0;r<t.graphicsData.length;++r){var s=t.graphicsData[r],o=0|s.fillColor,u=0|s.lineColor;s._fillTint=((o>>16&255)/255*i*255<<16)+((o>>8&255)/255*n*255<<8)+(255&o)/255*e*255,s._lineTint=((u>>16&255)/255*i*255<<16)+((u>>8&255)/255*n*255<<8)+(255&u)/255*e*255}},t.prototype.renderPolygon=function(t,i,n){n.moveTo(t[0],t[1]);for(var e=1;e<t.length/2;++e)n.lineTo(t[2*e],t[2*e+1]);i&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();i.default=u,s.default.registerPlugin("graphics",u)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=n(5),s=n(6);var o=function(){function t(i,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=i,this.textures={},this.animations={},this.data=n,this.resolution=this._updateResolution(e||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var i=this.data.meta.scale,n=(0,s.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==i?parseFloat(i):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(i){this._batchIndex=0,this._callback=i,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(i){for(var n=i,e=t.BATCH_SIZE,s=this.baseTexture.sourceScale;n-i<e&&n<this._frameKeys.length;){var o=this._frameKeys[n],u=this._frames[o],h=u.frame;if(h){var a=null,c=null,f=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,l=new r.Rectangle(0,0,Math.floor(f.w*s)/this.resolution,Math.floor(f.h*s)/this.resolution);a=u.rotated?new r.Rectangle(Math.floor(h.x*s)/this.resolution,Math.floor(h.y*s)/this.resolution,Math.floor(h.h*s)/this.resolution,Math.floor(h.w*s)/this.resolution):new r.Rectangle(Math.floor(h.x*s)/this.resolution,Math.floor(h.y*s)/this.resolution,Math.floor(h.w*s)/this.resolution,Math.floor(h.h*s)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(c=new r.Rectangle(Math.floor(u.spriteSourceSize.x*s)/this.resolution,Math.floor(u.spriteSourceSize.y*s)/this.resolution,Math.floor(h.w*s)/this.resolution,Math.floor(h.h*s)/this.resolution)),this.textures[o]=new r.Texture(this.baseTexture,a,l,c,u.rotated?2:0,u.anchor),r.Texture.addToCache(this.textures[o],o)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var i in t){this.animations[i]=[];var n=t[i],e=Array.isArray(n),r=0;for(n=e?n:n[Symbol.iterator]();;){var s;if(e){if(r>=n.length)break;s=n[r++]}else{if((r=n.next()).done)break;s=r.value}var o=s;this.animations[i].push(this.textures[o])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var i=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){i._batchIndex*t.BATCH_SIZE<i._frameKeys.length?i._nextBatch():(i._processAnimations(),i._parseComplete())},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();i.default=o},function(t,i,n){"use strict";i.__esModule=!0,i.default=function(t){var i=t.mesh,n=t.particles,e=t.extras,s=t.filters,o=t.prepare,u=t.loaders,h=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return r("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return r("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return r("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),i.Mesh}},Rope:{get:function(){return r("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),i.Rope}},ParticleContainer:{get:function(){return r("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return r("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),e.AnimatedSprite}},TilingSprite:{get:function(){return r("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),e.TilingSprite}},BitmapText:{get:function(){return r("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),e.BitmapText}},blendModes:{get:function(){return r("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return r("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return r("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return r("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return r("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return r("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(i){r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=i}},FILTER_RESOLUTION:{get:function(){return r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(i){r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=i}},RESOLUTION:{get:function(){return r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(i){r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=i}},MIPMAP_TEXTURES:{get:function(){return r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(i){r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=i}},SPRITE_BATCH_SIZE:{get:function(){return r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(i){r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=i}},SPRITE_MAX_TEXTURES:{get:function(){return r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(i){r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=i}},RETINA_PREFIX:{get:function(){return r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(i){r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=i}},DEFAULT_RENDER_OPTIONS:{get:function(){return r("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var a=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],c=function(i){var n=a[i];Object.defineProperty(t[n.parent],"DEFAULT",{get:function(){return r("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function(i){r("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=i}})},f=0;f<a.length;f++)c(f);Object.defineProperties(t.settings,{PRECISION:{get:function(){return r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(i){r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=i}}}),e.AnimatedSprite&&Object.defineProperties(e,{MovieClip:{get:function(){return r("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),e.AnimatedSprite}}});e&&Object.defineProperties(e,{TextureTransform:{get:function(){return r("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,i,n){return r("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,i,n)},t.Graphics.prototype.generateTexture=function(t,i){return r("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,i)},t.GroupD8.isSwapWidthHeight=function(i){return r("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(i)},t.RenderTexture.prototype.render=function(t,i,n,e){this.legacyRenderer.render(t,this,n,i,!e),r("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return r("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return r("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return r("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return r("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,r("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},e.BitmapText&&(e.BitmapText.prototype.setText=function(t){this.text=t,r("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,r("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(i){return r("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(i)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return r("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return r("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return r("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,r("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(i){return r("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(i)},t.Text.getFontStyle=function(i){return r("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(i=i||{})instanceof t.TextStyle||(i=new t.TextStyle(i)),i.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){r("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){r("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var i=t.split(" "),n=-1;this._fontSize=26;for(var e=0;e<i.length;++e)if(i[e].match(/(px|pt|em|%)/)){n=e,this._fontSize=i[e];break}this._fontWeight="normal";for(var s=0;s<n;++s)if(i[s].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=i[s];break}if(n>-1&&n<i.length-1){this._fontFamily="";for(var o=n+1;o<i.length;++o)this._fontFamily+=i[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,r("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(i,n){t.Texture.addToCache(i,n),r("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(i){return r("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(i),t.Texture.removeFromCache(i)},Object.defineProperties(s,{AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return r("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return r("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),s.AlphaFilter}}}),t.utils.uuid=function(){return r("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return r("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var l=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(r("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),l=t},get:function(){return l}}),o.BasePrepare&&(o.BasePrepare.prototype.register=function(t,i){return r("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),i&&this.registerUploadHook(i),this});o.canvas&&Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});o.webgl&&Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(u.Loader){var v=u.Resource,d=u.Loader;Object.defineProperties(v.prototype,{isJson:{get:function(){return r("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===v.TYPE.JSON}},isXml:{get:function(){return r("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===v.TYPE.XML}},isImage:{get:function(){return r("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===v.TYPE.IMAGE}},isAudio:{get:function(){return r("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===v.TYPE.AUDIO}},isVideo:{get:function(){return r("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===v.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return r("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return r("The after() method is deprecated, please use use()."),this.use}}})}h.interactiveTarget&&Object.defineProperty(h.interactiveTarget,"defaultCursor",{set:function(t){r("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return r("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});h.InteractionManager&&(Object.defineProperty(h.InteractionManager,"defaultCursorStyle",{set:function(t){r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(h.InteractionManager,"currentCursorStyle",{set:function(t){r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var e={};function r(t){if(!e[t]){var i=(new Error).stack;void 0===i?console.warn("Deprecation Warning: ",t):(i=i.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(i),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(i))),e[t]=!0}}},function(t,i,n){"use strict";i.__esModule=!0;var e=n(174);Object.defineProperty(i,"accessibleTarget",{enumerable:!0,get:function(){return s(e).default}});var r=n(338);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"AccessibilityManager",{enumerable:!0,get:function(){return s(r).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),r=o(n(100)),s=o(n(174));function o(t){return t&&t.__esModule?t:{default:t}}e.utils.mixins.delayMixin(e.DisplayObject.prototype,s.default);var u=100,h=0,a=0,c=2,f=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),!r.default.tablet&&!r.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=u+"px",n.style.height=u+"px",n.style.position="absolute",n.style.top=h+"px",n.style.left=a+"px",n.style.zIndex=c,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=i,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,i=document.createElement("button");i.style.width="1px",i.style.height="1px",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.style.zIndex=2,i.style.backgroundColor="#FF0000",i.title="HOOK DIV",i.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(i)}),document.body.appendChild(i)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var i=t.children,n=0;n<i.length;n++)this.updateAccessibleObjects(i[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),i=t.width/this.renderer.width,n=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var o=this.children[s];if(o.renderId!==this.renderId)o._accessibleActive=!1,e.utils.removeItems(this.children,s,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,s--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var u=o.hitArea,h=o.worldTransform;o.hitArea?(r.style.left=(h.tx+u.x*h.a)*i+"px",r.style.top=(h.ty+u.y*h.d)*n+"px",r.style.width=u.width*h.a*i+"px",r.style.height=u.height*h.d*n+"px"):(u=o.getBounds(),this.capHitArea(u),r.style.left=u.x*i+"px",r.style.top=u.y*n+"px",r.style.width=u.width*i+"px",r.style.height=u.height*n+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var i=this.pool.pop();i||((i=document.createElement("button")).style.width=u+"px",i.style.height=u+"px",i.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",i.style.position="absolute",i.style.zIndex=c,i.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?i.setAttribute("aria-live","off"):i.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?i.setAttribute("aria-relevant","additions"):i.setAttribute("aria-relevant","text"),i.addEventListener("click",this._onClick.bind(this)),i.addEventListener("focus",this._onFocus.bind(this)),i.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?i.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(i.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&i.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=i,i.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var i=this.renderer.plugins.interaction;i.dispatchEvent(t.target.displayObject,"click",i.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var i=this.renderer.plugins.interaction;i.dispatchEvent(t.target.displayObject,"mouseover",i.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var i=this.renderer.plugins.interaction;i.dispatchEvent(t.target.displayObject,"mouseout",i.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();i.default=f,e.WebGLRenderer.registerPlugin("accessibility",f),e.CanvasRenderer.registerPlugin("accessibility",f)},function(t,i,n){"use strict";i.__esModule=!0;var e=n(340);Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return s(e).default}});var r=n(341);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return s(r).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));var r=new e.Rectangle,s=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i,i.extract=this}return t.prototype.image=function(t){var i=new Image;return i.src=this.base64(t),i},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var i=this.renderer,n=void 0,s=void 0,o=void 0,u=!1,h=void 0,a=!1;t&&(t instanceof e.RenderTexture?h=t:(h=this.renderer.generateTexture(t),a=!0)),h?(s=(n=h.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,o=h.frame,u=!1):(s=(n=this.renderer.rootRenderTarget).resolution,u=!0,(o=r).width=n.size.width,o.height=n.size.height);var c=Math.floor(o.width*s+1e-4),f=Math.floor(o.height*s+1e-4),l=new e.CanvasRenderTarget(c,f,1);if(n){i.bindRenderTarget(n);var v=new Uint8Array(4*c*f),d=i.gl;d.readPixels(o.x*s,o.y*s,c,f,d.RGBA,d.UNSIGNED_BYTE,v);var p=l.context.getImageData(0,0,c,f);p.data.set(v),l.context.putImageData(p,0,0),u&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-f))}return a&&h.destroy(!0),l.canvas},t.prototype.pixels=function(t){var i=this.renderer,n=void 0,s=void 0,o=void 0,u=void 0,h=!1;t&&(t instanceof e.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(s=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,o=u.frame):(s=(n=this.renderer.rootRenderTarget).resolution,(o=r).width=n.size.width,o.height=n.size.height);var a=o.width*s,c=o.height*s,f=new Uint8Array(4*a*c);if(n){i.bindRenderTarget(n);var l=i.gl;l.readPixels(o.x*s,o.y*s,a,c,l.RGBA,l.UNSIGNED_BYTE,f)}return h&&u.destroy(!0),f},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();i.default=s,e.WebGLRenderer.registerPlugin("extract",s)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));var r=new e.Rectangle,s=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i,i.extract=this}return t.prototype.image=function(t){var i=new Image;return i.src=this.base64(t),i},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var i=this.renderer,n=void 0,s=void 0,o=void 0,u=void 0;t&&(u=t instanceof e.RenderTexture?t:i.generateTexture(t)),u?(n=u.baseTexture._canvasRenderTarget.context,s=u.baseTexture._canvasRenderTarget.resolution,o=u.frame):(n=i.rootContext,s=i.resolution,(o=r).width=this.renderer.width,o.height=this.renderer.height);var h=Math.floor(o.width*s+1e-4),a=Math.floor(o.height*s+1e-4),c=new e.CanvasRenderTarget(h,a,1),f=n.getImageData(o.x*s,o.y*s,h,a);return c.context.putImageData(f,0,0),c.canvas},t.prototype.pixels=function(t){var i=this.renderer,n=void 0,s=void 0,o=void 0,u=void 0;return t&&(u=t instanceof e.RenderTexture?t:i.generateTexture(t)),u?(n=u.baseTexture._canvasRenderTarget.context,s=u.baseTexture._canvasRenderTarget.resolution,o=u.frame):(n=i.rootContext,(o=r).width=i.width,o.height=i.height),n.getImageData(0,0,o.width*s,o.height*s).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();i.default=s,e.CanvasRenderer.registerPlugin("extract",s)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));var s=function(t){function i(n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var s=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n[0]instanceof r.Texture?n[0]:n[0].texture));return s._textures=null,s._durations=null,s.textures=n,s._autoUpdate=!1!==e,s.animationSpeed=1,s.loop=!0,s.updateAnchor=!1,s.onComplete=null,s.onFrameChange=null,s.onLoop=null,s._currentTime=0,s.playing=!1,s}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&r.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&r.ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.HIGH))},i.prototype.gotoAndStop=function(t){this.stop();var i=this.currentFrame;this._currentTime=t,i!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(t){var i=this.currentFrame;this._currentTime=t,i!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(t){var i=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var e=this._currentTime%1*this._durations[this.currentFrame];for(e+=i/60*1e3;e<0;)this._currentTime--,e+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);e>=this._durations[this.currentFrame];)e-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=e/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},i.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},i.prototype.destroy=function(i){this.stop(),t.prototype.destroy.call(this,i)},i.fromFrames=function(t){for(var n=[],e=0;e<t.length;++e)n.push(r.Texture.fromFrame(t[e]));return new i(n)},i.fromImages=function(t){for(var n=[],e=0;e<t.length;++e)n.push(r.Texture.fromImage(t[e]));return new i(n)},e(i,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof r.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<t.length;i++)this._textures.push(t[i].texture),this._durations.push(t[i].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),i}(r.Sprite);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),o=n(68),u=(e=o)&&e.__esModule?e:{default:e};var h=new s.Point,a=function(t){function i(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return o.tileTransform=new s.TransformStatic,o._width=e,o._height=r,o._canvasPattern=null,o.uvTransform=n.transform||new s.TextureMatrix(n),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},i.prototype._renderWebGL=function(t){var i=this._texture;i&&i.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},i.prototype._renderCanvas=function(t){var i=this._texture;if(i.baseTexture.hasLoaded){var n=t.context,e=this.worldTransform,r=t.resolution,o=2===i.rotate,h=i.baseTexture,a=h.resolution,c=this.tilePosition.x/this.tileScale.x%i.orig.width*a,f=this.tilePosition.y/this.tileScale.y%i.orig.height*a;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new s.CanvasRenderTarget(i.orig.width,i.orig.height,a);if(16777215!==this.tint)this.tintedTexture=u.default.getTintedTexture(this,this.tint),l.context.drawImage(this.tintedTexture,0,0);else{var v=i._frame.x*a,d=i._frame.y*a,p=i._frame.width*a,b=i._frame.height*a,w=(i.trim?i.trim.width:i.orig.width)*a,m=(i.trim?i.trim.height:i.orig.height)*a,y=(i.trim?i.trim.x:0)*a,g=(i.trim?i.trim.y:0)*a;o?(l.context.rotate(-Math.PI/2),l.context.translate(-m,0),l.context.drawImage(h.source,v,d,p,b,-g,y,m,w)):l.context.drawImage(h.source,v,d,p,b,y,g,w,m)}this.cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(e.a*r,e.b*r,e.c*r,e.d*r,e.tx*r,e.ty*r),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/a,this.tileScale.y/a);var T=this.anchor.x*-this._width*a,E=this.anchor.y*-this._height*a;this.uvRespectAnchor?(n.translate(c,f),n.fillRect(-c+T,-f+E,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(n.translate(c+T,f+E),n.fillRect(-c,-f,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},i.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,i=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),e=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,i,n,e)},i.prototype.getLocalBounds=function(i){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),i||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),i=this._localBoundsRect),this._bounds.getRectangle(i)):t.prototype.getLocalBounds.call(this,i)},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var i=this._width,n=this._height,e=-i*this.anchor._x;if(h.x>=e&&h.x<e+i){var r=-n*this.anchor._y;if(h.y>=r&&h.y<r+n)return!0}return!1},i.prototype.destroy=function(i){t.prototype.destroy.call(this,i),this.tileTransform=null,this.uvTransform=null},i.from=function(t,n,e){return new i(s.Texture.from(t),n,e)},i.fromFrame=function(t,n,e){var r=s.utils.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(r,n,e)},i.fromImage=function(t,n,e,r,o){return new i(s.Texture.fromImage(t,r,o),n,e)},r(i,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),i}(s.Sprite);i.default=a},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),r=n(3);n(24);var s=new e.Matrix,o=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.shader=null,e.simpleShader=null,e.quad=null,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new e.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new e.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new e.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},i.prototype.render=function(t){var i=this.renderer,n=this.quad;i.bindVao(n.vao);var o=n.vertices;o[0]=o[6]=t._width*-t.anchor.x,o[1]=o[3]=t._height*-t.anchor.y,o[2]=o[4]=t._width*(1-t.anchor.x),o[5]=o[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((o=n.uvs)[0]=o[6]=-t.anchor.x,o[1]=o[3]=-t.anchor.y,o[2]=o[4]=1-t.anchor.x,o[5]=o[7]=1-t.anchor.y),n.upload();var u=t._texture,h=u.baseTexture,a=t.tileTransform.localTransform,c=t.uvTransform,f=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;f&&(h._glTextures[i.CONTEXT_UID]?f=h.wrapMode!==r.WRAP_MODES.CLAMP:h.wrapMode===r.WRAP_MODES.CLAMP&&(h.wrapMode=r.WRAP_MODES.REPEAT));var l=f?this.simpleShader:this.shader;i.bindShader(l);var v=u.width,d=u.height,p=t._width,b=t._height;s.set(a.a*v/p,a.b*v/b,a.c*d/p,a.d*d/b,a.tx/p,a.ty/b),s.invert(),f?s.prepend(c.mapCoord):(l.uniforms.uMapCoord=c.mapCoord.toArray(!0),l.uniforms.uClampFrame=c.uClampFrame,l.uniforms.uClampOffset=c.uClampOffset),l.uniforms.uTransform=s.toArray(!0),l.uniforms.uColor=e.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,l.uniforms.uColor,h.premultipliedAlpha),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=i.bindTexture(u),i.setBlendMode(e.utils.correctBlendMode(t.blendMode,h.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},i}(e.ObjectRenderer);i.default=o,e.WebGLRenderer.registerPlugin("tilingSprite",o)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=h(n(143)),o=n(6),u=h(n(11));function h(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function i(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return r._textWidth=0,r._textHeight=0,r._glyphs=[],r._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},r.font=e.font,r._text=n,r._maxWidth=0,r._maxLineHeight=0,r._letterSpacing=0,r._anchor=new s.default(function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],n=this._font.size/t.size,e=new r.Point,s=[],o=[],u=this.text.replace(/(?:\r\n|\r)/g,"\n"),h=u.length,a=this._maxWidth*t.size/this._font.size,c=null,f=0,l=0,v=0,d=-1,p=0,b=0,w=0,m=0;m<h;m++){var y=u.charCodeAt(m),g=u.charAt(m);if(/(?:\s)/.test(g)&&(d=m,p=f),"\r"!==g&&"\n"!==g){var T=t.chars[y];T&&(c&&T.kerning[c]&&(e.x+=T.kerning[c]),s.push({texture:T.texture,line:v,charCode:y,position:new r.Point(e.x+T.xOffset+this._letterSpacing/2,e.y+T.yOffset)}),e.x+=T.xAdvance+this._letterSpacing,f=e.x,w=Math.max(w,T.yOffset+T.texture.height),c=y,-1!==d&&a>0&&e.x>a&&(++b,r.utils.removeItems(s,1+d-b,1+m-d),m=d,d=-1,o.push(p),l=Math.max(l,p),v++,e.x=0,e.y+=t.lineHeight,c=null))}else o.push(f),l=Math.max(l,f),++v,++b,e.x=0,e.y+=t.lineHeight,c=null}var E=u.charAt(u.length-1);"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(f=p),o.push(f),l=Math.max(l,f));for(var O=[],x=0;x<=v;x++){var j=0;"right"===this._font.align?j=l-o[x]:"center"===this._font.align&&(j=(l-o[x])/2),O.push(j)}for(var C=s.length,M=this.tint,A=0;A<C;A++){var S=this._glyphs[A];S?S.texture=s[A].texture:(S=new r.Sprite(s[A].texture),this._glyphs.push(S)),S.position.x=(s[A].position.x+O[s[A].line])*n,S.position.y=s[A].position.y*n,S.scale.x=S.scale.y=n,S.tint=M,S.parent||this.addChild(S)}for(var I=C;I<this._glyphs.length;++I)this.removeChild(this._glyphs[I]);if(this._textWidth=l*n,this._textHeight=(e.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var R=0;R<C;R++)this._glyphs[R].x-=this._textWidth*this.anchor.x,this._glyphs[R].y-=this._textHeight*this.anchor.y;this._maxLineHeight=w*n},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.registerFont=function(t,n){var e={},s=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0],a=t.getElementsByTagName("page"),c=(0,o.getResolutionOfUrl)(a[0].getAttribute("file"),u.default.RESOLUTION),f={};e.font=s.getAttribute("face"),e.size=parseInt(s.getAttribute("size"),10),e.lineHeight=parseInt(h.getAttribute("lineHeight"),10)/c,e.chars={},n instanceof r.Texture&&(n=[n]);for(var l=0;l<a.length;l++){var v=a[l].getAttribute("id"),d=a[l].getAttribute("file");f[v]=n instanceof Array?n[l]:n[d]}for(var p=t.getElementsByTagName("char"),b=0;b<p.length;b++){var w=p[b],m=parseInt(w.getAttribute("id"),10),y=w.getAttribute("page")||0,g=new r.Rectangle(parseInt(w.getAttribute("x"),10)/c+f[y].frame.x/c,parseInt(w.getAttribute("y"),10)/c+f[y].frame.y/c,parseInt(w.getAttribute("width"),10)/c,parseInt(w.getAttribute("height"),10)/c);e.chars[m]={xOffset:parseInt(w.getAttribute("xoffset"),10)/c,yOffset:parseInt(w.getAttribute("yoffset"),10)/c,xAdvance:parseInt(w.getAttribute("xadvance"),10)/c,kerning:{},texture:new r.Texture(f[y].baseTexture,g),page:y}}for(var T=t.getElementsByTagName("kerning"),E=0;E<T.length;E++){var O=T[E],x=parseInt(O.getAttribute("first"),10)/c,j=parseInt(O.getAttribute("second"),10)/c,C=parseInt(O.getAttribute("amount"),10)/c;e.chars[j]&&(e.chars[j].kerning[x]=C)}return i.fonts[e.font]=e,e},e(i,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),i}(r.Container);i.default=a,a.fonts={}},function(t,i,n){"use strict";var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),r=u(n(28)),s=u(n(40)),o=n(6);function u(t){return t&&t.__esModule?t:{default:t}}var h=e.DisplayObject,a=new e.Matrix;h.prototype._cacheAsBitmap=!1,h.prototype._cacheData=!1;var c=function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(h.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var i=void 0;t?(this._cacheData||(this._cacheData=new c),(i=this._cacheData).originalRenderWebGL=this.renderWebGL,i.originalRenderCanvas=this.renderCanvas,i.originalUpdateTransform=this.updateTransform,i.originalCalculateBounds=this.calculateBounds,i.originalGetLocalBounds=this.getLocalBounds,i.originalDestroy=this.destroy,i.originalContainsPoint=this.containsPoint,i.originalMask=this._mask,i.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((i=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=i.originalRenderWebGL,this.renderCanvas=i.originalRenderCanvas,this.calculateBounds=i.originalCalculateBounds,this.getLocalBounds=i.originalGetLocalBounds,this.destroy=i.originalDestroy,this.updateTransform=i.originalUpdateTransform,this.containsPoint=i.originalContainsPoint,this._mask=i.originalMask,this.filterArea=i.originalFilterArea)}}}}),h.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},h.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var u=this._filters[0].padding;n.pad(u)}n.ceil(e.settings.RESOLUTION);var h=t._activeRenderTarget,c=t.filterManager.filterStack,f=e.RenderTexture.create(n.width,n.height),l="cacheAsBitmap_"+(0,o.uid)();this._cacheData.textureCacheId=l,s.default.addToCache(f.baseTexture,l),r.default.addToCache(f,l);var v=a;v.tx=-n.x,v.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,f,!0,v,!0),t.bindRenderTarget(h),t.filterManager.filterStack=c,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var d=new e.Sprite(f);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-n.x/n.width,d.anchor.y=-n.y/n.height,d.alpha=i,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},h.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},h.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var i=this.getLocalBounds(),n=this.alpha;this.alpha=1;var u=t.context;i.ceil(e.settings.RESOLUTION);var h=e.RenderTexture.create(i.width,i.height),c="cacheAsBitmap_"+(0,o.uid)();this._cacheData.textureCacheId=c,s.default.addToCache(h.baseTexture,c),r.default.addToCache(h,c);var f=a;this.transform.localTransform.copy(f),f.invert(),f.tx-=i.x,f.ty-=i.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,h,!0,f,!1),t.context=u,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new e.Sprite(h);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-i.x/i.width,l.anchor.y=-i.y/i.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},h.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},h.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},h.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.default.removeFromCache(this._cacheData.textureCacheId),r.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},h.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,i,n){"use strict";var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));e.DisplayObject.prototype.name=null,e.Container.prototype.getChildByName=function(t){for(var i=0;i<this.children.length;i++)if(this.children[i].name===t)return this.children[i];return null}},function(t,i,n){"use strict";var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));e.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.Point,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,i):(t.x=this.position.x,t.y=this.position.y),t}},function(t,i,n){"use strict";i.__esModule=!0;var e=n(350);Object.defineProperty(i,"FXAAFilter",{enumerable:!0,get:function(){return f(e).default}});var r=n(351);Object.defineProperty(i,"NoiseFilter",{enumerable:!0,get:function(){return f(r).default}});var s=n(352);Object.defineProperty(i,"DisplacementFilter",{enumerable:!0,get:function(){return f(s).default}});var o=n(353);Object.defineProperty(i,"BlurFilter",{enumerable:!0,get:function(){return f(o).default}});var u=n(176);Object.defineProperty(i,"BlurXFilter",{enumerable:!0,get:function(){return f(u).default}});var h=n(180);Object.defineProperty(i,"BlurYFilter",{enumerable:!0,get:function(){return f(h).default}});var a=n(354);Object.defineProperty(i,"ColorMatrixFilter",{enumerable:!0,get:function(){return f(a).default}});var c=n(355);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"AlphaFilter",{enumerable:!0,get:function(){return f(c).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));n(24);var r=function(t){function i(){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i}(e.Filter);i.default=r},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));n(24);var s=function(t){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return r.noise=n,r.seed=e,r}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),e(i,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),i}(r.Filter);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));n(24);var s=function(t){function i(n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var s=new r.Matrix;n.renderable=!1;var o=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return o.maskSprite=n,o.maskMatrix=s,o.uniforms.mapSampler=n._texture,o.uniforms.filterMatrix=s,o.uniforms.scale={x:1,y:1},null==e&&(e=20),o.scale=new r.Point(e,e),o}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.apply=function(t,i,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,i,n)},e(i,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),i}(r.Filter);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=u(n(176)),o=u(n(180));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function i(n,e,u,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var a=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return a.blurXFilter=new s.default(n,e,u,h),a.blurYFilter=new o.default(n,e,u,h),a.padding=0,a.resolution=u||r.settings.RESOLUTION,a.quality=e||4,a.blur=n||8,a}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.apply=function(t,i,n){var e=t.getRenderTarget(!0);this.blurXFilter.apply(t,i,e,!0),this.blurYFilter.apply(t,e,n,!1),t.returnRenderTarget(e)},e(i,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),i}(r.Filter);i.default=h},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));n(24);var s=function(t){function i(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._loadMatrix=function(t){var i=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},i.prototype._multiply=function(t,i,n){return t[0]=i[0]*n[0]+i[1]*n[5]+i[2]*n[10]+i[3]*n[15],t[1]=i[0]*n[1]+i[1]*n[6]+i[2]*n[11]+i[3]*n[16],t[2]=i[0]*n[2]+i[1]*n[7]+i[2]*n[12]+i[3]*n[17],t[3]=i[0]*n[3]+i[1]*n[8]+i[2]*n[13]+i[3]*n[18],t[4]=i[0]*n[4]+i[1]*n[9]+i[2]*n[14]+i[3]*n[19]+i[4],t[5]=i[5]*n[0]+i[6]*n[5]+i[7]*n[10]+i[8]*n[15],t[6]=i[5]*n[1]+i[6]*n[6]+i[7]*n[11]+i[8]*n[16],t[7]=i[5]*n[2]+i[6]*n[7]+i[7]*n[12]+i[8]*n[17],t[8]=i[5]*n[3]+i[6]*n[8]+i[7]*n[13]+i[8]*n[18],t[9]=i[5]*n[4]+i[6]*n[9]+i[7]*n[14]+i[8]*n[19]+i[9],t[10]=i[10]*n[0]+i[11]*n[5]+i[12]*n[10]+i[13]*n[15],t[11]=i[10]*n[1]+i[11]*n[6]+i[12]*n[11]+i[13]*n[16],t[12]=i[10]*n[2]+i[11]*n[7]+i[12]*n[12]+i[13]*n[17],t[13]=i[10]*n[3]+i[11]*n[8]+i[12]*n[13]+i[13]*n[18],t[14]=i[10]*n[4]+i[11]*n[9]+i[12]*n[14]+i[13]*n[19]+i[14],t[15]=i[15]*n[0]+i[16]*n[5]+i[17]*n[10]+i[18]*n[15],t[16]=i[15]*n[1]+i[16]*n[6]+i[17]*n[11]+i[18]*n[16],t[17]=i[15]*n[2]+i[16]*n[7]+i[17]*n[12]+i[18]*n[17],t[18]=i[15]*n[3]+i[16]*n[8]+i[17]*n[13]+i[18]*n[18],t[19]=i[15]*n[4]+i[16]*n[9]+i[17]*n[14]+i[18]*n[19]+i[19],t},i.prototype._colorMatrix=function(t){var i=new Float32Array(t);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},i.prototype.brightness=function(t,i){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)},i.prototype.greyscale=function(t,i){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)},i.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},i.prototype.hue=function(t,i){t=(t||0)/180*Math.PI;var n=Math.cos(t),e=Math.sin(t),r=1/3,s=(0,Math.sqrt)(r),o=[n+(1-n)*r,r*(1-n)-s*e,r*(1-n)+s*e,0,0,r*(1-n)+s*e,n+r*(1-n),r*(1-n)-s*e,0,0,r*(1-n)-s*e,r*(1-n)+s*e,n+r*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,i)},i.prototype.contrast=function(t,i){var n=(t||0)+1,e=-.5*(n-1),r=[n,0,0,0,e,0,n,0,0,e,0,0,n,0,e,0,0,0,1,0];this._loadMatrix(r,i)},i.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1],n=2*t/3+1,e=-.5*(n-1),r=[n,e,e,0,0,e,n,e,0,0,e,e,n,0,0,0,0,0,1,0];this._loadMatrix(r,i)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},i.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},i.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},i.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},i.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},i.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},i.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},i.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},i.prototype.colorTone=function(t,i,n,e,r){var s=((n=n||16770432)>>16&255)/255,o=(n>>8&255)/255,u=(255&n)/255,h=((e=e||3375104)>>16&255)/255,a=(e>>8&255)/255,c=(255&e)/255,f=[.3,.59,.11,0,0,s,o,u,t=t||.2,0,h,a,c,i=i||.15,0,s-h,o-a,u-c,0,0];this._loadMatrix(f,r)},i.prototype.night=function(t,i){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,i)},i.prototype.predator=function(t,i){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,i)},i.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},i.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},e(i,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),i}(r.Filter);i.default=s,s.prototype.grayscale=s.prototype.greyscale},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5));n(24);var s=function(t){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return e.alpha=n,e.glShaderKey="alpha",e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),e(i,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),i}(r.Filter);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=n(181);Object.defineProperty(i,"InteractionData",{enumerable:!0,get:function(){return h(e).default}});var r=n(357);Object.defineProperty(i,"InteractionManager",{enumerable:!0,get:function(){return h(r).default}});var s=n(184);Object.defineProperty(i,"interactiveTarget",{enumerable:!0,get:function(){return h(s).default}});var o=n(183);Object.defineProperty(i,"InteractionTrackingData",{enumerable:!0,get:function(){return h(o).default}});var u=n(182);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"InteractionEvent",{enumerable:!0,get:function(){return h(u).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=c(n(181)),o=c(n(182)),u=c(n(183)),h=c(n(34)),a=c(n(184));function c(t){return t&&t.__esModule?t:{default:t}}r.utils.mixins.delayMixin(r.DisplayObject.prototype,a.default);var f=1,l={target:null,data:{global:null}},v=function(t){function i(n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return e=e||{},u.renderer=n,u.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,u.interactionFrequency=e.interactionFrequency||10,u.mouse=new s.default,u.mouse.identifier=f,u.mouse.global.set(-999999),u.activeInteractionData={},u.activeInteractionData[f]=u.mouse,u.interactionDataPool=[],u.eventData=new o.default,u.interactionDOMElement=null,u.moveWhenInside=!1,u.eventsAdded=!1,u.mouseOverRenderer=!1,u.supportsTouchEvents="ontouchstart"in window,u.supportsPointerEvents=!!window.PointerEvent,u.onPointerUp=u.onPointerUp.bind(u),u.processPointerUp=u.processPointerUp.bind(u),u.onPointerCancel=u.onPointerCancel.bind(u),u.processPointerCancel=u.processPointerCancel.bind(u),u.onPointerDown=u.onPointerDown.bind(u),u.processPointerDown=u.processPointerDown.bind(u),u.onPointerMove=u.onPointerMove.bind(u),u.processPointerMove=u.processPointerMove.bind(u),u.onPointerOut=u.onPointerOut.bind(u),u.processPointerOverOut=u.processPointerOverOut.bind(u),u.onPointerOver=u.onPointerOver.bind(u),u.cursorStyles={default:"inherit",pointer:"pointer"},u.currentCursorMode=null,u.cursor=null,u._tempPoint=new r.Point,u.resolution=1,u.setTargetElement(u.renderer.view,u.renderer.resolution),u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.hitTest=function(t,i){return l.target=null,l.data.global=t,i||(i=this.renderer._lastObjectRendered),this.processInteractive(l,i,null,!0),l.target},i.prototype.setTargetElement=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=i,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(r.ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(r.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var i in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(i)){var n=this.activeInteractionData[i];if(n.originalEvent&&"touch"!==n.pointerType){var e=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var i=this.cursorStyles[t];if(i)switch(void 0===i?"undefined":e(i)){case"string":this.interactionDOMElement.style.cursor=i;break;case"function":i(t);break;case"object":Object.assign(this.interactionDOMElement.style,i)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},i.prototype.dispatchEvent=function(t,i,n){n.stopped||(n.currentTarget=t,n.type=i,t.emit(i,n),t[i]&&t[i](n))},i.prototype.mapPositionToPoint=function(t,i,n){var e=void 0;e=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(i-e.left)*(this.interactionDOMElement.width/e.width)*r,t.y=(n-e.top)*(this.interactionDOMElement.height/e.height)*r},i.prototype.processInteractive=function(t,i,n,e,r){if(!i||!i.visible)return!1;var s=t.data.global,o=!1,u=r=i.interactive||r,h=!0;if(i.hitArea?(e&&(i.worldTransform.applyInverse(s,this._tempPoint),i.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(e=!1,h=!1)),u=!1):i._mask&&e&&(i._mask.containsPoint(s)||(e=!1,h=!1)),h&&i.interactiveChildren&&i.children)for(var a=i.children,c=a.length-1;c>=0;c--){var f=a[c],l=this.processInteractive(t,f,n,e,u);if(l){if(!f.parent)continue;u=!1,l&&(t.target&&(e=!1),o=!0)}}return r&&(e&&!t.target&&!i.hitArea&&i.containsPoint&&i.containsPoint(s)&&(o=!0),i.interactive&&(o&&!t.target&&(t.target=i),n&&n(t,i,!!o))),o},i.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var i=this.normalizeToPointerData(t);this.autoPreventDefault&&i[0].isNormalized&&t.preventDefault();for(var n=i.length,e=0;e<n;e++){var r=i[e],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);if(o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===r.pointerType)this.emit("touchstart",o);else if("mouse"===r.pointerType||"pen"===r.pointerType){var u=2===r.button;this.emit(u?"rightdown":"mousedown",this.eventData)}}}},i.prototype.processPointerDown=function(t,i,n){var e=t.data,r=t.data.identifier;if(n)if(i.trackedPointers[r]||(i.trackedPointers[r]=new u.default(r)),this.dispatchEvent(i,"pointerdown",t),"touch"===e.pointerType)this.dispatchEvent(i,"touchstart",t);else if("mouse"===e.pointerType||"pen"===e.pointerType){var s=2===e.button;s?i.trackedPointers[r].rightDown=!0:i.trackedPointers[r].leftDown=!0,this.dispatchEvent(i,s?"rightdown":"mousedown",t)}},i.prototype.onPointerComplete=function(t,i,n){for(var e=this.normalizeToPointerData(t),r=e.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<r;o++){var u=e[o],h=this.getInteractionDataForPointerId(u),a=this.configureInteractionEventForDOMEvent(this.eventData,u,h);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,n,i||!s),this.emit(i?"pointercancel":"pointerup"+s,a),"mouse"===u.pointerType||"pen"===u.pointerType){var c=2===u.button;this.emit(c?"rightup"+s:"mouseup"+s,a)}else"touch"===u.pointerType&&(this.emit(i?"touchcancel":"touchend"+s,a),this.releaseInteractionDataForPointerId(u.pointerId,h))}},i.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(t,i){var n=t.data,e=t.data.identifier;void 0!==i.trackedPointers[e]&&(delete i.trackedPointers[e],this.dispatchEvent(i,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(i,"touchcancel",t))},i.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},i.prototype.processPointerUp=function(t,i,n){var e=t.data,r=t.data.identifier,s=i.trackedPointers[r],o="touch"===e.pointerType,h="mouse"===e.pointerType||"pen"===e.pointerType,a=!1;if(h){var c=2===e.button,f=u.default.FLAGS,l=c?f.RIGHT_DOWN:f.LEFT_DOWN,v=void 0!==s&&s.flags&l;n?(this.dispatchEvent(i,c?"rightup":"mouseup",t),v&&(this.dispatchEvent(i,c?"rightclick":"click",t),a=!0)):v&&this.dispatchEvent(i,c?"rightupoutside":"mouseupoutside",t),s&&(c?s.rightDown=!1:s.leftDown=!1)}n?(this.dispatchEvent(i,"pointerup",t),o&&this.dispatchEvent(i,"touchend",t),s&&(h&&!a||this.dispatchEvent(i,"pointertap",t),o&&(this.dispatchEvent(i,"tap",t),s.over=!1))):s&&(this.dispatchEvent(i,"pointerupoutside",t),o&&this.dispatchEvent(i,"touchendoutside",t)),s&&s.none&&delete i.trackedPointers[r]},i.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var i=this.normalizeToPointerData(t);"mouse"!==i[0].pointerType&&"pen"!==i[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=i.length,e=0;e<n;e++){var r=i[e],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=t;var u="touch"!==r.pointerType||this.moveWhenInside;this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,u),this.emit("pointermove",o),"touch"===r.pointerType&&this.emit("touchmove",o),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",o)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(t,i,n){var e=t.data,r="touch"===e.pointerType,s="mouse"===e.pointerType||"pen"===e.pointerType;s&&this.processPointerOverOut(t,i,n),this.moveWhenInside&&!n||(this.dispatchEvent(i,"pointermove",t),r&&this.dispatchEvent(i,"touchmove",t),s&&this.dispatchEvent(i,"mousemove",t))},i.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var i=this.normalizeToPointerData(t)[0];"mouse"===i.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(i),e=this.configureInteractionEventForDOMEvent(this.eventData,i,n);e.data.originalEvent=i,this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",e),"mouse"===i.pointerType||"pen"===i.pointerType?this.emit("mouseout",e):this.releaseInteractionDataForPointerId(n.identifier)}},i.prototype.processPointerOverOut=function(t,i,n){var e=t.data,r=t.data.identifier,s="mouse"===e.pointerType||"pen"===e.pointerType,o=i.trackedPointers[r];n&&!o&&(o=i.trackedPointers[r]=new u.default(r)),void 0!==o&&(n&&this.mouseOverRenderer?(o.over||(o.over=!0,this.dispatchEvent(i,"pointerover",t),s&&this.dispatchEvent(i,"mouseover",t)),s&&null===this.cursor&&(this.cursor=i.cursor)):o.over&&(o.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),s&&this.dispatchEvent(i,"mouseout",t),o.none&&delete i.trackedPointers[r]))},i.prototype.onPointerOver=function(t){var i=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(i),e=this.configureInteractionEventForDOMEvent(this.eventData,i,n);e.data.originalEvent=i,"mouse"===i.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",e),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mouseover",e)},i.prototype.getInteractionDataForPointerId=function(t){var i=t.pointerId,n=void 0;return i===f||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[i]?n=this.activeInteractionData[i]:((n=this.interactionDataPool.pop()||new s.default).identifier=i,this.activeInteractionData[i]=n),n.copyEvent(t),n},i.prototype.releaseInteractionDataForPointerId=function(t){var i=this.activeInteractionData[t];i&&(delete this.activeInteractionData[t],i.reset(),this.interactionDataPool.push(i))},i.prototype.configureInteractionEventForDOMEvent=function(t,i,n){return t.data=n,this.mapPositionToPoint(n.global,i.clientX,i.clientY),navigator.isCocoonJS&&"touch"===i.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===i.pointerType&&(i.globalX=n.global.x,i.globalY=n.global.y),n.originalEvent=i,t.reset(),t},i.prototype.normalizeToPointerData=function(t){var i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,e=t.changedTouches.length;n<e;n++){var r=t.changedTouches[n];void 0===r.button&&(r.button=t.touches.length?1:0),void 0===r.buttons&&(r.buttons=t.touches.length?1:0),void 0===r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,i.push(r)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?i.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=f),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,i.push(t));return i},i.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},i}(h.default);i.default=v,r.WebGLRenderer.registerPlugin("interaction",v),r.CanvasRenderer.registerPlugin("interaction",v)},function(t,i,n){"use strict";i.__esModule=!0,i.shared=i.Resource=i.textureParser=i.getResourcePath=i.spritesheetParser=i.parseBitmapFontData=i.bitmapFontParser=i.Loader=void 0;var e=n(185);Object.defineProperty(i,"bitmapFontParser",{enumerable:!0,get:function(){return a(e).default}}),Object.defineProperty(i,"parseBitmapFontData",{enumerable:!0,get:function(){return e.parse}});var r=n(190);Object.defineProperty(i,"spritesheetParser",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(i,"getResourcePath",{enumerable:!0,get:function(){return r.getResourcePath}});var s=n(191);Object.defineProperty(i,"textureParser",{enumerable:!0,get:function(){return a(s).default}});var o=n(53);Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return o.Resource}});var u=a(n(172)),h=a(n(360));function a(t){return t&&t.__esModule?t:{default:t}}i.Loader=h.default;var c=new h.default;c.destroy=function(){},i.shared=c;var f=u.default.prototype;f._loader=null,Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new h.default}return this._loader}}),f._parentDestroy=f.destroy,f.destroy=function(t,i){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t,i)}},function(t,i,n){"use strict";i.__esModule=!0,i.Loader=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),s=a(n(186)),o=a(n(187)),u=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(188)),h=n(109);function a(t){return t&&t.__esModule?t:{default:t}}var c=/(#[\w-]+)?$/,f=i.Loader=function(){function t(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return i._loadResource(t,n)},this._queue=u.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default;for(var r=0;r<t._defaultBeforeMiddleware.length;++r)this.pre(t._defaultBeforeMiddleware[r]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}return t.prototype.add=function(t,i,n,r){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"===(void 0===t?"undefined":e(t))&&(r=i||t.callback||t.onComplete,n=t,i=t.url,t=t.name||t.key||t.url),"string"!=typeof i&&(r=n,n=i,i=t),"string"!=typeof i)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(i=this._prepareUrl(i),this.resources[t]=new h.Resource(t,i,n),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,u=[],a=0;a<o.children.length;++a)o.children[a].isComplete||u.push(o.children[a]);var c=o.progressChunk*(u.length+1)/(u.length+2);o.children.push(this.resources[t]),o.progressChunk=c;for(var f=0;f<u.length;++f)u[f].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var i=this.resources[t];i._onLoadBinding&&i._onLoadBinding.detach(),i.isLoading&&i.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var i=(0,o.default)(t,{strictMode:!0}),n=void 0;if(n=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var e=c.exec(n)[0];-1!==(n=n.substr(0,n.length-e.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=e}return n},t.prototype._loadResource=function(t,i){var n=this;t._dequeue=i,u.eachSeries(this._beforeMiddleware,function(i,e){i.call(n,t,function(){e(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var i=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),u.eachSeries(this._afterMiddleware,function(n,e){n.call(i,t,e)},function(){t.onAfterMiddleware.dispatch(t),i.progress=Math.min(100,i.progress+t.progressChunk),i.onProgress.dispatch(i,t),t.error?i.onError.dispatch(t.error,i,t):i.onLoad.dispatch(i,t),i._resourcesParsing.splice(i._resourcesParsing.indexOf(t),1),i._queue.idle()&&0===i._resourcesParsing.length&&i._onComplete()},!0)},r(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();f._defaultBeforeMiddleware=[],f._defaultAfterMiddleware=[],f.pre=function(t){return f._defaultBeforeMiddleware.push(t),f},f.use=function(t){return f._defaultAfterMiddleware.push(t),f}},function(t,i,n){"use strict";i.__esModule=!0;var e=a(n(53)),r=n(361),s=a(n(34)),o=a(n(191)),u=a(n(190)),h=a(n(185));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function i(n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,e));s.default.call(r);for(var o=0;o<i._pixiMiddleware.length;++o)r.use(i._pixiMiddleware[o]());return r.onStart.add(function(t){return r.emit("start",t)}),r.onProgress.add(function(t,i){return r.emit("progress",t,i)}),r.onError.add(function(t,i,n){return r.emit("error",t,i,n)}),r.onLoad.add(function(t,i){return r.emit("load",t,i)}),r.onComplete.add(function(t,i){return r.emit("complete",t,i)}),r}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)},i.prototype.destroy=function(){this.removeAllListeners(),this.reset()},i}(e.default);for(var f in i.default=c,s.default.prototype)c.prototype[f]=s.default.prototype[f];c._pixiMiddleware=[r.blobMiddlewareFactory,o.default,u.default,h.default];var l=e.default.Resource;l.setExtensionXhrType("fnt",l.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,i,n){"use strict";i.__esModule=!0,i.blobMiddlewareFactory=function(){return function(t,i){if(t.data){if(t.xhr&&t.xhrType===e.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=s.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=e.Resource.TYPE.IMAGE,void(t.data.onload=function(){s.revokeObjectURL(n),t.data.onload=null,i()})}}else{var o=t.xhr.getResponseHeader("content-type");if(o&&0===o.indexOf("image"))return t.data=new Image,t.data.src="data:"+o+";base64,"+(0,r.encodeBinary)(t.xhr.responseText),t.type=e.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,i()})}i()}else i()}};var e=n(109),r=n(189),s=window.URL||window.webkitURL},function(t,i,n){"use strict";i.__esModule=!0;var e=n(54);Object.defineProperty(i,"Mesh",{enumerable:!0,get:function(){return a(e).default}});var r=n(363);Object.defineProperty(i,"MeshRenderer",{enumerable:!0,get:function(){return a(r).default}});var s=n(364);Object.defineProperty(i,"CanvasMeshRenderer",{enumerable:!0,get:function(){return a(s).default}});var o=n(192);Object.defineProperty(i,"Plane",{enumerable:!0,get:function(){return a(o).default}});var u=n(365);Object.defineProperty(i,"NineSlicePlane",{enumerable:!0,get:function(){return a(u).default}});var h=n(366);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"Rope",{enumerable:!0,get:function(){return a(h).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),r=o(n(20)),s=o(n(54));n(24);function o(t){return t&&t.__esModule?t:{default:t}}var u=e.Matrix.IDENTITY,h=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.shader=null,e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new e.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},i.prototype.render=function(t){var i=this.renderer,n=i.gl,o=t._texture;if(o.valid){var h=t._glDatas[i.CONTEXT_UID];h||(i.bindVao(null),(h={shader:this.shader,vertexBuffer:r.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:r.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:r.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty,vertexDirty:t.vertexDirty}).vao=new r.default.VertexArrayObject(n).addIndex(h.indexBuffer).addAttribute(h.vertexBuffer,h.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(h.uvBuffer,h.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[i.CONTEXT_UID]=h),i.bindVao(h.vao),t.dirty!==h.dirty&&(h.dirty=t.dirty,h.uvBuffer.upload(t.uvs)),t.indexDirty!==h.indexDirty&&(h.indexDirty=t.indexDirty,h.indexBuffer.upload(t.indices)),t.vertexDirty!==h.vertexDirty&&(h.vertexDirty=t.vertexDirty,h.vertexBuffer.upload(t.vertices)),i.bindShader(h.shader),h.shader.uniforms.uSampler=i.bindTexture(o),i.state.setBlendMode(e.utils.correctBlendMode(t.blendMode,o.baseTexture.premultipliedAlpha)),h.shader.uniforms.uTransform&&(t.uploadUvTransform?h.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):h.shader.uniforms.uTransform=u.toArray(!0)),h.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),h.shader.uniforms.uColor=e.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,h.shader.uniforms.uColor,o.baseTexture.premultipliedAlpha);var a=t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;h.vao.draw(a,t.indices.length,0)}},i}(e.ObjectRenderer);i.default=h,e.WebGLRenderer.registerPlugin("mesh",h)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=n(54),o=(e=s)&&e.__esModule?e:{default:e};var u=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=i}return t.prototype.render=function(t){var i=this.renderer,n=i.context,e=t.worldTransform,r=i.resolution;i.roundPixels?n.setTransform(e.a*r,e.b*r,e.c*r,e.d*r,e.tx*r|0,e.ty*r|0):n.setTransform(e.a*r,e.b*r,e.c*r,e.d*r,e.tx*r,e.ty*r),i.context.globalAlpha=t.worldAlpha,i.setBlendMode(t.blendMode),t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var i=t.vertices.length/2,n=0;n<i-2;n++){var e=2*n;this._renderDrawTriangle(t,e,e+2,e+4)}},t.prototype._renderTriangles=function(t){for(var i=t.indices,n=i.length,e=0;e<n;e+=3){var r=2*i[e],s=2*i[e+1],o=2*i[e+2];this._renderDrawTriangle(t,r,s,o)}},t.prototype._renderDrawTriangle=function(t,i,n,e){var r=this.renderer.context,s=t.uvs,o=t.vertices,u=t._texture;if(u.valid){var h=u.baseTexture,a=h.source,c=h.width,f=h.height,l=void 0,v=void 0,d=void 0,p=void 0,b=void 0,w=void 0;if(t.uploadUvTransform){var m=t._uvTransform.mapCoord;l=(s[i]*m.a+s[i+1]*m.c+m.tx)*h.width,v=(s[n]*m.a+s[n+1]*m.c+m.tx)*h.width,d=(s[e]*m.a+s[e+1]*m.c+m.tx)*h.width,p=(s[i]*m.b+s[i+1]*m.d+m.ty)*h.height,b=(s[n]*m.b+s[n+1]*m.d+m.ty)*h.height,w=(s[e]*m.b+s[e+1]*m.d+m.ty)*h.height}else l=s[i]*h.width,v=s[n]*h.width,d=s[e]*h.width,p=s[i+1]*h.height,b=s[n+1]*h.height,w=s[e+1]*h.height;var y=o[i],g=o[n],T=o[e],E=o[i+1],O=o[n+1],x=o[e+1],j=t.canvasPadding/this.renderer.resolution;if(j>0){var C=j/Math.abs(t.worldTransform.a),M=j/Math.abs(t.worldTransform.d),A=(y+g+T)/3,S=(E+O+x)/3,I=y-A,R=E-S,P=Math.sqrt(I*I+R*R);y=A+I/P*(P+C),E=S+R/P*(P+M),R=O-S,g=A+(I=g-A)/(P=Math.sqrt(I*I+R*R))*(P+C),O=S+R/P*(P+M),R=x-S,T=A+(I=T-A)/(P=Math.sqrt(I*I+R*R))*(P+C),x=S+R/P*(P+M)}r.save(),r.beginPath(),r.moveTo(y,E),r.lineTo(g,O),r.lineTo(T,x),r.closePath(),r.clip();var _=l*b+p*d+v*w-b*d-p*v-l*w,k=y*b+p*T+g*w-b*T-p*g-y*w,F=l*g+y*d+v*T-g*d-y*v-l*T,N=l*b*T+p*g*d+y*v*w-y*b*d-p*v*T-l*g*w,D=E*b+p*x+O*w-b*x-p*O-E*w,L=l*O+E*d+v*x-O*d-E*v-l*x,U=l*b*x+p*O*d+E*v*w-E*b*d-p*v*x-l*O*w;r.transform(k/_,D/_,F/_,L/_,N/_,U/_),r.drawImage(a,0,0,c*h.resolution,f*h.resolution,0,0,c,f),r.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var i=this.renderer.context,n=t.vertices,e=n.length/2;i.beginPath();for(var r=1;r<e-2;++r){var s=2*r,o=n[s],u=n[s+1],h=n[s+2],a=n[s+3],c=n[s+4],f=n[s+5];i.moveTo(o,u),i.lineTo(h,a),i.lineTo(c,f)}i.fillStyle="#FF0000",i.fill(),i.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();i.default=u,r.CanvasRenderer.registerPlugin("mesh",u)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=o(n(192)),s=o(n(68));function o(t){return t&&t.__esModule?t:{default:t}}var u=10,h=function(t){function i(n,e,r,s,o){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var h=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,4,4));return h._origWidth=n.orig.width,h._origHeight=n.orig.height,h._width=h._origWidth,h._height=h._origHeight,h._leftWidth=void 0!==e?e:u,h._rightWidth=void 0!==s?s:u,h._topHeight=void 0!==r?r:u,h._bottomHeight=void 0!==o?o:u,h._cachedTint=16777215,h._tintedTexture=null,h._canvasUvs=null,h.refresh(!0),h}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.updateHorizontalVertices=function(){var t=this.vertices,i=this._topHeight+this._bottomHeight,n=this._height>i?1:this._height/i;t[9]=t[11]=t[13]=t[15]=this._topHeight*n,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*n,t[25]=t[27]=t[29]=t[31]=this._height},i.prototype.updateVerticalVertices=function(){var t=this.vertices,i=this._leftWidth+this._rightWidth,n=this._width>i?1:this._width/i;t[2]=t[10]=t[18]=t[26]=this._leftWidth*n,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*n,t[6]=t[14]=t[22]=t[30]=this._width},i.prototype._renderCanvas=function(t){var i=t.context,n=this.worldTransform,e=t.resolution,r=16777215!==this.tint,o=this._texture;r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=s.default.getTintedTexture(this,this.tint));var u=r?this._tintedTexture:o.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var h=this.vertices,a=this._canvasUvs,c=r?0:o.frame.x,f=r?0:o.frame.y,l=c+o.frame.width,v=f+o.frame.height;a[0]=c,a[1]=c+this._leftWidth,a[2]=l-this._rightWidth,a[3]=l,a[4]=f,a[5]=f+this._topHeight,a[6]=v-this._bottomHeight,a[7]=v;for(var d=0;d<8;d++)a[d]*=o.baseTexture.resolution;i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.roundPixels?i.setTransform(n.a*e,n.b*e,n.c*e,n.d*e,n.tx*e|0,n.ty*e|0):i.setTransform(n.a*e,n.b*e,n.c*e,n.d*e,n.tx*e,n.ty*e);for(var p=0;p<3;p++)for(var b=0;b<3;b++){var w=2*b+8*p,m=Math.max(1,a[b+1]-a[b]),y=Math.max(1,a[p+5]-a[p+4]),g=Math.max(1,h[w+10]-h[w]),T=Math.max(1,h[w+11]-h[w+1]);i.drawImage(u,a[b],a[p+4],m,y,h[w],h[w+1],g,T)}},i.prototype._refresh=function(){t.prototype._refresh.call(this);var i=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var e=1/this._origWidth,r=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=e*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-e*this._rightWidth,i[9]=i[11]=i[13]=i[15]=r*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},e(i,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),i}(r.default);i.default=h},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(54);var s=function(t){function i(n,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return r.points=e,r.vertices=new Float32Array(4*e.length),r.uvs=new Float32Array(4*e.length),r.colors=new Float32Array(2*e.length),r.indices=new Uint16Array(2*e.length),r.autoUpdate=!0,r.refresh(),r}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var i=this.uvs,n=this.indices,e=this.colors;i[0]=0,i[1]=0,i[2]=0,i[3]=1,e[0]=1,e[1]=1,n[0]=0,n[1]=1;for(var r=t.length,s=1;s<r;s++){var o=4*s,u=s/(r-1);i[o]=u,i[o+1]=0,i[o+2]=u,i[o+3]=1,e[o=2*s]=1,e[o+1]=1,n[o=2*s]=o,n[o+1]=o+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},i.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var i=t[0],n=void 0,e=0,r=0,s=this.vertices,o=t.length,u=0;u<o;u++){var h=t[u],a=4*u;r=-((n=u<t.length-1?t[u+1]:h).x-i.x),e=n.y-i.y;var c=10*(1-u/(o-1));c>1&&(c=1);var f=Math.sqrt(e*e+r*r),l=this._texture.height/2;e/=f,r/=f,e*=l,r*=l,s[a]=h.x+e,s[a+1]=h.y+r,s[a+2]=h.x-e,s[a+3]=h.y-r,i=h}},i.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},i}(((e=r)&&e.__esModule?e:{default:e}).default);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=n(368);Object.defineProperty(i,"ParticleContainer",{enumerable:!0,get:function(){return s(e).default}});var r=n(369);function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"ParticleRenderer",{enumerable:!0,get:function(){return s(r).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}(),r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=n(6);var o=function(t){function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var u=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this));return s>16384&&(s=16384),s>n&&(s=n),u._properties=[!1,!0,!1,!1,!1],u._maxSize=n,u._batchSize=s,u._glBuffers={},u._bufferUpdateIDs=[],u._updateID=0,u.interactiveChildren=!1,u.blendMode=r.BLEND_MODES.NORMAL,u.autoResize=o,u.roundPixels=!0,u.baseTexture=null,u.setProperties(e),u._tint=0,u.tintRgb=new Float32Array(4),u.tint=16777215,u}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){var i=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.onChildrenChange=function(t){for(var i=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var i=t.context,n=this.worldTransform,e=!0,r=0,s=0,o=0,u=0;t.setBlendMode(this.blendMode),i.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var a=this.children[h];if(a.visible){var c=a._texture.frame;if(i.globalAlpha=this.worldAlpha*a.alpha,a.rotation%(2*Math.PI)==0)e&&(i.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),e=!1),r=a.anchor.x*(-c.width*a.scale.x)+a.position.x+.5,s=a.anchor.y*(-c.height*a.scale.y)+a.position.y+.5,o=c.width*a.scale.x,u=c.height*a.scale.y;else{e||(e=!0),a.displayObjectUpdateTransform();var f=a.worldTransform;t.roundPixels?i.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):i.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),r=a.anchor.x*-c.width+.5,s=a.anchor.y*-c.height+.5,o=c.width,u=c.height}var l=a._texture.baseTexture.resolution;i.drawImage(a._texture.baseTexture.source,c.x*l,c.y*l,c.width*l,c.height*l,r*t.resolution,s*t.resolution,o*t.resolution,u*t.resolution)}}}},i.prototype.destroy=function(i){if(t.prototype.destroy.call(this,i),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e(i,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,s.hex2rgb)(t,this.tintRgb)}}]),i}(r.Container);i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),r=u(n(370)),s=u(n(371)),o=n(6);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return r.shader=null,r.indexBuffer=null,r.properties=null,r.tempMatrix=new e.Matrix,r.CONTEXT_UID=0,r}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new r.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},i.prototype.start=function(){this.renderer.bindShader(this.shader)},i.prototype.render=function(t){var i=t.children,n=t._maxSize,r=t._batchSize,s=this.renderer,o=i.length;if(0!==o){o>n&&(o=n);var u=t._glBuffers[s.CONTEXT_UID];u||(u=t._glBuffers[s.CONTEXT_UID]=this.generateBuffers(t));var h=i[0]._texture.baseTexture;this.renderer.setBlendMode(e.utils.correctBlendMode(t.blendMode,h.premultipliedAlpha));var a=s.gl,c=t.worldTransform.copy(this.tempMatrix);c.prepend(s._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=e.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,h.premultipliedAlpha),this.shader.uniforms.uSampler=s.bindTexture(h);for(var f=!1,l=0,v=0;l<o;l+=r,v+=1){var d=o-l;if(d>r&&(d=r),v>=u.length){if(!t.autoResize)break;u.push(this._generateOneMoreBuffer(t))}var p=u[v];p.uploadDynamic(i,l,d);var b=t._bufferUpdateIDs[v]||0;(f=f||p._updateID<b)&&(p._updateID=t._updateID,p.uploadStatic(i,l,d)),s.bindVao(p.vao),p.vao.draw(a.TRIANGLES,6*d)}}},i.prototype.generateBuffers=function(t){for(var i=this.renderer.gl,n=[],e=t._maxSize,r=t._batchSize,o=t._properties,u=0;u<e;u+=r)n.push(new s.default(i,this.properties,o,r));return n},i.prototype._generateOneMoreBuffer=function(t){var i=this.renderer.gl,n=t._batchSize,e=t._properties;return new s.default(i,this.properties,e,n)},i.prototype.uploadVertices=function(t,i,n,e,r,s){for(var o=0,u=0,h=0,a=0,c=0;c<n;++c){var f=t[i+c],l=f._texture,v=f.scale.x,d=f.scale.y,p=l.trim,b=l.orig;p?(o=(u=p.x-f.anchor.x*b.width)+p.width,h=(a=p.y-f.anchor.y*b.height)+p.height):(o=b.width*(1-f.anchor.x),u=b.width*-f.anchor.x,h=b.height*(1-f.anchor.y),a=b.height*-f.anchor.y),e[s]=u*v,e[s+1]=a*d,e[s+r]=o*v,e[s+r+1]=a*d,e[s+2*r]=o*v,e[s+2*r+1]=h*d,e[s+3*r]=u*v,e[s+3*r+1]=h*d,s+=4*r}},i.prototype.uploadPosition=function(t,i,n,e,r,s){for(var o=0;o<n;o++){var u=t[i+o].position;e[s]=u.x,e[s+1]=u.y,e[s+r]=u.x,e[s+r+1]=u.y,e[s+2*r]=u.x,e[s+2*r+1]=u.y,e[s+3*r]=u.x,e[s+3*r+1]=u.y,s+=4*r}},i.prototype.uploadRotation=function(t,i,n,e,r,s){for(var o=0;o<n;o++){var u=t[i+o].rotation;e[s]=u,e[s+r]=u,e[s+2*r]=u,e[s+3*r]=u,s+=4*r}},i.prototype.uploadUvs=function(t,i,n,e,r,s){for(var o=0;o<n;++o){var u=t[i+o]._texture._uvs;u?(e[s]=u.x0,e[s+1]=u.y0,e[s+r]=u.x1,e[s+r+1]=u.y1,e[s+2*r]=u.x2,e[s+2*r+1]=u.y2,e[s+3*r]=u.x3,e[s+3*r+1]=u.y3,s+=4*r):(e[s]=0,e[s+1]=0,e[s+r]=0,e[s+r+1]=0,e[s+2*r]=0,e[s+2*r+1]=0,e[s+3*r]=0,e[s+3*r+1]=0,s+=4*r)}},i.prototype.uploadTint=function(t,i,n,e,r,s){for(var u=0;u<n;++u){var h=t[i+u],a=h._texture.baseTexture.premultipliedAlpha,c=h.alpha,f=c<1&&a?(0,o.premultiplyTint)(h._tintRGB,c):h._tintRGB+(255*c<<24);e[s]=f,e[s+r]=f,e[s+2*r]=f,e[s+3*r]=f,s+=4*r}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},i}(e.ObjectRenderer);i.default=h,e.WebGLRenderer.registerPlugin("particle",h)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=n(52);var s=function(t){function i(n){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i}(((e=r)&&e.__esModule?e:{default:e}).default);i.default=s},function(t,i,n){"use strict";i.__esModule=!0;var e=s(n(20)),r=s(n(108));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(i,n,e,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=i,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var s=0;s<n.length;++s){var o=n[s];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset},e[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,i=0;this.indices=(0,r.default)(this.size),this.indexBuffer=e.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var s=this.dynamicProperties[n];s.offset=i,i+=s.size,this.dynamicStride+=s.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=e.default.GLBuffer.createVertexBuffer(t,o,t.STREAM_DRAW);var u=0;this.staticStride=0;for(var h=0;h<this.staticProperties.length;++h){var a=this.staticProperties[h];a.offset=u,u+=a.size,this.staticStride+=a.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=e.default.GLBuffer.createVertexBuffer(t,c,t.STATIC_DRAW),this.vao=new e.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var f=0;f<this.dynamicProperties.length;++f){var l=this.dynamicProperties[f];l.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,l.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*l.offset):this.vao.addAttribute(this.dynamicBuffer,l.attribute,t.FLOAT,!1,4*this.dynamicStride,4*l.offset)}for(var v=0;v<this.staticProperties.length;++v){var d=this.staticProperties[v];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*d.offset):this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},t.prototype.uploadDynamic=function(t,i,n){for(var e=0;e<this.dynamicProperties.length;e++){var r=this.dynamicProperties[e];r.uploadFunction(t,i,n,r.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,i,n){for(var e=0;e<this.staticProperties.length;e++){var r=this.staticProperties[e];r.uploadFunction(t,i,n,r.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();i.default=o},function(t,i,n){"use strict";i.__esModule=!0;var e=n(373);Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return h(e).default}});var r=n(374);Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return h(r).default}});var s=n(110);Object.defineProperty(i,"BasePrepare",{enumerable:!0,get:function(){return h(s).default}});var o=n(193);Object.defineProperty(i,"CountLimiter",{enumerable:!0,get:function(){return h(o).default}});var u=n(375);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"TimeLimiter",{enumerable:!0,get:function(){return h(u).default}})},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=n(110);var o=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.uploadHookHelper=e.renderer,e.registerFindHook(a),e.registerUploadHook(u),e.registerUploadHook(h),e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i}(((e=s)&&e.__esModule?e:{default:e}).default);function u(t,i){return i instanceof r.BaseTexture&&(i._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(i),!0)}function h(t,i){return i instanceof r.Graphics&&((i.dirty||i.clearDirty||!i._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(i),!0)}function a(t,i){return t instanceof r.Graphics&&(i.push(t),!0)}i.default=o,r.WebGLRenderer.registerPlugin("prepare",o)},function(t,i,n){"use strict";i.__esModule=!0;var e,r=function(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i}(n(5)),s=n(110),o=(e=s)&&e.__esModule?e:{default:e};var u=16,h=function(t){function i(n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,t.call(this,n));return e.uploadHookHelper=e,e.canvas=document.createElement("canvas"),e.canvas.width=u,e.canvas.height=u,e.ctx=e.canvas.getContext("2d"),e.registerUploadHook(a),e}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(i,t),i.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},i}(o.default);function a(t,i){if(i instanceof r.BaseTexture){var n=i.source,e=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),s=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,e,s,0,0,t.canvas.width,t.canvas.height),!0}return!1}i.default=h,r.CanvasRenderer.registerPlugin("prepare",h)},function(t,i,n){"use strict";i.__esModule=!0;var e=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=i,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();i.default=e}]);